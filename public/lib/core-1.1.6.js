/*! For license information please see index.js.LICENSE.txt */
(()=>{var __webpack_modules__={2830:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var o=n(1594),l=n.n(o),a=n(5440),i=n(8294),r=n(1175);const s="xituyun-custom-color-key",d=[{key:"lightColor",title:"\u6d45\u8272\u7cfb",children:[{r:60,g:135,b:247,a:.2},{r:83,g:181,b:94,a:.2},{r:242,g:166,b:59,a:.2},{r:238,g:123,b:96,a:.2},{r:96,g:113,b:246,a:.2},{r:148,g:197,b:60,a:.2},{r:246,g:199,b:69,a:.2},{r:237,g:166,b:125,a:.2},{r:137,g:104,b:246,a:.2},{r:78,g:166,b:248,a:.2},{r:136,g:143,b:148,a:.2},{r:0,g:0,b:0,a:.2},{r:255,g:255,b:255,a:.2,checkIconColor:"#000000"}]},{key:"deepColor",title:"\u6df1\u8272\u7cfb",children:[{r:60,g:135,b:247,a:1},{r:83,g:181,b:94,a:1},{r:242,g:166,b:59,a:1},{r:238,g:123,b:96,a:1},{r:96,g:113,b:246,a:1},{r:148,g:197,b:60,a:1},{r:246,g:199,b:69,a:1},{r:237,g:166,b:125,a:1},{r:137,g:104,b:246,a:1},{r:78,g:166,b:248,a:1},{r:136,g:143,b:148,a:1},{r:0,g:0,b:0,a:1},{r:255,g:255,b:255,a:1,checkIconColor:"#000000"}]}];function u(e){var t,n,u,c,m,p,_,v,b;const[f,E]=(0,o.useState)(),[g,y]=(0,o.useState)([]);function h(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return l().createElement(a.Popover,{placement:"leftTop",title:l().createElement("div",{style:{display:"flex"}},l().createElement("div",{style:{flex:1}},"\u989c\u8272\u9009\u62e9"),l().createElement("div",null,l().createElement(a.Button,{size:"small",danger:!0,onClick:e=>{h(null)}},"\u53bb\u9664\u989c\u8272"))),disabled:e.disabled,destroyTooltipOnHide:!0,trigger:["click"],onOpenChange:function(e){if(e){const e=localStorage.getItem(s);y(JSON.parse(e||"[]"))}else localStorage.setItem(s,JSON.stringify(g||[]))},content:l().createElement("div",{className:r.A.color_picker_box},l().createElement("div",{style:{margin:"10px 0 5px 0"}},"\u9884\u8bbe\u989c\u8272"),d.filter((t=>{var n;return!(null!==(n=e.exclude)&&void 0!==n&&n.includes(t.key))})).map(((t,n)=>{var o;return l().createElement(a.Space,{size:[6,6],wrap:!0,style:{margin:"3px 0"},key:n},null===(o=t.children)||void 0===o?void 0:o.map(((n,o)=>{var r,s,d,u;return l().createElement(a.Button,{key:o,style:{width:24,height:24,background:"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(n.a,")"),color:"lightColor"===t.key?"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", 1)"):"#ffffff",verticalAlign:"middle"},onClick:e=>h({...n,checkIconColor:void 0}),icon:(null===(r=e.value)||void 0===r?void 0:r.r)===n.r&&(null===(s=e.value)||void 0===s?void 0:s.g)===n.g&&(null===(d=e.value)||void 0===d?void 0:d.b)===n.b&&(null===(u=e.value)||void 0===u?void 0:u.a)===n.a&&l().createElement(i.CheckOutlined,{style:{color:n.checkIconColor}}),size:"small"})})))})),!(null!==(t=e.exclude)&&void 0!==t&&t.includes("customColor"))&&l().createElement(l().Fragment,null,l().createElement("div",{style:{margin:"10px 0 5px 0"}},"\u81ea\u5b9a\u4e49\u989c\u8272"),l().createElement("div",{className:r.A.line},l().createElement(a.Space,{size:[6,6],wrap:!0},l().createElement(a.ColorPicker,{placement:"topLeft",format:"rgb",destroyTooltipOnHide:!0,style:{width:"100%"},value:f,onChange:e=>E(e.toRgb()),onOpenChange:e=>function(e){if(e)E();else{if(!f)return;!g.some((e=>e.r===(null===f||void 0===f?void 0:f.r)&&e.g===(null===f||void 0===f?void 0:f.g)&&e.b===(null===f||void 0===f?void 0:f.b)&&e.a===(null===f||void 0===f?void 0:f.a)))&&y([...g,f]),h(f)}}(e)},l().createElement(a.Button,{icon:l().createElement(i.PlusOutlined,null),style:{marginLeft:3,width:24,height:24},size:"small"})),g.map(((t,n)=>{var o,r,s,d;return l().createElement(a.Button,{key:n,style:{width:24,height:24,background:"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")"),color:"#ffffff",verticalAlign:"middle"},onClick:n=>{var o;null===(o=e.onChange)||void 0===o||o.call(e,t)},icon:(null===(o=e.value)||void 0===o?void 0:o.r)===t.r&&(null===(r=e.value)||void 0===r?void 0:r.g)===t.g&&(null===(s=e.value)||void 0===s?void 0:s.b)===t.b&&(null===(d=e.value)||void 0===d?void 0:d.a)===t.a&&l().createElement(i.CheckOutlined,{style:{color:t.checkIconColor}}),size:"small"})}))))))},e.children||l().createElement(a.Button,{style:{width:"100%",...e.style||{},background:"rgba(".concat("number"===typeof(null===(n=e.value)||void 0===n?void 0:n.r)?null===(u=e.value)||void 0===u?void 0:u.r:255,", ").concat("number"===typeof(null===(c=e.value)||void 0===c?void 0:c.g)?null===(m=e.value)||void 0===m?void 0:m.g:255,", ").concat("number"===typeof(null===(p=e.value)||void 0===p?void 0:p.b)?null===(_=e.value)||void 0===_?void 0:_.b:255,", ").concat("number"===typeof(null===(v=e.value)||void 0===v?void 0:v.a)?null===(b=e.value)||void 0===b?void 0:b.a:1,")")},disabled:e.disabled,size:e.size,type:e.type}))}const c=(0,o.memo)(u)},6685:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(8294);const l=(0,o.createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/c/font_4171517_itcpf4wkrw8.js"})},9803:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1594),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);const getVariableValue=(value,props,_ref)=>{let{variableStore:variableStore}=_ref;const _variableValue=value;if(null===_variableValue||void 0===_variableValue||!_variableValue)return _variableValue;if("[object Object]"===Object.prototype.toString.call(_variableValue)&&"variable"===_variableValue.type&&_variableValue.variable){var _result;const state={...variableStore,contextVariable:props.customContexts},app=window.__app__;var result=void 0;const variableString="("+_variableValue.variable+")";try{result=eval(variableString)}catch(err){}return null!==(_result=result)&&void 0!==_result?_result:""}return _variableValue},__WEBPACK_DEFAULT_EXPORT__=getVariableValue},1599:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1594),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),mobx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4497),mobx__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_1__);const setVariableValue=(value,variableValue,props,_ref)=>{let{variableStore:variableStore}=_ref,_variableValue=value;if(null!==_variableValue&&void 0!==_variableValue&&_variableValue)if("[object Object]"===Object.prototype.toString.call(_variableValue)&&"variable"===_variableValue.type&&_variableValue.variable){const state={...variableStore,contextVariable:props.customContexts};try{const variableString="".concat(_variableValue.variable," = ").concat(variableValue);(0,mobx__WEBPACK_IMPORTED_MODULE_1__.runInAction)((()=>{eval(variableString)}))}catch(err){}}else;},__WEBPACK_DEFAULT_EXPORT__=setVariableValue},3228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1594),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6923),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),antd__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5440),antd__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(antd__WEBPACK_IMPORTED_MODULE_2__),_ant_design_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8294),_ant_design_icons__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_ant_design_icons__WEBPACK_IMPORTED_MODULE_3__),_ant_design_pro_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5711),_ant_design_pro_components__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_ant_design_pro_components__WEBPACK_IMPORTED_MODULE_4__),_utils_context__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5632),_module_func__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8602),_styles_module_less__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8350),mobx_react_lite__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5696),mobx_react_lite__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(mobx_react_lite__WEBPACK_IMPORTED_MODULE_8__),dayjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3508),dayjs__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_9__),_sdk_condition__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5020);const app=window.__app__;function getValue(e,t){return("string"===typeof t?[t]:t).forEach((t=>{var n;e=null===(n=e)||void 0===n?void 0:n[t]})),e}const CustomTableView=props=>{var _props$module$data3,_props$module$data3$a,_props$module$data4,_props$module$data4$a,_props$module$data7,_props$module$data7$a,_props$module$data10,_props$module$data10$,_props$module$data11,_props$module$data12,_props$module$data12$,_props$module$data13,_props$module$data13$,_props$module$data14,_props$module$data14$,_props$module$data15,_props$module$data15$,_props$module$data16,_props$module$data16$,_props$module$data18,_props$module$data18$,_props$module$data19,_props$module$data19$,_props$module$data20,_props$module$data20$,_props$module$data23,_props$module$data23$,_props$module$data24,_props$module$data24$,_props$module$data25,_props$module$data25$,_props$module$data26,_props$module$data26$,_props$module$data27,_props$module$data27$,_props$module$data29,_props$module$data29$,_props$module$data30,_props$module$data30$,_props$module$data31,_props$module$data31$;const mobxApp=app.get("contexts.app"),XinFormEditorModulesMap=app.get("modules.formEditor.modules"),XinFormEditorTableFunc=app.get("modules.formEditor.table"),SearchComponent=app.get("modules.formEditor.SearchComponent"),{createScriptContexts:createScriptContexts}=app.get("handles"),{XinScreenEditorModulesMap:XinScreenEditorModulesMap,XinCoverView:XinCoverView,XinTypeView:XinTypeView,XinModuleView:XinModuleView,editorStore:editorStore,core:core,addFunc:addFunc,getVariableValue:getVariableValue,variableStore:variableStore,config:config}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_utils_context__WEBPACK_IMPORTED_MODULE_5__.f),[loading,setloading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),tableRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),formRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),allTextRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),columns=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{var _props$module$data,_props$module$data$at,_props$module$data2,_props$module$data2$a;let arr=(null===(_props$module$data=props.module.data)||void 0===_props$module$data||null===(_props$module$data$at=_props$module$data.attributes)||void 0===_props$module$data$at?void 0:_props$module$data$at.columns)||[];const moduleList=Object.keys(XinFormEditorModulesMap).map((e=>XinFormEditorModulesMap[e]));return arr=arr.map((item=>{const[moduleInfo]=moduleList.filter((e=>e.moduleType===item.moduleType));if(moduleInfo)return{...item,key:void 0,dataIndex:[item.dataIndex],renderFormItem:(e,t,n)=>SearchComponent({column:e,options:t,form:n,module:moduleInfo,moduleType:moduleInfo.moduleType}),render:(text,record,index,action)=>{const fieldString=["record",item.dataIndex||""].filter(Boolean).join("."),value=eval(fieldString);if(item.customRender&&item.script){const e=app.runScriptFunc(item.script),t=createScriptContexts(),n={...t},o=e.main;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(o,{contexts:n,data:{value:value,record:record,index:index,dataIndex:item.dataIndex}})}return value}}})).filter(Boolean),("mobile"===config.deviceType||null!==(_props$module$data2=props.module.data)&&void 0!==_props$module$data2&&null!==(_props$module$data2$a=_props$module$data2.attributes)&&void 0!==_props$module$data2$a&&_props$module$data2$a.showInstance)&&arr.unshift({key:"xins_id",xins_id:!0,title:"\u8bb0\u5f55\u5b9e\u4f8bID",align:"left",fixed:"left",copyable:!1,ellipsis:!0,search:!1,filters:!1,width:160,render:(e,t,n,o)=>{var l;return t._id?"".concat((null===(l=t.createUserInfo)||void 0===l?void 0:l.name)||"\u7cfb\u7edf","\u53d1\u8d77\u7684\u8bb0\u5f55"):e}}),arr}),[null===(_props$module$data3=props.module.data)||void 0===_props$module$data3||null===(_props$module$data3$a=_props$module$data3.attributes)||void 0===_props$module$data3$a?void 0:_props$module$data3$a.columns,null===(_props$module$data4=props.module.data)||void 0===_props$module$data4||null===(_props$module$data4$a=_props$module$data4.attributes)||void 0===_props$module$data4$a?void 0:_props$module$data4$a.showInstance]),actions=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{var e,t,n,o;const l=[];return"mobile"!==config.deviceType&&null!==(e=props.module.data)&&void 0!==e&&null!==(t=e.attributes)&&void 0!==t&&null!==(n=t.actions)&&void 0!==n&&null!==(o=n.filter((e=>e.status)))&&void 0!==o&&o.length&&l.push({title:"\u64cd\u4f5c",key:"actions",fixed:"right",width:150,search:!1,render:(e,t,n,o)=>{var l,a,i;return null===(l=props.module.data)||void 0===l||null===(a=l.attributes)||void 0===a||null===(i=a.actions)||void 0===i?void 0:i.filter((e=>e.status)).map(((e,n)=>{const o=XinFormEditorTableFunc.CustomScriptButtonView;let l;const a={...createScriptContexts(),...editorStore.contexts.moduleIns,...variableStore.contexts};if("render"===e.type){l=app.runScriptFunc(e.code).main}return"render"===e.type?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(l,{contexts:a,data:{recordInfo:t}}):react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:n},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(o,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},recordInfo:t,options:e,refresh:e=>{var t;null===(t=tableRef.current)||void 0===t||t.reload()}},e.title))}))}}),l}),[config.deviceType,null===(_props$module$data7=props.module.data)||void 0===_props$module$data7||null===(_props$module$data7$a=_props$module$data7.attributes)||void 0===_props$module$data7$a?void 0:_props$module$data7$a.actions]),mobileActions=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{var e,t,n,o;let l=[];var a,i,r;"mobile"===config.deviceType&&null!==(e=props.module.data)&&void 0!==e&&null!==(t=e.attributes)&&void 0!==t&&null!==(n=t.actions)&&void 0!==n&&null!==(o=n.filter((e=>e.status)))&&void 0!==o&&o.length&&(l=null===(a=props.module.data)||void 0===a||null===(i=a.attributes)||void 0===i||null===(r=i.actions)||void 0===r?void 0:r.filter((e=>e.status)).map(((e,t)=>{const n=XinFormEditorTableFunc.CustomScriptButtonView;let o;const l={...createScriptContexts(),...editorStore.contexts.moduleIns,...variableStore.contexts};if("render"===e.type){const t=app.runScriptFunc(e.code);o=t.main}return a=>{let{record:i}=a;return"render"===e.type?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(o,{contexts:l,data:{recordInfo:i}}):react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:t},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(n,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},recordInfo:i,options:e,refresh:e=>{var t;null===(t=tableRef.current)||void 0===t||t.reload()}},e.title))}})));return l}),[config.deviceType,null===(_props$module$data10=props.module.data)||void 0===_props$module$data10||null===(_props$module$data10$=_props$module$data10.attributes)||void 0===_props$module$data10$?void 0:_props$module$data10$.actions]),persistenceKey=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{var e;return"xituyun-table-".concat((null===(e=props.module)||void 0===e?void 0:e.moduleId)||"base","-fields-setting")}),[]),reload=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{var t;null===(t=tableRef.current)||void 0===t||t.reload(e)}),[]),reloadAndRest=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{var e;null===(e=tableRef.current)||void 0===e||e.reloadAndRest()}),[]),table=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{null===e||void 0===e||e(tableRef.current)}),[]),setFieldsValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{var t,n;return null===(t=formRef.current)||void 0===t||null===(n=t.form)||void 0===n?void 0:n.setFieldsValue(e)}),[]),resetFields=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{var e,t;return null===(e=formRef.current)||void 0===e||null===(t=e.form)||void 0===t?void 0:t.resetFields()}),[]),form=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{null===e||void 0===e||e(formRef.current)}),[]);return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(XinModuleView,Object.assign({},props,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()([]),style:{...(0,_module_func__WEBPACK_IMPORTED_MODULE_6__.styleObjToStylesFunc)(null===(_props$module$data11=props.module.data)||void 0===_props$module$data11?void 0:_props$module$data11.styles,props,{variableStore:variableStore})},methods:[{label:"\u8868\u6570\u636e\xb7\u5237\u65b0",value:"reload",method:reload,params:""},{label:"\u8868\u6570\u636e\xb7\u91cd\u7f6e\u5e76\u5237\u65b0",value:"reloadAndRest",method:reloadAndRest,params:""},{label:"\u8868\u6570\u636e\xb7\u64cd\u4f5c\u96c6",value:"table",method:table,params:"function (table) {\n            // \u6b64\u5904\u7f16\u5199\u4ee3\u7801\n            console.log(table)\n          }"},{label:"\u8fc7\u6ee4\u9879\xb7\u8d4b\u503c",value:"setFieldsValue",method:setFieldsValue,params:"{}"},{label:"\u8fc7\u6ee4\u9879\xb7\u91cd\u7f6e",value:"resetFields",method:resetFields,params:""},{label:"\u8fc7\u6ee4\u9879\xb7\u64cd\u4f5c\u96c6",value:"form",method:form,params:"function (form) {\n            // \u6b64\u5904\u7f16\u5199\u4ee3\u7801\n            console.log(form)\n          }"}]}),"pc"===config.deviceType?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_pro_components__WEBPACK_IMPORTED_MODULE_4__.ProTable,{headerTitle:react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Space,{size:[15,10]},(null===(_props$module$data12=props.module.data)||void 0===_props$module$data12||null===(_props$module$data12$=_props$module$data12.attributes)||void 0===_props$module$data12$?void 0:_props$module$data12$.title)&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span",null,getVariableValue(null===(_props$module$data13=props.module.data)||void 0===_props$module$data13||null===(_props$module$data13$=_props$module$data13.attributes)||void 0===_props$module$data13$?void 0:_props$module$data13$.title,props,{variableStore:variableStore})),(null===(_props$module$data14=props.module.data)||void 0===_props$module$data14||null===(_props$module$data14$=_props$module$data14.attributes)||void 0===_props$module$data14$?void 0:_props$module$data14$.allSearch)&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Input.Search,{placeholder:"\u7efc\u5408\u641c\u7d22",allowClear:!0,style:{width:200},onSearch:e=>{var t;allTextRef.current=e,null===(t=tableRef.current)||void 0===t||t.reloadAndRest()}})),columns:[...columns,...actions],bordered:!1,ghost:null===(_props$module$data15=props.module.data)||void 0===_props$module$data15||null===(_props$module$data15$=_props$module$data15.attributes)||void 0===_props$module$data15$?void 0:_props$module$data15$.ghost,formRef:formRef,actionRef:tableRef,cardBordered:null===(_props$module$data16=props.module.data)||void 0===_props$module$data16||null===(_props$module$data16$=_props$module$data16.attributes)||void 0===_props$module$data16$?void 0:_props$module$data16$.cardBordered,request:async function(){var e,t,n;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.log("--------\u67e5\u8be2\u53c2\u6570----",o,l,a);const i={...createScriptContexts(),...editorStore.contexts.moduleIns,...variableStore.contexts,screenScripts:null===(e=props.contexts)||void 0===e?void 0:e.screenScripts},r=null===(t=props.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.script;if(r){var s;const e=columns.filter((e=>!e.xins_id)).map((e=>(e.dataIndex||[]).join("."))).filter((e=>"_id"!==e)).filter(Boolean),t=app.runScriptFunc(r);setloading(!0);const n=await(null===(s=t.request)||void 0===s?void 0:s.call(t,i,{params:o,sort:l,filter:a,searchs:{allText:allTextRef.current,allTexts:e}}));return setloading(!1),n}return{data:[],success:!0,total:0}},editable:{type:"multiple"},columnsState:{persistenceKey:persistenceKey,persistenceType:"localStorage"},rowKey:e=>e._id,search:!(null===(_props$module$data18=props.module.data)||void 0===_props$module$data18||null===(_props$module$data18$=_props$module$data18.attributes)||void 0===_props$module$data18$||!_props$module$data18$.searchShow)&&{filterType:null===(_props$module$data19=props.module.data)||void 0===_props$module$data19||null===(_props$module$data19$=_props$module$data19.attributes)||void 0===_props$module$data19$?void 0:_props$module$data19$.filterType},options:{setting:{}},scroll:{x:600},rowSelection:(null===(_props$module$data20=props.module.data)||void 0===_props$module$data20||null===(_props$module$data20$=_props$module$data20.attributes)||void 0===_props$module$data20$?void 0:_props$module$data20$.batchShow)&&{columnWidth:60,fixed:"left",defaultSelectedRowKeys:[],getCheckboxProps:e=>({disabled:!1})},tableAlertRender:e=>{let{selectedRowKeys:t,selectedRows:n,onCleanSelected:o}=e;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Space,null,react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span",null,"\u5df2\u9009 ",t.length," \u9879"),react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Button,{type:"link",size:"small",onClick:o},"\u53d6\u6d88\u9009\u62e9"))},tableAlertOptionRender:e=>{var t,n,o;let{selectedRowKeys:l,selectedRows:a,onCleanSelected:i}=e;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Space,{size:0},null===(t=props.module.data)||void 0===t||null===(n=t.attributes)||void 0===n||null===(o=n.batchActions)||void 0===o?void 0:o.filter((e=>e.status)).map(((e,t)=>{const n=XinFormEditorTableFunc.CustomScriptButtonView;let o;const a={...createScriptContexts(),...editorStore.contexts.moduleIns,...variableStore.contexts};if("render"===e.type){o=app.runScriptFunc(e.code).main}return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:t},"render"===e.type?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(o,{contexts:a,data:{_ids:l}}):react__WEBPACK_IMPORTED_MODULE_0___default().createElement(n,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},_ids:l,recordInfo:void 0,options:e,refresh:e=>{var t;null===(t=tableRef.current)||void 0===t||t.reload()}},e.title))})))},form:{syncToUrl:!1},pagination:{showSizeChanger:!0},dateFormatter:"string",toolBarRender:()=>{var e,t,n;return null===(e=props.module.data)||void 0===e||null===(t=e.attributes)||void 0===t||null===(n=t.toolBarActions)||void 0===n?void 0:n.filter((e=>e.status)).map(((e,t)=>{XinFormEditorTableFunc[e.component];const n=XinFormEditorTableFunc.CustomScriptButtonView;let o;const l={...createScriptContexts(),...editorStore.contexts.moduleIns,...variableStore.contexts};if("render"===e.type){o=app.runScriptFunc(e.code).main}return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:t},"render"===e.type?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(o,{contexts:l,data:{}}):react__WEBPACK_IMPORTED_MODULE_0___default().createElement(n,{buttonProps:{type:"blue"===e.color?"primary":"default",danger:"red"===e.color},recordInfo:void 0,options:e,refresh:e=>{var t;null===(t=tableRef.current)||void 0===t||t.reload()}},e.title))}))}}):react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Space,{direction:"vertical",className:"xins_ant_pro_table_mobile"},(null===(_props$module$data23=props.module.data)||void 0===_props$module$data23||null===(_props$module$data23$=_props$module$data23.attributes)||void 0===_props$module$data23$?void 0:_props$module$data23$.allSearch)&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Card,{styles:{body:{padding:16}},bordered:null===(_props$module$data24=props.module.data)||void 0===_props$module$data24||null===(_props$module$data24$=_props$module$data24.attributes)||void 0===_props$module$data24$?void 0:_props$module$data24$.cardBordered},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Input.Search,{placeholder:"\u7efc\u5408\u641c\u7d22",allowClear:!0,size:"large",onSearch:e=>{var t;console.log(e),allTextRef.current=e,null===(t=tableRef.current)||void 0===t||t.reloadAndRest()}})),react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_pro_components__WEBPACK_IMPORTED_MODULE_4__.ProTable,{headerTitle:getVariableValue(null===(_props$module$data25=props.module.data)||void 0===_props$module$data25||null===(_props$module$data25$=_props$module$data25.attributes)||void 0===_props$module$data25$?void 0:_props$module$data25$.title,props,{variableStore:variableStore}),columns:[...columns,...actions],bordered:!1,ghost:null===(_props$module$data26=props.module.data)||void 0===_props$module$data26||null===(_props$module$data26$=_props$module$data26.attributes)||void 0===_props$module$data26$?void 0:_props$module$data26$.ghost,formRef:formRef,actionRef:tableRef,cardBordered:null===(_props$module$data27=props.module.data)||void 0===_props$module$data27||null===(_props$module$data27$=_props$module$data27.attributes)||void 0===_props$module$data27$?void 0:_props$module$data27$.cardBordered,request:async function(){var e,t,n;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.log("--------\u67e5\u8be2\u53c2\u6570----",o,l,a);const i={...createScriptContexts(),...editorStore.contexts.moduleIns,...variableStore.contexts,screenScripts:null===(e=props.contexts)||void 0===e?void 0:e.screenScripts},r=null===(t=props.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.script;if(r){var s;const e=columns.filter((e=>!e.xins_id)).map((e=>(e.dataIndex||[]).join("."))).filter((e=>"_id"!==e)).filter(Boolean),t=app.runScriptFunc(r);setloading(!0);const n=await(null===(s=t.request)||void 0===s?void 0:s.call(t,i,{params:o,sort:l,filter:a,searchs:{allText:allTextRef.current,allTexts:e}}));return setloading(!1),n}return{data:[],success:!0,total:0}},editable:{type:"multiple"},columnsState:{persistenceKey:persistenceKey,persistenceType:"localStorage"},rowKey:e=>e._id,search:!(null===(_props$module$data29=props.module.data)||void 0===_props$module$data29||null===(_props$module$data29$=_props$module$data29.attributes)||void 0===_props$module$data29$||!_props$module$data29$.searchShow)&&{filterType:null===(_props$module$data30=props.module.data)||void 0===_props$module$data30||null===(_props$module$data30$=_props$module$data30.attributes)||void 0===_props$module$data30$?void 0:_props$module$data30$.filterType},options:{setting:{}},scroll:{x:600},rowSelection:(null===(_props$module$data31=props.module.data)||void 0===_props$module$data31||null===(_props$module$data31$=_props$module$data31.attributes)||void 0===_props$module$data31$?void 0:_props$module$data31$.batchShow)&&{columnWidth:60,fixed:"left",defaultSelectedRowKeys:[],getCheckboxProps:e=>({disabled:!1})},tableAlertRender:e=>{let{selectedRowKeys:t,selectedRows:n,onCleanSelected:o}=e;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Space,null,react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span",null,"\u5df2\u9009 ",t.length," \u9879"),react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Button,{type:"link",size:"small",onClick:o},"\u53d6\u6d88\u9009\u62e9"))},tableRender:(e,t,n)=>{let{toolbar:o,alert:l,table:a}=n},tableExtraRender:(e,t)=>{var n,o;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Spin,{spinning:loading},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Card,{styles:{body:{padding:"0 24px 24px 24px"}},bordered:null===(n=props.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.cardBordered},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_module_less__WEBPACK_IMPORTED_MODULE_7__.A.bottom_line},e.toolbarDom),t.map(((e,t)=>{var n,o,l;const a=null===columns||void 0===columns||null===(n=columns.filter((e=>e.xins_id)))||void 0===n||null===(o=n[0])||void 0===o||null===(l=o.render)||void 0===l?void 0:l.call(o,"-",e,t,null);return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_module_less__WEBPACK_IMPORTED_MODULE_7__.A.row_line,key:t},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Descriptions,{title:a,size:"small",items:columns.filter((e=>!e.xins_id)).slice(0,5).map(((n,o)=>{var l;const a=getValue(e,n.dataIndex);return{key:o,label:n.title,children:(null===(l=n.render)||void 0===l?void 0:l.call(n,a,e,t,null))||a||"-"}}))}),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{style:{textAlign:"right"}},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Space,null,mobileActions.map(((t,n)=>t({record:e}))))))})),!t.length&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Empty,{image:antd__WEBPACK_IMPORTED_MODULE_2__.Empty.PRESENTED_IMAGE_SIMPLE}),react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Pagination,Object.assign({style:{margin:"10px 0"}},e.pagination||{}))))},tableAlertOptionRender:e=>{var t,n,o;let{selectedRowKeys:l,selectedRows:a,onCleanSelected:i}=e;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_2__.Space,{size:0},null===(t=props.module.data)||void 0===t||null===(n=t.attributes)||void 0===n||null===(o=n.batchActions)||void 0===o?void 0:o.filter((e=>e.status)).map(((e,t)=>{const n=XinFormEditorTableFunc.CustomScriptButtonView;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:t},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(n,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},_ids:l,recordInfo:void 0,options:e,refresh:e=>{var t;null===(t=tableRef.current)||void 0===t||t.reload()}},e.title))})))},form:{syncToUrl:!1},pagination:{style:{textAlign:"right",marginTop:10},size:"default",showTotal:(e,t)=>"\u5171\u8ba1 ".concat(e," \u6761"),showSizeChanger:!0},dateFormatter:"string",toolBarRender:()=>{var e,t,n;return null===(e=props.module.data)||void 0===e||null===(t=e.attributes)||void 0===t||null===(n=t.toolBarActions)||void 0===n?void 0:n.filter((e=>e.status)).map(((e,t)=>{XinFormEditorTableFunc[e.component];const n=XinFormEditorTableFunc.CustomScriptButtonView;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:t},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(n,{buttonProps:{type:"blue"===e.color?"primary":"default",danger:"red"===e.color},recordInfo:void 0,options:e,refresh:e=>{var t;null===(t=tableRef.current)||void 0===t||t.reload()}},e.title))}))}})))},__WEBPACK_DEFAULT_EXPORT__=(0,mobx_react_lite__WEBPACK_IMPORTED_MODULE_8__.observer)(CustomTableView)},8602:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createButtonChildrenFunc:()=>c,createCommonOptionFunc:()=>d,createEventsOptionFunc:()=>_,createSeniorOptionFunc:()=>s,createStylesOptionFunc:()=>u,getColor:()=>m,styleObjToStylesFunc:()=>p});var o=n(1594),l=n.n(o),a=n(8294),i=n(9803);const r=window.__app__;const s=e=>({title:"\u9ad8\u7ea7\u5c5e\u6027",children:[(!e.exclude||!e.exclude.includes("script"))&&{component:"ComponentTreeCodeEditorModal",variable:!1,formItemProps:{label:"\u7ec4\u4ef6\u4ee3\u7801",name:["attributes","script"]},props:{buttonProps:{block:!0}}}].filter(Boolean)}),d=e=>({title:"\u901a\u7528\u5c5e\u6027",children:[{component:"BasicInput",variable:!1,formItemProps:{label:"\u7ec4\u4ef6\u540d\u79f0",name:["attributes","componentTitle"]}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u6837\u5f0f\u540d\u79f0",name:["attributes","className"],tooltip:"\u7ed9\u6807\u7b7e\u6dfb\u52a0\u81ea\u5b9a\u4e49ClassName\uff1b\u6ce8\u610f\uff1a\u753b\u9762\u5185\u552f\u4e00\u3002\u5728[\u6837\u5f0f \u2794 CSS\u6e90\u7801]\u4e2d\u81ea\u5b9a\u4e49\u8be5\u7c7b\u6837\u5f0f\u3002"}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u662f\u5426\u9690\u85cf",name:["attributes","hidden"],tooltip:"true\uff1a\u9690\u85cf\uff0cfalse\uff1a\u663e\u793a"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"UniqueId",formItemProps:{label:"\u552f\u4e00\u6807\u8bc6"}}].filter(Boolean)}),u=e=>{const t=e.names||["styles"];return[{title:"\u57fa\u7840\u5c5e\u6027",children:[(!e.exclude||!e.exclude.includes("width"))&&{component:"SizeAndUnit",variable:!0,formItemProps:{label:"\u5bbd\u5ea6",name:[...t,"width"]}},(!e.exclude||!e.exclude.includes("height"))&&{component:"SizeAndUnit",variable:!0,formItemProps:{label:"\u9ad8\u5ea6",name:[...t,"height"]}},(!e.exclude||!e.exclude.includes("opacity"))&&{component:"InputNumberWithSlider",variable:!0,formItemProps:{label:"\u900f\u660e\u5ea6",name:[...t,"opacity"]},props:{min:0,max:1,step:.01}},(!e.exclude||!e.exclude.includes("cursor"))&&{component:"BasicSelect",variable:!0,formItemProps:{label:"\u9f20\u6807\u5f62\u72b6",name:[...t,"cursor"]},props:{options:[{label:"\u81ea\u52a8",value:"auto"},{label:"\u7bad\u5934",value:"default"},{label:"\u624b\u5f62\uff08\u53ef\u70b9\u51fb\uff09",value:"pointer"},{label:"\u79fb\u52a8",value:"move"},{label:"\u6587\u672c",value:"text"},{label:"\u5341\u5b57\u7ebf",value:"crosshair"}],allowClear:!0}},(!e.exclude||!e.exclude.includes("display"))&&{component:"BasicSelect",variable:!0,formItemProps:{label:"\u663e\u793a\u6a21\u5f0f",name:[...t,"display"]},props:{options:[{label:"\u5757\u5143\u7d20",value:"block"},{label:"\u5185\u8054\u5143\u7d20",value:"inline"},{label:"\u5185\u8054\u533a\u5757",value:"inline-block"},{label:"\u5185\u8054\u5f39\u6027\u5e03\u5c40",value:"inline-flex"},{label:"\u5f39\u6027\u5e03\u5c40",value:"flex"},{label:"\u4e0d\u663e\u793a",value:"none"}],allowClear:!0}},{hidden:e=>{var t,n,o;return!["flex","inline-flex"].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.styles)||void 0===o?void 0:o.display)},component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u6392\u5217\u65b9\u5411",name:[...t,"flexDirection"]},props:{options:[{label:"\u6c34\u5e73\u6392\u5217",value:"row"},{label:"\u5782\u76f4\u6392\u5217",value:"column"}]}},{hidden:e=>{var t,n,o;return!["flex","inline-flex"].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.styles)||void 0===o?void 0:o.display)},component:"BasicSelect",variable:!0,formItemProps:{label:"\u6c34\u5e73\u5bf9\u9f50",name:[...t,"justifyContent"]},props:{options:[{label:"\u5c45\u4e2d",value:"center"},{label:"\u8d77\u70b9",value:"flex-start"},{label:"\u7ec8\u70b9",value:"flex-end"},{label:"\u4e24\u7aef",value:"space-between"}],allowClear:!0}},{hidden:e=>{var t,n,o;return!["flex","inline-flex"].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.styles)||void 0===o?void 0:o.display)},component:"BasicSelect",variable:!0,formItemProps:{label:"\u5782\u76f4\u5bf9\u9f50",name:[...t,"alignItems"]},props:{options:[{label:"\u5c45\u4e2d",value:"center"},{label:"\u8d77\u70b9",value:"flex-start"},{label:"\u7ec8\u70b9",value:"flex-end"}],allowClear:!0}},(!e.exclude||!e.exclude.includes("overflow"))&&{component:"BasicSelect",variable:!0,formItemProps:{label:"\u5185\u5bb9\u6ea2\u51fa",name:[...t,"overflow"]},props:{options:[{label:"\u81ea\u52a8",value:"auto"},{label:"\u88c1\u5207",value:"hidden"},{label:"\u6eda\u52a8",value:"scroll"}],allowClear:!0}}].filter(Boolean)},{title:"\u80cc\u666f",children:[(!e.exclude||!e.exclude.includes("backgroundColor"))&&{component:"ColorPicker",variable:!0,formItemProps:{label:"\u989c\u8272",name:[...t,"backgroundColor"]}},(!e.exclude||!e.exclude.includes("backgroundImage"))&&{component:"ImageChoose",variable:!0,formItemProps:{label:"\u56fe\u7247",name:[...t,"backgroundImage"]},props:{}},(!e.exclude||!e.exclude.includes("backgroundSize"))&&{component:"BasicInput",variable:!0,formItemProps:{label:"\u5927\u5c0f",name:[...t,"backgroundSize"]},props:{}},(!e.exclude||!e.exclude.includes("backgroundRepeat"))&&{component:"BasicSelect",variable:!0,formItemProps:{label:"\u91cd\u590d\u65b9\u5f0f",name:[...t,"backgroundRepeat"]},props:{options:[{label:"\u91cd\u590d",value:"repeat"},{label:"\u4e0d\u91cd\u590d",value:"no-repeat"},{label:"\u4ec5X\u8f74\u91cd\u590d",value:"repeat-x"},{label:"\u4ec5Y\u8f74\u91cd\u590d",value:"repeat-y"}],allowClear:!0}},(!e.exclude||!e.exclude.includes("backgroundPosition"))&&{component:"BasicInput",variable:!0,formItemProps:{label:"\u4f4d\u7f6e",name:[...t,"backgroundPosition"]},props:{}}].filter(Boolean)},{title:"\u6587\u5b57",children:[(!e.exclude||!e.exclude.includes("color"))&&{component:"ColorPicker",variable:!0,formItemProps:{label:"\u989c\u8272",name:[...t,"color"]}},(!e.exclude||!e.exclude.includes("fontSize"))&&{component:"InputAndSelect",variable:!0,formItemProps:{label:"\u5b57\u53f7",name:[...t,"fontSize"]},props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}},(!e.exclude||!e.exclude.includes("lineHeight"))&&{component:"InputAndSelect",variable:!0,formItemProps:{label:"\u884c\u9ad8",name:[...t,"lineHeight"]},props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}},(!e.exclude||!e.exclude.includes("letterSpacing"))&&{component:"InputAndSelect",formItemProps:{label:"\u95f4\u8ddd",name:[...t,"letterSpacing"]},props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}},(!e.exclude||!e.exclude.includes("textStyle"))&&{component:"Style_TextFontWeight",formItemProps:{label:"\u6587\u5b57\u6837\u5f0f",name:[...t,"textStyle"]},props:{options:[{label:"\u52a0\u7c97",name:"weight",icon:l().createElement(a.BoldOutlined,null)},{label:"\u503e\u659c",name:"italic",icon:l().createElement(a.ItalicOutlined,null)},{label:"\u4e0b\u5212\u7ebf",name:"underline",icon:l().createElement(a.UnderlineOutlined,null)}]}},(!e.exclude||!e.exclude.includes("textAlign"))&&{component:"IconRadioGroup",variable:!0,formItemProps:{label:"\u5bf9\u9f50\u65b9\u5f0f",name:[...t,"textAlign"]},props:{options:[{label:"\u5c45\u5de6\u5bf9\u9f50",value:"left",icon:l().createElement(a.AlignLeftOutlined,null)},{label:"\u5c45\u4e2d\u5bf9\u9f50",value:"center",icon:l().createElement(a.AlignCenterOutlined,null)},{label:"\u5c45\u53f3\u5bf9\u9f50",value:"right",icon:l().createElement(a.AlignRightOutlined,null)}]}}].filter(Boolean)},{title:"\u5916\u89c2",children:[(!e.exclude||!e.exclude.includes("border"))&&{component:"Style_Border",formItemProps:{label:"\u8fb9\u6846",name:[...t,"border"]}},(!e.exclude||!e.exclude.includes("shadow"))&&{component:"Style_Shadow",formItemProps:{label:"\u9634\u5f71",name:[...t,"shadow"]}},(!e.exclude||!e.exclude.includes("radius"))&&{component:"Style_Radius",formItemProps:{label:"\u5706\u89d2",name:[...t,"radius"]}},(!e.exclude||!e.exclude.includes("margin"))&&{component:"Style_Margin",formItemProps:{label:"\u5916\u95f4\u8ddd",name:[...t,"margin"]}},(!e.exclude||!e.exclude.includes("padding"))&&{component:"Style_Margin",formItemProps:{label:"\u5185\u95f4\u8ddd",name:[...t,"padding"]}}].filter(Boolean)},{title:"\u4f4d\u7f6e",children:[(!e.exclude||!e.exclude.includes("position"))&&{component:"BasicSelect",variable:!0,formItemProps:{label:"\u5b9a\u4f4d\u7c7b\u578b",name:[...t,"position"]},props:{options:[{label:"\u76f8\u5bf9\u5b9a\u4f4d\u951a\u70b9 (relative)",value:"relative"},{label:"\u7236\u7ea7\u951a\u70b9\u5b9a\u4f4d (absolute)",value:"absolute"},{label:"\u6d4f\u89c8\u5668\u7a97\u53e3\u5b9a\u4f4d (fixed)",value:"fixed"},{label:"\u9ecf\u8fde\u5b9a\u4f4d (sticky)",value:"sticky"}],allowClear:!0,popupMatchSelectWidth:!1}},(!e.exclude||!e.exclude.includes("top"))&&{component:"SizeAndUnit",formItemProps:{label:"\u4e0a (Top)",name:[...t,"top"]}},(!e.exclude||!e.exclude.includes("right"))&&{component:"SizeAndUnit",formItemProps:{label:"\u53f3 (Right)",name:[...t,"right"]}},(!e.exclude||!e.exclude.includes("bottom"))&&{component:"SizeAndUnit",formItemProps:{label:"\u4e0b (Bottom)",name:[...t,"bottom"]}},(!e.exclude||!e.exclude.includes("left"))&&{component:"SizeAndUnit",formItemProps:{label:"\u5de6 (Left)",name:[...t,"left"]}},(!e.exclude||!e.exclude.includes("zIndex"))&&{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u5c42\u7ea7",name:[...t,"zIndex"]},props:{step:1}}].filter(Boolean)},{title:"\u9ad8\u7ea7\u914d\u7f6e",children:[(!e.exclude||!e.exclude.includes("_style"))&&{component:"Style_StyleCode",variable:!0,formItemProps:{label:"CSS\u6e90\u7801",name:[...t,"_style"]}}].filter(Boolean)}].filter(Boolean).filter((e=>e.children.length))},c=e=>[{component:"BasicSelect",variable:!0,formItemProps:{label:"\u7c7b\u578b",name:["attributes",...e.names||[],"type"]},props:{options:[{label:"\u9ed8\u8ba4",value:"default"},{label:"\u586b\u5145",value:"primary"},{label:"\u865a\u7ebf\u8fb9\u6846",value:"dashed"},{label:"\u94fe\u63a5",value:"link"},{label:"\u6587\u5b57",value:"text"},{label:"\u5e7d\u7075",value:"ghost"}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5371\u9669\u6309\u94ae",name:["attributes",...e.names||[],"danger"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5e7d\u7075\u6309\u94ae",name:["attributes",...e.names||[],"ghost"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u6587\u5b57",name:["attributes",...e.names||[],"content"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u6309\u94ae\u5927\u5c0f",name:["attributes",...e.names||[],"size"]},props:{options:[{label:"\u9ed8\u8ba4",value:"middle"},{label:"\u5927",value:"large"},{label:"\u5c0f",value:"small"}]}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u7236\u7ea7\u540c\u5bbd",name:["attributes",...e.names||[],"block"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"IconChoose",formItemProps:{label:"\u56fe\u6807",name:["attributes",...e.names||[],"icon"]},props:{}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u52a0\u8f7d\u4e2d",name:["attributes",...e.names||[],"loading"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u8f6c\u4e3aa\u6807\u7b7e",name:["attributes",...e.names||[],"atag"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o,l,a,i,r;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.atag||null!==(l=e.module)&&void 0!==l&&null!==(a=l.data)&&void 0!==a&&null!==(i=a.attributes)&&void 0!==i&&null!==(r=i.button)&&void 0!==r&&r.atag)},component:"BasicInput",variable:!0,formItemProps:{label:"\u8df3\u8f6c\u5730\u5740",name:["attributes",...e.names||[],"href"]}},{hidden:e=>{var t,n,o,l,a,i,r;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.atag||null!==(l=e.module)&&void 0!==l&&null!==(a=l.data)&&void 0!==a&&null!==(i=a.attributes)&&void 0!==i&&null!==(r=i.button)&&void 0!==r&&r.atag)},component:"BasicSelect",variable:!0,formItemProps:{label:"\u8df3\u8f6c\u65b9\u5f0f",name:["attributes",...e.names||[],"target"]},props:{options:[{label:"\u5f53\u524d\u7a97\u53e3\u6253\u5f00",value:"_self"},{label:"\u65b0\u7a97\u53e3\u6253\u5f00",value:"_blank"},{label:"\u7236\u6846\u67b6\u4e2d\u6253\u5f00",value:"_parent"}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u662f\u5426\u7981\u7528",name:["attributes",...e.names||[],"disabled"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}].filter(Boolean),m=e=>"[object Object]"===Object.prototype.toString.call(e)?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):e,p=function(){var e,t,n,o,l;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,{variableStore:d}=arguments.length>2?arguments[2]:void 0;const u={},c=(0,i.A)(a.width,s,{variableStore:d});u.width=c&&"".concat(c.value||"").concat(c.unit||"");const p=(0,i.A)(a.height,s,{variableStore:d});u.height=p&&("auto"===p.unit?void 0:"".concat(p.value||"").concat(p.unit||"")),u.opacity=(0,i.A)(a.opacity,s,{variableStore:d}),u.cursor=(0,i.A)(a.cursor,s,{variableStore:d}),u.display=(0,i.A)(a.display,s,{variableStore:d}),u.flexDirection=(0,i.A)(a.flexDirection,s,{variableStore:d}),u.justifyContent=(0,i.A)(a.justifyContent,s,{variableStore:d}),u.alignItems=(0,i.A)(a.alignItems,s,{variableStore:d}),u.overflow=(0,i.A)(a.overflow,s,{variableStore:d}),u.backgroundColor=m((0,i.A)(a.backgroundColor,s,{variableStore:d}));const _=(0,i.A)(a.backgroundImage,s,{variableStore:d});u.backgroundImage=_?'url("'.concat(null===(e=(t=r.handles).resourceUrl)||void 0===e?void 0:e.call(t,_),'")'):void 0,u.backgroundRepeat=(0,i.A)(a.backgroundRepeat,s,{variableStore:d}),u.backgroundSize=(0,i.A)(a.backgroundSize,s,{variableStore:d}),u.backgroundPosition=(0,i.A)(a.backgroundPosition,s,{variableStore:d}),u.color=m((0,i.A)(a.color,s,{variableStore:d}));const v=(0,i.A)(a.fontSize,s,{variableStore:d});u.fontSize=v?v+"px":void 0;const b=(0,i.A)(a.lineHeight,s,{variableStore:d});u.lineHeight=b?b+"px":void 0;const f=a.letterSpacing;u.letterSpacing=f?f+"px":void 0,u.fontWeight=null!==(n=a.textStyle)&&void 0!==n&&n.weight?"bold":void 0,u.fontStyle=null!==(o=a.textStyle)&&void 0!==o&&o.italic?"italic":void 0,u.textDecoration=null!==(l=a.textStyle)&&void 0!==l&&l.underline?"underline":void 0,u.textAlign=(0,i.A)(a.textAlign,s,{variableStore:d});const E=a.border;var g,y,h,x,w,I,T,C,S,O,P,M;E&&(u.borderTop=E.top?"".concat((null===(g=E.top)||void 0===g?void 0:g.width)||0,"px ").concat((null===(y=E.top)||void 0===y?void 0:y.style)||"solid"," ").concat(m(null===(h=E.top)||void 0===h?void 0:h.color)||""):void 0,u.borderRight=E.right?"".concat((null===(x=E.right)||void 0===x?void 0:x.width)||0,"px ").concat((null===(w=E.right)||void 0===w?void 0:w.style)||"solid"," ").concat(m(null===(I=E.right)||void 0===I?void 0:I.color)||""):void 0,u.borderBottom=E.bottom?"".concat((null===(T=E.bottom)||void 0===T?void 0:T.width)||0,"px ").concat((null===(C=E.bottom)||void 0===C?void 0:C.style)||"solid"," ").concat(m(null===(S=E.bottom)||void 0===S?void 0:S.color)||""):void 0,u.borderLeft=E.left?"".concat((null===(O=E.left)||void 0===O?void 0:O.width)||0,"px ").concat((null===(P=E.left)||void 0===P?void 0:P.style)||"solid"," ").concat(m(null===(M=E.left)||void 0===M?void 0:M.color)||""):void 0);const k=a.shadow;u.boxShadow=k?"".concat(k.type?" inset ":"").concat(k.x||0,"px ").concat(k.x||0,"px ").concat(k.blur||0,"px ").concat(k.spread||0,"px ").concat(m(k.color)||""):void 0;const D=a.radius;u.borderRadius=D?"".concat(D.top||0,"px ").concat(D.right||0,"px ").concat(D.bottom||0,"px ").concat(D.left||0,"px"):void 0;const N=a.margin;u.margin=N?"".concat(N.top||0,"px ").concat(N.right||0,"px ").concat(N.bottom||0,"px ").concat(N.left||0,"px"):void 0;const A=a.padding;u.padding=A?"".concat(A.top||0,"px ").concat(A.right||0,"px ").concat(A.bottom||0,"px ").concat(A.left||0,"px"):void 0,u.position=a.position||void 0;const L=a.top||{};u.top="number"===typeof L.value?"".concat(L.value).concat(L.unit||""):void 0;const F=a.right||{};u.right="number"===typeof F.value?"".concat(F.value).concat(F.unit||""):void 0;const R=a.bottom||{};u.bottom="number"===typeof R.value?"".concat(R.value).concat(R.unit||""):void 0;const B=a.left||{};return u.left="number"===typeof B.value?"".concat(B.value).concat(B.unit||""):void 0,u.zIndex="number"===typeof a.zIndex?a.zIndex:void 0,Object.fromEntries(Object.keys(u).filter((e=>![void 0,null,""].includes(u[e]))).map((e=>[e,u[e]])))},_=()=>[{title:"\u52a8\u4f5c\u914d\u7f6e",children:[{component:"Events_Editor",formItemProps:{name:["events"],noStyle:!0}}]}]},5632:(e,t,n)=>{"use strict";n.d(t,{f:()=>l,s:()=>a});var o=n(1594);const l=(0,o.createContext)(),a=(0,o.createContext)()},4528:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AsideFolder:()=>AsideFolder,Asider:()=>Asider,Block:()=>Block,Body:()=>Body,Carousel:()=>Carousel,CodeEditor:()=>CodeEditor,CodeEditorModal:()=>CodeEditorModal,ColorPicker:()=>ColorPicker,Container:()=>Container,Copy:()=>Copy,Desensitization:()=>Desensitization,EmptyContent:()=>EmptyContent,Header:()=>Header,Iconfont:()=>Iconfont,Page:()=>Page,QrCode:()=>QrCode,RichEditor:()=>RichEditor,RichEditorModal:()=>RichEditorModal,Segment:()=>Segment,Sortable:()=>Sortable,StatisticCard:()=>StatisticCard,Steps:()=>Steps,Tabs:()=>Tabs,Title:()=>Title,ToolTip:()=>ToolTip});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1594),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),antd__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5440),antd__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd__WEBPACK_IMPORTED_MODULE_1__),_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8294),_ant_design_icons__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6923),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4351),copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4__),_dnd_kit_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4725),_dnd_kit_core__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_5__),_dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6508),_dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_6__),_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3814),_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_7__),_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1175),_colorPicker__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2830),_iconfont__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6685),mobx_react_lite__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5696),mobx_react_lite__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(mobx_react_lite__WEBPACK_IMPORTED_MODULE_11__);const app=window.__app__,Title=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.title,style:{...e.style||{}}},e.children))),Header=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.header,style:{...e.style||{}}},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.header_box,e.border?_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.border:""])},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.header_left},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Title,null,e.title)),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.header_right},e.rightContent))))),Asider=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.asider,style:{...e.style||{}}},e.children))),Body=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.body,e.className]),style:{padding:"20px 20px",...e.style||{}}},e.children))),Container=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.container,style:{...e.style||{}}},e.children))),Page=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.page,e.className||""]),style:{...e.style||{}}},e.children))),TabsItem=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.Radio.Button,{key:e.value,value:e.value},e.title))),Tabs=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>{const[t,n]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e.defaultValue);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{n(e.defaultValue)}),[e.moduleId,e.defaultValue]);const o=e.children.filter(Boolean);return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_tabs},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_tabs_header},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.Radio.Group,{defaultValue:e.defaultValue,buttonStyle:"solid",value:t,onChange:e=>{n(e.target.value)}},o)),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_tabs_body},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_tabs_body_box,style:{width:100*o.length+"%",transform:"translateX(-".concat(100/o.length*o.map((e=>e.props.value)).indexOf(t),"%)")}},o.map(((e,t)=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{key:e.props.value,className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_tabs_body_box_item},e.props.children))))))}));Tabs.Item=TabsItem;const StepsItem=e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0___default().Fragment,null),Steps=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(((e,t)=>{(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(t,(()=>({})));const n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>e.children.filter(Boolean)),[e.children]);return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_tabs},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_tabs_header,style:{display:"block"}},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{style:e.headStyle},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.Steps,{current:e.value,size:e.size,items:n.map((e=>e.props))}))),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_tabs_body},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_tabs_body_box,style:{width:100*n.length+"%",transform:"translateX(-".concat(100/n.length*(e.value||0),"%)")}},n.map(((e,t)=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{key:t,className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_tabs_body_box_item},e.props.children))))))})));Steps.Item=StepsItem;const Block=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_block,e.border?_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.border:null])},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_block_header},e.title||"\u6807\u9898",e.tooltip&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ToolTip,{title:e.tooltip})),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_block_body},e.children)))),AsideFolder=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>{const[t,n]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0);return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_aside_folder,_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A[e.direction],t?null:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.fold]),style:{width:t?e.width:0}},e.foldable&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.folder_bar,onClick:e=>n(!t)},"left"===e.direction?t?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__.DoubleLeftOutlined,null):react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__.DoubleRightOutlined,null):t?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__.DoubleRightOutlined,null):react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__.DoubleLeftOutlined,null)),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.aside,style:{width:e.width}},e.children))})),Carousel=(0,mobx_react_lite__WEBPACK_IMPORTED_MODULE_11__.observer)((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(((e,t)=>{var n;(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(t,(()=>({next:c,prev:m,goTo:p})));const o=app.get("hooks.useStateWithRef"),[l,a,i]=o(0),r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(s(),()=>{d()})),[e.autoplay]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{a(e.activeKey)}),[e.activeKey]);const s=()=>{e.autoplay&&(r.current=setInterval((()=>{i.current+1>e.children.length-1?a(0):a(i.current+1)}),3e3))},d=()=>{r.current&&(clearInterval(r.current),r.current=null)},u=()=>{d(),s()},c=()=>{i.current+1>e.children.length-1?a(0):a(i.current+1),u()},m=()=>{0===i.current?a(e.children.length-1):a(i.current-1),u()},p=t=>{t>=0&&t<=e.children.length-1&&(a(t),u())};return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.xin_carousel,e.className]),style:{...e.style||{}}},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.carousel_box,onMouseOver:e=>{d()},onMouseLeave:e=>{s()}},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.carousel_list,style:{width:e.children.length+"00%",marginLeft:-100*l+"%"}},e.children.map(((e,t)=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{style:{flex:1},key:t},e))))),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.carousel_dots},!1!==e.dots&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.dots_box,style:{transform:"translateY(-".concat(e.dotOffsetY||20,"px)")}},null===(n=e.children)||void 0===n?void 0:n.map(((t,n)=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{key:n,className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.dot,l===n?_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.active:""]),onClick:t=>{a(n),e.beforeChange&&e.beforeChange(n),d(),s()}}))))))}))),Segment=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>{var t;const[n,o]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e.defaultValue);return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.segmented},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.segmented_header},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.Segmented,{style:{margin:"0 auto"},options:e.options||[],onChange:e=>{o(e)}})),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.segmented_body},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.segmented_body_box,style:{width:100*(e.options||[]).length+"%",transform:"translateX(-".concat((e.options||[]).map((e=>e.value)).indexOf(n)*(100/(e.options||[]).length),"%)")}},null===(t=e.options)||void 0===t?void 0:t.map(((e,t)=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.segmented_body_box_item,key:t},e.children))))))})),EmptyContent=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.Empty,{description:e.description||"\u6682\u65e0\u5185\u5bb9"})))),StatisticCard=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>{var t;return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.statistic_card,style:e.style},null===(t=e.options)||void 0===t?void 0:t.map(((t,n)=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.item,e.bordered&&_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.border]),key:n},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.icon,_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A[t.color||"blue"]])},t.icon),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.right},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.label,"ellipsis"])},t.label),react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.Tooltip,{title:t.value},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()([_styles_component_xin_less__WEBPACK_IMPORTED_MODULE_8__.A.value,"ellipsis"])},t.render?t.render(t):t.value||"-")))))))})),SortableItem=(0,mobx_react_lite__WEBPACK_IMPORTED_MODULE_11__.observer)((e=>{var t;const n=e.item.id,{attributes:o,listeners:l,setNodeRef:a,setActivatorNodeRef:i,transform:r,transition:s,isDragging:d}=(0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_7__.useSortable)({id:n});return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:n},null===(t=e.itemRender)||void 0===t?void 0:t.call(e,{item:e.item.data,index:e.index,itemProps:{ref:a,key:n,...o,style:{transition:"unset",...r?{transform:"translate3d(".concat(r.x,"px, ").concat(r.y,"px, 0)"),transition:d?"unset":s,zIndex:d&&10}:{}}},handleProps:{ref:i,...l,style:{cursor:d?"grabbing":"grab"}}}))})),Sortable=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((props=>{var _props$value3,_props$value4;const sensors=(0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_5__.useSensors)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_5__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_5__.PointerSensor,{activationConstraint:{distance:5}})),directionInfo=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({vertical:{modifiers:[_dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_6__.restrictToVerticalAxis],strategy:_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_7__.verticalListSortingStrategy},horizontal:{modifiers:[_dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_6__.restrictToHorizontalAxis],strategy:_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_7__.horizontalListSortingStrategy}}[props.direction||"auto"])),[props.direction]),handleDragEnd=e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){var o,l,a;const e=null===(o=props.value)||void 0===o?void 0:o.findIndex((e=>getKeyValue(e,props.itemKeyName)===t.id)),i=null===(l=props.value)||void 0===l?void 0:l.findIndex((e=>getKeyValue(e,props.itemKeyName)===n.id)),r=(0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_7__.arrayMove)(props.value,e,i);null===(a=props.onChange)||void 0===a||a.call(props,r)}};function getKeyValue(obj,path){if("string"===typeof path)return obj[path||"key"];if(Array.isArray(path)){const str=["obj",...path||["key"]].join(".");var result;try{result=eval(str)}catch(err){console.error("[itemKeyName]\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u6216\u6570\u7ec4")}return result}}return props.value&&Array.isArray(props.value)&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_5__.DndContext,{sensors:sensors,modifiers:null===directionInfo||void 0===directionInfo?void 0:directionInfo.modifiers,onDragEnd:handleDragEnd,collisionDetection:_dnd_kit_core__WEBPACK_IMPORTED_MODULE_5__.closestCenter},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_7__.SortableContext,{items:null===(_props$value3=props.value)||void 0===_props$value3?void 0:_props$value3.map((e=>({id:getKeyValue(e,props.itemKeyName),data:e}))),strategy:null===directionInfo||void 0===directionInfo?void 0:directionInfo.strategy},null===(_props$value4=props.value)||void 0===_props$value4?void 0:_props$value4.map((e=>({id:getKeyValue(e,props.itemKeyName),data:e}))).map(((e,t)=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:e.id},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SortableItem,Object.assign({},props,{item:e,index:t})))))))})),QrCode=(0,mobx_react_lite__WEBPACK_IMPORTED_MODULE_11__.observer)((e=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.Popover,{destroyTooltipOnHide:!0,overlayInnerStyle:{padding:0},content:react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0___default().Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{style:{textAlign:"center",paddingTop:10}},"\u626b\u7801\u5230\u624b\u673a"),react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.QRCode,{value:e.value,bordered:!1}))},e.children||react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__.QrcodeOutlined,{style:{color:"#1890ff",cursor:"pointer"}})))),ToolTip=(0,mobx_react_lite__WEBPACK_IMPORTED_MODULE_11__.observer)((e=>e.title&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.Tooltip,{title:e.title,overlayStyle:{maxWidth:e.width}},e.children||react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__.QuestionCircleOutlined,{style:{color:"rgba(0, 0, 0, 0.45)",cursor:"help",marginLeft:e.gutter||5,marginRight:e.gutter||5}})))),Copy=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>{const[t,n]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0___default().Fragment,null,t?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__.CheckOutlined,{style:{color:"#52c41a"}}):react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span",{onClick:t=>{e.value?(copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4___default()(e.value),n(!0),setTimeout((()=>n(!1)),3e3)):antd__WEBPACK_IMPORTED_MODULE_1__.message.warning("\u65e0\u5185\u5bb9")}},e.children||react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.Tooltip,{title:"\u590d\u5236"},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__.CopyOutlined,{style:{color:"#1890ff",cursor:"pointer"}}))))})),Desensitization=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)((e=>{const[t,n]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0___default().Fragment,null,t?react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__.EyeInvisibleOutlined,{style:{color:"#52c41a"}}):react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span",{onClick:t=>{e.value?(copy_to_clipboard__WEBPACK_IMPORTED_MODULE_4___default()(e.value),n(!0),setTimeout((()=>n(!1)),3e3)):antd__WEBPACK_IMPORTED_MODULE_1__.message.warning("\u65e0\u5185\u5bb9")}},e.children||react__WEBPACK_IMPORTED_MODULE_0___default().createElement(antd__WEBPACK_IMPORTED_MODULE_1__.Tooltip,{title:"\u663e\u793a"},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_2__.EyeOutlined,{style:{color:"#1890ff",cursor:"pointer"}}))))})),CodeEditor=e=>{const t=app.get("modules.components.codeEditor");return t&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement(t,e)},CodeEditorModal=e=>{const t=app.get("modules.components.codeEditorModal");return t&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement(t,e)},RichEditor=e=>{const t=app.get("modules.components.richEditor");return t&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement(t,e)},RichEditorModal=e=>{const t=app.get("modules.components.richEditorModal");return t&&react__WEBPACK_IMPORTED_MODULE_0___default().createElement(t,e)},ColorPicker=_colorPicker__WEBPACK_IMPORTED_MODULE_9__.A,Iconfont=_iconfont__WEBPACK_IMPORTED_MODULE_10__.A},5020:(e,t,n)=>{"use strict";n.d(t,{W:()=>l,p:()=>a});const o=window.__app__;async function l(e){const{createScriptContexts:t}=o.get("handles");async function n(e){var n,l,a,i;let r=null===(n=e.value)||void 0===n?void 0:n.value;if(["code","preset"].includes(null===(l=e.value)||void 0===l?void 0:l.type)){var s;const n=o.runScriptFunc(null===(s=e.value)||void 0===s?void 0:s.code),l=t();r=await n.main({...l},void 0)}return"$notincludes"===(null===(a=e.symbol)||void 0===a?void 0:a.value)?{$notincludes:{$includes:new RegExp(r)}}:"$includes"===(null===(i=e.symbol)||void 0===i?void 0:i.value)?{$includes:new RegExp(r)}:"code"===(null===(d=e.value)||void 0===d?void 0:d.type)&&null!==(u=e.value)&&void 0!==u&&u.range?{$gte:r[0],$lt:r[1]}:{[null===(c=e.symbol)||void 0===c?void 0:c.value]:r};var d,u,c}return{$or:await(null===e||void 0===e?void 0:e.asyncmap((async e=>({$and:await(null===e||void 0===e?void 0:e.asyncmap((async e=>{var t,o,l;return{[["create_time","_id"].includes(null===(t=e.field)||void 0===t?void 0:t.value)?null===(o=e.field)||void 0===o?void 0:o.value:"values.".concat(null===(l=e.field)||void 0===l?void 0:l.value)]:await n(e)}})))}))))}}const a=e=>{const t=o.get("modules.formEditor.modules");return["unique_id",...e.map((e=>{var n,o,l;const a=t[e.moduleType],i=(null===a||void 0===a||null===(n=a.config)||void 0===n?void 0:n.textSearch)||"",r=(null===(o=e.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.fieldname)||e.moduleId;return i?["values",r,"value"===i?"":i].filter(Boolean).join("."):""})).filter(Boolean)]}},8746:()=>{Array.prototype.asyncmap=async function(e){const t=[];for(let n=0;n<this.length;n++){const o=this[n];t.push(await e(o,n))}return t}},132:function(e,t,n){var o;e=n.nmd(e),function(){var l,a="Expected a function",i="__lodash_hash_undefined__",r="__lodash_placeholder__",s=16,d=32,u=64,c=128,m=256,p=1/0,_=9007199254740991,v=NaN,b=4294967295,f=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",d],["partialRight",u],["rearg",m]],E="[object Arguments]",g="[object Array]",y="[object Boolean]",h="[object Date]",x="[object Error]",w="[object Function]",I="[object GeneratorFunction]",T="[object Map]",C="[object Number]",S="[object Object]",O="[object Promise]",P="[object RegExp]",M="[object Set]",k="[object String]",D="[object Symbol]",N="[object WeakMap]",A="[object ArrayBuffer]",L="[object DataView]",F="[object Float32Array]",R="[object Float64Array]",B="[object Int8Array]",V="[object Int16Array]",U="[object Int32Array]",Y="[object Uint8Array]",z="[object Uint8ClampedArray]",j="[object Uint16Array]",q="[object Uint32Array]",X=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,H=RegExp($.source),G=RegExp(J.source),Q=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,le=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(le.source),ie=/^\s+/,re=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,de=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,me=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,be=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,Ee=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,he=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Ie="\\ud800-\\udfff",Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ke="['\u2019]",De="["+Ie+"]",Ne="["+Me+"]",Ae="["+Te+"]",Le="\\d+",Fe="["+Ce+"]",Re="["+Se+"]",Be="[^"+Ie+Me+Le+Ce+Se+Oe+"]",Ve="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Ie+"]",Ye="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Oe+"]",qe="\\u200d",Xe="(?:"+Re+"|"+Be+")",We="(?:"+je+"|"+Be+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",$e="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Je="(?:"+Ae+"|"+Ve+")"+"?",He="["+Pe+"]?",Ge=He+Je+("(?:"+qe+"(?:"+[Ue,Ye,ze].join("|")+")"+He+Je+")*"),Qe="(?:"+[Fe,Ye,ze].join("|")+")"+Ge,Ze="(?:"+[Ue+Ae+"?",Ae,Ye,ze,De].join("|")+")",et=RegExp(ke,"g"),tt=RegExp(Ae,"g"),nt=RegExp(Ve+"(?="+Ve+")|"+Ze+Ge,"g"),ot=RegExp([je+"?"+Re+"+"+Ke+"(?="+[Ne,je,"$"].join("|")+")",We+"+"+$e+"(?="+[Ne,je+Xe,"$"].join("|")+")",je+"?"+Xe+"+"+Ke,je+"+"+$e,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Qe].join("|"),"g"),lt=RegExp("["+qe+Ie+Te+Pe+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,st={};st[F]=st[R]=st[B]=st[V]=st[U]=st[Y]=st[z]=st[j]=st[q]=!0,st[E]=st[g]=st[A]=st[y]=st[L]=st[h]=st[x]=st[w]=st[T]=st[C]=st[S]=st[P]=st[M]=st[k]=st[N]=!1;var dt={};dt[E]=dt[g]=dt[A]=dt[L]=dt[y]=dt[h]=dt[F]=dt[R]=dt[B]=dt[V]=dt[U]=dt[T]=dt[C]=dt[S]=dt[P]=dt[M]=dt[k]=dt[D]=dt[Y]=dt[z]=dt[j]=dt[q]=!0,dt[x]=dt[w]=dt[N]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,mt=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,_t="object"==typeof self&&self&&self.Object===Object&&self,vt=pt||_t||Function("return this")(),bt=t&&!t.nodeType&&t,ft=bt&&e&&!e.nodeType&&e,Et=ft&&ft.exports===bt,gt=Et&&pt.process,yt=function(){try{var e=ft&&ft.require&&ft.require("util").types;return e||gt&&gt.binding&&gt.binding("util")}catch(t){}}(),ht=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,wt=yt&&yt.isMap,It=yt&&yt.isRegExp,Tt=yt&&yt.isSet,Ct=yt&&yt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t,n,o){for(var l=-1,a=null==e?0:e.length;++l<a;){var i=e[l];t(o,i,n(i),e)}return o}function Pt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,o=null==e?0:e.length,l=0,a=[];++n<o;){var i=e[n];t(i,n,e)&&(a[l++]=i)}return a}function Nt(e,t){return!!(null==e?0:e.length)&&jt(e,t,0)>-1}function At(e,t,n){for(var o=-1,l=null==e?0:e.length;++o<l;)if(n(t,e[o]))return!0;return!1}function Lt(e,t){for(var n=-1,o=null==e?0:e.length,l=Array(o);++n<o;)l[n]=t(e[n],n,e);return l}function Ft(e,t){for(var n=-1,o=t.length,l=e.length;++n<o;)e[l+n]=t[n];return e}function Rt(e,t,n,o){var l=-1,a=null==e?0:e.length;for(o&&a&&(n=e[++l]);++l<a;)n=t(n,e[l],l,e);return n}function Bt(e,t,n,o){var l=null==e?0:e.length;for(o&&l&&(n=e[--l]);l--;)n=t(n,e[l],l,e);return n}function Vt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}var Ut=Kt("length");function Yt(e,t,n){var o;return n(e,(function(e,n,l){if(t(e,n,l))return o=n,!1})),o}function zt(e,t,n,o){for(var l=e.length,a=n+(o?1:-1);o?a--:++a<l;)if(t(e[a],a,e))return a;return-1}function jt(e,t,n){return t===t?function(e,t,n){var o=n-1,l=e.length;for(;++o<l;)if(e[o]===t)return o;return-1}(e,t,n):zt(e,Xt,n)}function qt(e,t,n,o){for(var l=n-1,a=e.length;++l<a;)if(o(e[l],t))return l;return-1}function Xt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Ht(e,t)/n:v}function Kt(e){return function(t){return null==t?l:t[e]}}function $t(e){return function(t){return null==e?l:e[t]}}function Jt(e,t,n,o,l){return l(e,(function(e,l,a){n=o?(o=!1,e):t(n,e,l,a)})),n}function Ht(e,t){for(var n,o=-1,a=e.length;++o<a;){var i=t(e[o]);i!==l&&(n=n===l?i:n+i)}return n}function Gt(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function Qt(e){return e?e.slice(0,bn(e)+1).replace(ie,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Lt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,o=e.length;++n<o&&jt(t,e[n],0)>-1;);return n}function on(e,t){for(var n=e.length;n--&&jt(t,e[n],0)>-1;);return n}var ln=$t({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=$t({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(e){return"\\"+ut[e]}function sn(e){return lt.test(e)}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}function un(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,o=e.length,l=0,a=[];++n<o;){var i=e[n];i!==t&&i!==r||(e[n]=r,a[l++]=n)}return a}function mn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function _n(e){return sn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Ut(e)}function vn(e){return sn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function bn(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var fn=$t({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var En=function e(t){var n=(t=null==t?vt:En.defaults(vt.Object(),t,En.pick(vt,it))).Array,o=t.Date,re=t.Error,Ie=t.Function,Te=t.Math,Ce=t.Object,Se=t.RegExp,Oe=t.String,Pe=t.TypeError,Me=n.prototype,ke=Ie.prototype,De=Ce.prototype,Ne=t["__core-js_shared__"],Ae=ke.toString,Le=De.hasOwnProperty,Fe=0,Re=function(){var e=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Be=De.toString,Ve=Ae.call(Ce),Ue=vt._,Ye=Se("^"+Ae.call(Le).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=Et?t.Buffer:l,je=t.Symbol,qe=t.Uint8Array,Xe=ze?ze.allocUnsafe:l,We=un(Ce.getPrototypeOf,Ce),Ke=Ce.create,$e=De.propertyIsEnumerable,Je=Me.splice,He=je?je.isConcatSpreadable:l,Ge=je?je.iterator:l,Qe=je?je.toStringTag:l,Ze=function(){try{var e=ma(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,lt=o&&o.now!==vt.Date.now&&o.now,ut=t.setTimeout!==vt.setTimeout&&t.setTimeout,pt=Te.ceil,_t=Te.floor,bt=Ce.getOwnPropertySymbols,ft=ze?ze.isBuffer:l,gt=t.isFinite,yt=Me.join,Ut=un(Ce.keys,Ce),$t=Te.max,gn=Te.min,yn=o.now,hn=t.parseInt,xn=Te.random,wn=Me.reverse,In=ma(t,"DataView"),Tn=ma(t,"Map"),Cn=ma(t,"Promise"),Sn=ma(t,"Set"),On=ma(t,"WeakMap"),Pn=ma(Ce,"create"),Mn=On&&new On,kn={},Dn=Ba(In),Nn=Ba(Tn),An=Ba(Cn),Ln=Ba(Sn),Fn=Ba(On),Rn=je?je.prototype:l,Bn=Rn?Rn.valueOf:l,Vn=Rn?Rn.toString:l;function Un(e){if(tr(e)&&!qi(e)&&!(e instanceof qn)){if(e instanceof jn)return e;if(Le.call(e,"__wrapped__"))return Va(e)}return new jn(e)}var Yn=function(){function e(){}return function(t){if(!er(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=l,n}}();function zn(){}function jn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=l}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=b,this.__views__=[]}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Hn(e,t){var n=qi(e),o=!n&&ji(e),l=!n&&!o&&$i(e),a=!n&&!o&&!l&&dr(e),i=n||o||l||a,r=i?Gt(e.length,Oe):[],s=r.length;for(var d in e)!t&&!Le.call(e,d)||i&&("length"==d||l&&("offset"==d||"parent"==d)||a&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||ga(d,s))||r.push(d);return r}function Gn(e){var t=e.length;return t?e[Jo(0,t-1)]:l}function Qn(e,t){return La(Ml(e),ro(t,0,e.length))}function Zn(e){return La(Ml(e))}function eo(e,t,n){(n!==l&&!Ui(e[t],n)||n===l&&!(t in e))&&ao(e,t,n)}function to(e,t,n){var o=e[t];Le.call(e,t)&&Ui(o,n)&&(n!==l||t in e)||ao(e,t,n)}function no(e,t){for(var n=e.length;n--;)if(Ui(e[n][0],t))return n;return-1}function oo(e,t,n,o){return po(e,(function(e,l,a){t(o,e,n(e),a)})),o}function lo(e,t){return e&&kl(t,kr(t),e)}function ao(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function io(e,t){for(var o=-1,a=t.length,i=n(a),r=null==e;++o<a;)i[o]=r?l:Cr(e,t[o]);return i}function ro(e,t,n){return e===e&&(n!==l&&(e=e<=n?e:n),t!==l&&(e=e>=t?e:t)),e}function so(e,t,n,o,a,i){var r,s=1&t,d=2&t,u=4&t;if(n&&(r=a?n(e,o,a,i):n(e)),r!==l)return r;if(!er(e))return e;var c=qi(e);if(c){if(r=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ml(e,r)}else{var m=va(e),p=m==w||m==I;if($i(e))return Il(e,s);if(m==S||m==E||p&&!a){if(r=d||p?{}:fa(e),!s)return d?function(e,t){return kl(e,_a(e),t)}(e,function(e,t){return e&&kl(t,Dr(t),e)}(r,e)):function(e,t){return kl(e,pa(e),t)}(e,lo(r,e))}else{if(!dt[m])return a?e:{};r=function(e,t,n){var o=e.constructor;switch(t){case A:return Tl(e);case y:case h:return new o(+e);case L:return function(e,t){var n=t?Tl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case F:case R:case B:case V:case U:case Y:case z:case j:case q:return Cl(e,n);case T:return new o;case C:case k:return new o(e);case P:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return new o;case D:return l=e,Bn?Ce(Bn.call(l)):{}}var l}(e,m,s)}}i||(i=new Jn);var _=i.get(e);if(_)return _;i.set(e,r),ir(e)?e.forEach((function(o){r.add(so(o,t,n,o,e,i))})):nr(e)&&e.forEach((function(o,l){r.set(l,so(o,t,n,l,e,i))}));var v=c?l:(u?d?aa:la:d?Dr:kr)(e);return Pt(v||e,(function(o,l){v&&(o=e[l=o]),to(r,l,so(o,t,n,l,e,i))})),r}function uo(e,t,n){var o=n.length;if(null==e)return!o;for(e=Ce(e);o--;){var a=n[o],i=t[a],r=e[a];if(r===l&&!(a in e)||!i(r))return!1}return!0}function co(e,t,n){if("function"!=typeof e)throw new Pe(a);return ka((function(){e.apply(l,n)}),t)}function mo(e,t,n,o){var l=-1,a=Nt,i=!0,r=e.length,s=[],d=t.length;if(!r)return s;n&&(t=Lt(t,Zt(n))),o?(a=At,i=!1):t.length>=200&&(a=tn,i=!1,t=new $n(t));e:for(;++l<r;){var u=e[l],c=null==n?u:n(u);if(u=o||0!==u?u:0,i&&c===c){for(var m=d;m--;)if(t[m]===c)continue e;s.push(u)}else a(t,c,o)||s.push(u)}return s}Un.templateSettings={escape:Q,evaluate:Z,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=zn.prototype,Un.prototype.constructor=Un,jn.prototype=Yn(zn.prototype),jn.prototype.constructor=jn,qn.prototype=Yn(zn.prototype),qn.prototype.constructor=qn,Xn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Xn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Xn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===i?l:n}return Le.call(t,e)?t[e]:l},Xn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==l:Le.call(t,e)},Xn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===l?i:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=no(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=no(t,e);return n<0?l:t[n][1]},Wn.prototype.has=function(e){return no(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,o=no(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Xn,map:new(Tn||Wn),string:new Xn}},Kn.prototype.delete=function(e){var t=ua(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return ua(this,e).get(e)},Kn.prototype.has=function(e){return ua(this,e).has(e)},Kn.prototype.set=function(e,t){var n=ua(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},$n.prototype.add=$n.prototype.push=function(e){return this.__data__.set(e,i),this},$n.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var o=n.__data__;if(!Tn||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(o)}return n.set(e,t),this.size=n.size,this};var po=Al(ho),_o=Al(xo,!0);function vo(e,t){var n=!0;return po(e,(function(e,o,l){return n=!!t(e,o,l)})),n}function bo(e,t,n){for(var o=-1,a=e.length;++o<a;){var i=e[o],r=t(i);if(null!=r&&(s===l?r===r&&!sr(r):n(r,s)))var s=r,d=i}return d}function fo(e,t){var n=[];return po(e,(function(e,o,l){t(e,o,l)&&n.push(e)})),n}function Eo(e,t,n,o,l){var a=-1,i=e.length;for(n||(n=Ea),l||(l=[]);++a<i;){var r=e[a];t>0&&n(r)?t>1?Eo(r,t-1,n,o,l):Ft(l,r):o||(l[l.length]=r)}return l}var go=Ll(),yo=Ll(!0);function ho(e,t){return e&&go(e,t,kr)}function xo(e,t){return e&&yo(e,t,kr)}function wo(e,t){return Dt(t,(function(t){return Gi(e[t])}))}function Io(e,t){for(var n=0,o=(t=yl(t,e)).length;null!=e&&n<o;)e=e[Ra(t[n++])];return n&&n==o?e:l}function To(e,t,n){var o=t(e);return qi(e)?o:Ft(o,n(e))}function Co(e){return null==e?e===l?"[object Undefined]":"[object Null]":Qe&&Qe in Ce(e)?function(e){var t=Le.call(e,Qe),n=e[Qe];try{e[Qe]=l;var o=!0}catch(i){}var a=Be.call(e);o&&(t?e[Qe]=n:delete e[Qe]);return a}(e):function(e){return Be.call(e)}(e)}function So(e,t){return e>t}function Oo(e,t){return null!=e&&Le.call(e,t)}function Po(e,t){return null!=e&&t in Ce(e)}function Mo(e,t,o){for(var a=o?At:Nt,i=e[0].length,r=e.length,s=r,d=n(r),u=1/0,c=[];s--;){var m=e[s];s&&t&&(m=Lt(m,Zt(t))),u=gn(m.length,u),d[s]=!o&&(t||i>=120&&m.length>=120)?new $n(s&&m):l}m=e[0];var p=-1,_=d[0];e:for(;++p<i&&c.length<u;){var v=m[p],b=t?t(v):v;if(v=o||0!==v?v:0,!(_?tn(_,b):a(c,b,o))){for(s=r;--s;){var f=d[s];if(!(f?tn(f,b):a(e[s],b,o)))continue e}_&&_.push(b),c.push(v)}}return c}function ko(e,t,n){var o=null==(e=Oa(e,t=yl(t,e)))?e:e[Ra(Ha(t))];return null==o?l:St(o,e,n)}function Do(e){return tr(e)&&Co(e)==E}function No(e,t,n,o,a){return e===t||(null==e||null==t||!tr(e)&&!tr(t)?e!==e&&t!==t:function(e,t,n,o,a,i){var r=qi(e),s=qi(t),d=r?g:va(e),u=s?g:va(t),c=(d=d==E?S:d)==S,m=(u=u==E?S:u)==S,p=d==u;if(p&&$i(e)){if(!$i(t))return!1;r=!0,c=!1}if(p&&!c)return i||(i=new Jn),r||dr(e)?na(e,t,n,o,a,i):function(e,t,n,o,l,a,i){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!a(new qe(e),new qe(t)));case y:case h:case C:return Ui(+e,+t);case x:return e.name==t.name&&e.message==t.message;case P:case k:return e==t+"";case T:var r=dn;case M:var s=1&o;if(r||(r=mn),e.size!=t.size&&!s)return!1;var d=i.get(e);if(d)return d==t;o|=2,i.set(e,t);var u=na(r(e),r(t),o,l,a,i);return i.delete(e),u;case D:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,d,n,o,a,i);if(!(1&n)){var _=c&&Le.call(e,"__wrapped__"),v=m&&Le.call(t,"__wrapped__");if(_||v){var b=_?e.value():e,f=v?t.value():t;return i||(i=new Jn),a(b,f,n,o,i)}}if(!p)return!1;return i||(i=new Jn),function(e,t,n,o,a,i){var r=1&n,s=la(e),d=s.length,u=la(t),c=u.length;if(d!=c&&!r)return!1;var m=d;for(;m--;){var p=s[m];if(!(r?p in t:Le.call(t,p)))return!1}var _=i.get(e),v=i.get(t);if(_&&v)return _==t&&v==e;var b=!0;i.set(e,t),i.set(t,e);var f=r;for(;++m<d;){var E=e[p=s[m]],g=t[p];if(o)var y=r?o(g,E,p,t,e,i):o(E,g,p,e,t,i);if(!(y===l?E===g||a(E,g,n,o,i):y)){b=!1;break}f||(f="constructor"==p)}if(b&&!f){var h=e.constructor,x=t.constructor;h==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof h&&h instanceof h&&"function"==typeof x&&x instanceof x||(b=!1)}return i.delete(e),i.delete(t),b}(e,t,n,o,a,i)}(e,t,n,o,No,a))}function Ao(e,t,n,o){var a=n.length,i=a,r=!o;if(null==e)return!i;for(e=Ce(e);a--;){var s=n[a];if(r&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){var d=(s=n[a])[0],u=e[d],c=s[1];if(r&&s[2]){if(u===l&&!(d in e))return!1}else{var m=new Jn;if(o)var p=o(u,c,d,e,t,m);if(!(p===l?No(c,u,3,o,m):p))return!1}}return!0}function Lo(e){return!(!er(e)||(t=e,Re&&Re in t))&&(Gi(e)?Ye:Ee).test(Ba(e));var t}function Fo(e){return"function"==typeof e?e:null==e?os:"object"==typeof e?qi(e)?zo(e[0],e[1]):Yo(e):ms(e)}function Ro(e){if(!Ia(e))return Ut(e);var t=[];for(var n in Ce(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Bo(e){if(!er(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=Ia(e),n=[];for(var o in e)("constructor"!=o||!t&&Le.call(e,o))&&n.push(o);return n}function Vo(e,t){return e<t}function Uo(e,t){var o=-1,l=Wi(e)?n(e.length):[];return po(e,(function(e,n,a){l[++o]=t(e,n,a)})),l}function Yo(e){var t=ca(e);return 1==t.length&&t[0][2]?Ca(t[0][0],t[0][1]):function(n){return n===e||Ao(n,e,t)}}function zo(e,t){return ha(e)&&Ta(t)?Ca(Ra(e),t):function(n){var o=Cr(n,e);return o===l&&o===t?Sr(n,e):No(t,o,3)}}function jo(e,t,n,o,a){e!==t&&go(t,(function(i,r){if(a||(a=new Jn),er(i))!function(e,t,n,o,a,i,r){var s=Pa(e,n),d=Pa(t,n),u=r.get(d);if(u)return void eo(e,n,u);var c=i?i(s,d,n+"",e,t,r):l,m=c===l;if(m){var p=qi(d),_=!p&&$i(d),v=!p&&!_&&dr(d);c=d,p||_||v?qi(s)?c=s:Ki(s)?c=Ml(s):_?(m=!1,c=Il(d,!0)):v?(m=!1,c=Cl(d,!0)):c=[]:lr(d)||ji(d)?(c=s,ji(s)?c=fr(s):er(s)&&!Gi(s)||(c=fa(d))):m=!1}m&&(r.set(d,c),a(c,d,o,i,r),r.delete(d));eo(e,n,c)}(e,t,r,n,jo,o,a);else{var s=o?o(Pa(e,r),i,r+"",e,t,a):l;s===l&&(s=i),eo(e,r,s)}}),Dr)}function qo(e,t){var n=e.length;if(n)return ga(t+=t<0?n:0,n)?e[t]:l}function Xo(e,t,n){t=t.length?Lt(t,(function(e){return qi(e)?function(t){return Io(t,1===e.length?e[0]:e)}:e})):[os];var o=-1;t=Lt(t,Zt(da()));var l=Uo(e,(function(e,n,l){var a=Lt(t,(function(t){return t(e)}));return{criteria:a,index:++o,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(l,(function(e,t){return function(e,t,n){var o=-1,l=e.criteria,a=t.criteria,i=l.length,r=n.length;for(;++o<i;){var s=Sl(l[o],a[o]);if(s)return o>=r?s:s*("desc"==n[o]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wo(e,t,n){for(var o=-1,l=t.length,a={};++o<l;){var i=t[o],r=Io(e,i);n(r,i)&&el(a,yl(i,e),r)}return a}function Ko(e,t,n,o){var l=o?qt:jt,a=-1,i=t.length,r=e;for(e===t&&(t=Ml(t)),n&&(r=Lt(e,Zt(n)));++a<i;)for(var s=0,d=t[a],u=n?n(d):d;(s=l(r,u,s,o))>-1;)r!==e&&Je.call(r,s,1),Je.call(e,s,1);return e}function $o(e,t){for(var n=e?t.length:0,o=n-1;n--;){var l=t[n];if(n==o||l!==a){var a=l;ga(l)?Je.call(e,l,1):ml(e,l)}}return e}function Jo(e,t){return e+_t(xn()*(t-e+1))}function Ho(e,t){var n="";if(!e||t<1||t>_)return n;do{t%2&&(n+=e),(t=_t(t/2))&&(e+=e)}while(t);return n}function Go(e,t){return Da(Sa(e,t,os),e+"")}function Qo(e){return Gn(Ur(e))}function Zo(e,t){var n=Ur(e);return La(n,ro(t,0,n.length))}function el(e,t,n,o){if(!er(e))return e;for(var a=-1,i=(t=yl(t,e)).length,r=i-1,s=e;null!=s&&++a<i;){var d=Ra(t[a]),u=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(a!=r){var c=s[d];(u=o?o(c,d,s):l)===l&&(u=er(c)?c:ga(t[a+1])?[]:{})}to(s,d,u),s=s[d]}return e}var tl=Mn?function(e,t){return Mn.set(e,t),e}:os,nl=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:es(t),writable:!0})}:os;function ol(e){return La(Ur(e))}function ll(e,t,o){var l=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(o=o>a?a:o)<0&&(o+=a),a=t>o?0:o-t>>>0,t>>>=0;for(var i=n(a);++l<a;)i[l]=e[l+t];return i}function al(e,t){var n;return po(e,(function(e,o,l){return!(n=t(e,o,l))})),!!n}function il(e,t,n){var o=0,l=null==e?o:e.length;if("number"==typeof t&&t===t&&l<=2147483647){for(;o<l;){var a=o+l>>>1,i=e[a];null!==i&&!sr(i)&&(n?i<=t:i<t)?o=a+1:l=a}return l}return rl(e,t,os,n)}function rl(e,t,n,o){var a=0,i=null==e?0:e.length;if(0===i)return 0;for(var r=(t=n(t))!==t,s=null===t,d=sr(t),u=t===l;a<i;){var c=_t((a+i)/2),m=n(e[c]),p=m!==l,_=null===m,v=m===m,b=sr(m);if(r)var f=o||v;else f=u?v&&(o||p):s?v&&p&&(o||!_):d?v&&p&&!_&&(o||!b):!_&&!b&&(o?m<=t:m<t);f?a=c+1:i=c}return gn(i,4294967294)}function sl(e,t){for(var n=-1,o=e.length,l=0,a=[];++n<o;){var i=e[n],r=t?t(i):i;if(!n||!Ui(r,s)){var s=r;a[l++]=0===i?0:i}}return a}function dl(e){return"number"==typeof e?e:sr(e)?v:+e}function ul(e){if("string"==typeof e)return e;if(qi(e))return Lt(e,ul)+"";if(sr(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function cl(e,t,n){var o=-1,l=Nt,a=e.length,i=!0,r=[],s=r;if(n)i=!1,l=At;else if(a>=200){var d=t?null:Hl(e);if(d)return mn(d);i=!1,l=tn,s=new $n}else s=t?[]:r;e:for(;++o<a;){var u=e[o],c=t?t(u):u;if(u=n||0!==u?u:0,i&&c===c){for(var m=s.length;m--;)if(s[m]===c)continue e;t&&s.push(c),r.push(u)}else l(s,c,n)||(s!==r&&s.push(c),r.push(u))}return r}function ml(e,t){return null==(e=Oa(e,t=yl(t,e)))||delete e[Ra(Ha(t))]}function pl(e,t,n,o){return el(e,t,n(Io(e,t)),o)}function _l(e,t,n,o){for(var l=e.length,a=o?l:-1;(o?a--:++a<l)&&t(e[a],a,e););return n?ll(e,o?0:a,o?a+1:l):ll(e,o?a+1:0,o?l:a)}function vl(e,t){var n=e;return n instanceof qn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Ft([e],t.args))}),n)}function bl(e,t,o){var l=e.length;if(l<2)return l?cl(e[0]):[];for(var a=-1,i=n(l);++a<l;)for(var r=e[a],s=-1;++s<l;)s!=a&&(i[a]=mo(i[a]||r,e[s],t,o));return cl(Eo(i,1),t,o)}function fl(e,t,n){for(var o=-1,a=e.length,i=t.length,r={};++o<a;){var s=o<i?t[o]:l;n(r,e[o],s)}return r}function El(e){return Ki(e)?e:[]}function gl(e){return"function"==typeof e?e:os}function yl(e,t){return qi(e)?e:ha(e,t)?[e]:Fa(Er(e))}var hl=Go;function xl(e,t,n){var o=e.length;return n=n===l?o:n,!t&&n>=o?e:ll(e,t,n)}var wl=nt||function(e){return vt.clearTimeout(e)};function Il(e,t){if(t)return e.slice();var n=e.length,o=Xe?Xe(n):new e.constructor(n);return e.copy(o),o}function Tl(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Cl(e,t){var n=t?Tl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Sl(e,t){if(e!==t){var n=e!==l,o=null===e,a=e===e,i=sr(e),r=t!==l,s=null===t,d=t===t,u=sr(t);if(!s&&!u&&!i&&e>t||i&&r&&d&&!s&&!u||o&&r&&d||!n&&d||!a)return 1;if(!o&&!i&&!u&&e<t||u&&n&&a&&!o&&!i||s&&n&&a||!r&&a||!d)return-1}return 0}function Ol(e,t,o,l){for(var a=-1,i=e.length,r=o.length,s=-1,d=t.length,u=$t(i-r,0),c=n(d+u),m=!l;++s<d;)c[s]=t[s];for(;++a<r;)(m||a<i)&&(c[o[a]]=e[a]);for(;u--;)c[s++]=e[a++];return c}function Pl(e,t,o,l){for(var a=-1,i=e.length,r=-1,s=o.length,d=-1,u=t.length,c=$t(i-s,0),m=n(c+u),p=!l;++a<c;)m[a]=e[a];for(var _=a;++d<u;)m[_+d]=t[d];for(;++r<s;)(p||a<i)&&(m[_+o[r]]=e[a++]);return m}function Ml(e,t){var o=-1,l=e.length;for(t||(t=n(l));++o<l;)t[o]=e[o];return t}function kl(e,t,n,o){var a=!n;n||(n={});for(var i=-1,r=t.length;++i<r;){var s=t[i],d=o?o(n[s],e[s],s,n,e):l;d===l&&(d=e[s]),a?ao(n,s,d):to(n,s,d)}return n}function Dl(e,t){return function(n,o){var l=qi(n)?Ot:oo,a=t?t():{};return l(n,e,da(o,2),a)}}function Nl(e){return Go((function(t,n){var o=-1,a=n.length,i=a>1?n[a-1]:l,r=a>2?n[2]:l;for(i=e.length>3&&"function"==typeof i?(a--,i):l,r&&ya(n[0],n[1],r)&&(i=a<3?l:i,a=1),t=Ce(t);++o<a;){var s=n[o];s&&e(t,s,o,i)}return t}))}function Al(e,t){return function(n,o){if(null==n)return n;if(!Wi(n))return e(n,o);for(var l=n.length,a=t?l:-1,i=Ce(n);(t?a--:++a<l)&&!1!==o(i[a],a,i););return n}}function Ll(e){return function(t,n,o){for(var l=-1,a=Ce(t),i=o(t),r=i.length;r--;){var s=i[e?r:++l];if(!1===n(a[s],s,a))break}return t}}function Fl(e){return function(t){var n=sn(t=Er(t))?vn(t):l,o=n?n[0]:t.charAt(0),a=n?xl(n,1).join(""):t.slice(1);return o[e]()+a}}function Rl(e){return function(t){return Rt(Gr(jr(t).replace(et,"")),e,"")}}function Bl(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Yn(e.prototype),o=e.apply(n,t);return er(o)?o:n}}function Vl(e){return function(t,n,o){var a=Ce(t);if(!Wi(t)){var i=da(n,3);t=kr(t),n=function(e){return i(a[e],e,a)}}var r=e(t,n,o);return r>-1?a[i?t[r]:r]:l}}function Ul(e){return oa((function(t){var n=t.length,o=n,i=jn.prototype.thru;for(e&&t.reverse();o--;){var r=t[o];if("function"!=typeof r)throw new Pe(a);if(i&&!s&&"wrapper"==ra(r))var s=new jn([],!0)}for(o=s?o:n;++o<n;){var d=ra(r=t[o]),u="wrapper"==d?ia(r):l;s=u&&xa(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[ra(u[0])].apply(s,u[3]):1==r.length&&xa(r)?s[d]():s.thru(r)}return function(){var e=arguments,o=e[0];if(s&&1==e.length&&qi(o))return s.plant(o).value();for(var l=0,a=n?t[l].apply(this,e):o;++l<n;)a=t[l].call(this,a);return a}}))}function Yl(e,t,o,a,i,r,s,d,u,m){var p=t&c,_=1&t,v=2&t,b=24&t,f=512&t,E=v?l:Bl(e);return function c(){for(var g=arguments.length,y=n(g),h=g;h--;)y[h]=arguments[h];if(b)var x=sa(c),w=function(e,t){for(var n=e.length,o=0;n--;)e[n]===t&&++o;return o}(y,x);if(a&&(y=Ol(y,a,i,b)),r&&(y=Pl(y,r,s,b)),g-=w,b&&g<m){var I=cn(y,x);return $l(e,t,Yl,c.placeholder,o,y,I,d,u,m-g)}var T=_?o:this,C=v?T[e]:e;return g=y.length,d?y=function(e,t){var n=e.length,o=gn(t.length,n),a=Ml(e);for(;o--;){var i=t[o];e[o]=ga(i,n)?a[i]:l}return e}(y,d):f&&g>1&&y.reverse(),p&&u<g&&(y.length=u),this&&this!==vt&&this instanceof c&&(C=E||Bl(C)),C.apply(T,y)}}function zl(e,t){return function(n,o){return function(e,t,n,o){return ho(e,(function(e,l,a){t(o,n(e),l,a)})),o}(n,e,t(o),{})}}function jl(e,t){return function(n,o){var a;if(n===l&&o===l)return t;if(n!==l&&(a=n),o!==l){if(a===l)return o;"string"==typeof n||"string"==typeof o?(n=ul(n),o=ul(o)):(n=dl(n),o=dl(o)),a=e(n,o)}return a}}function ql(e){return oa((function(t){return t=Lt(t,Zt(da())),Go((function(n){var o=this;return e(t,(function(e){return St(e,o,n)}))}))}))}function Xl(e,t){var n=(t=t===l?" ":ul(t)).length;if(n<2)return n?Ho(t,e):t;var o=Ho(t,pt(e/_n(t)));return sn(t)?xl(vn(o),0,e).join(""):o.slice(0,e)}function Wl(e){return function(t,o,a){return a&&"number"!=typeof a&&ya(t,o,a)&&(o=a=l),t=pr(t),o===l?(o=t,t=0):o=pr(o),function(e,t,o,l){for(var a=-1,i=$t(pt((t-e)/(o||1)),0),r=n(i);i--;)r[l?i:++a]=e,e+=o;return r}(t,o,a=a===l?t<o?1:-1:pr(a),e)}}function Kl(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=br(t),n=br(n)),e(t,n)}}function $l(e,t,n,o,a,i,r,s,c,m){var p=8&t;t|=p?d:u,4&(t&=~(p?u:d))||(t&=-4);var _=[e,t,a,p?i:l,p?r:l,p?l:i,p?l:r,s,c,m],v=n.apply(l,_);return xa(e)&&Ma(v,_),v.placeholder=o,Na(v,e,t)}function Jl(e){var t=Te[e];return function(e,n){if(e=br(e),(n=null==n?0:gn(_r(n),292))&&gt(e)){var o=(Er(e)+"e").split("e");return+((o=(Er(t(o[0]+"e"+(+o[1]+n)))+"e").split("e"))[0]+"e"+(+o[1]-n))}return t(e)}}var Hl=Sn&&1/mn(new Sn([,-0]))[1]==p?function(e){return new Sn(e)}:ss;function Gl(e){return function(t){var n=va(t);return n==T?dn(t):n==M?pn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ql(e,t,o,i,p,_,v,b){var f=2&t;if(!f&&"function"!=typeof e)throw new Pe(a);var E=i?i.length:0;if(E||(t&=-97,i=p=l),v=v===l?v:$t(_r(v),0),b=b===l?b:_r(b),E-=p?p.length:0,t&u){var g=i,y=p;i=p=l}var h=f?l:ia(e),x=[e,t,o,i,p,g,y,_,v,b];if(h&&function(e,t){var n=e[1],o=t[1],l=n|o,a=l<131,i=o==c&&8==n||o==c&&n==m&&e[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==n;if(!a&&!i)return e;1&o&&(e[2]=t[2],l|=1&n?0:4);var s=t[3];if(s){var d=e[3];e[3]=d?Ol(d,s,t[4]):s,e[4]=d?cn(e[3],r):t[4]}(s=t[5])&&(d=e[5],e[5]=d?Pl(d,s,t[6]):s,e[6]=d?cn(e[5],r):t[6]);(s=t[7])&&(e[7]=s);o&c&&(e[8]=null==e[8]?t[8]:gn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=l}(x,h),e=x[0],t=x[1],o=x[2],i=x[3],p=x[4],!(b=x[9]=x[9]===l?f?0:e.length:$t(x[9]-E,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==s?function(e,t,o){var a=Bl(e);return function i(){for(var r=arguments.length,s=n(r),d=r,u=sa(i);d--;)s[d]=arguments[d];var c=r<3&&s[0]!==u&&s[r-1]!==u?[]:cn(s,u);return(r-=c.length)<o?$l(e,t,Yl,i.placeholder,l,s,c,l,l,o-r):St(this&&this!==vt&&this instanceof i?a:e,this,s)}}(e,t,b):t!=d&&33!=t||p.length?Yl.apply(l,x):function(e,t,o,l){var a=1&t,i=Bl(e);return function t(){for(var r=-1,s=arguments.length,d=-1,u=l.length,c=n(u+s),m=this&&this!==vt&&this instanceof t?i:e;++d<u;)c[d]=l[d];for(;s--;)c[d++]=arguments[++r];return St(m,a?o:this,c)}}(e,t,o,i);else var w=function(e,t,n){var o=1&t,l=Bl(e);return function t(){return(this&&this!==vt&&this instanceof t?l:e).apply(o?n:this,arguments)}}(e,t,o);return Na((h?tl:Ma)(w,x),e,t)}function Zl(e,t,n,o){return e===l||Ui(e,De[n])&&!Le.call(o,n)?t:e}function ea(e,t,n,o,a,i){return er(e)&&er(t)&&(i.set(t,e),jo(e,t,l,ea,i),i.delete(t)),e}function ta(e){return lr(e)?l:e}function na(e,t,n,o,a,i){var r=1&n,s=e.length,d=t.length;if(s!=d&&!(r&&d>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var m=-1,p=!0,_=2&n?new $n:l;for(i.set(e,t),i.set(t,e);++m<s;){var v=e[m],b=t[m];if(o)var f=r?o(b,v,m,t,e,i):o(v,b,m,e,t,i);if(f!==l){if(f)continue;p=!1;break}if(_){if(!Vt(t,(function(e,t){if(!tn(_,t)&&(v===e||a(v,e,n,o,i)))return _.push(t)}))){p=!1;break}}else if(v!==b&&!a(v,b,n,o,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function oa(e){return Da(Sa(e,l,Xa),e+"")}function la(e){return To(e,kr,pa)}function aa(e){return To(e,Dr,_a)}var ia=Mn?function(e){return Mn.get(e)}:ss;function ra(e){for(var t=e.name+"",n=kn[t],o=Le.call(kn,t)?n.length:0;o--;){var l=n[o],a=l.func;if(null==a||a==e)return l.name}return t}function sa(e){return(Le.call(Un,"placeholder")?Un:e).placeholder}function da(){var e=Un.iteratee||ls;return e=e===ls?Fo:e,arguments.length?e(arguments[0],arguments[1]):e}function ua(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ca(e){for(var t=kr(e),n=t.length;n--;){var o=t[n],l=e[o];t[n]=[o,l,Ta(l)]}return t}function ma(e,t){var n=function(e,t){return null==e?l:e[t]}(e,t);return Lo(n)?n:l}var pa=bt?function(e){return null==e?[]:(e=Ce(e),Dt(bt(e),(function(t){return $e.call(e,t)})))}:vs,_a=bt?function(e){for(var t=[];e;)Ft(t,pa(e)),e=We(e);return t}:vs,va=Co;function ba(e,t,n){for(var o=-1,l=(t=yl(t,e)).length,a=!1;++o<l;){var i=Ra(t[o]);if(!(a=null!=e&&n(e,i)))break;e=e[i]}return a||++o!=l?a:!!(l=null==e?0:e.length)&&Zi(l)&&ga(i,l)&&(qi(e)||ji(e))}function fa(e){return"function"!=typeof e.constructor||Ia(e)?{}:Yn(We(e))}function Ea(e){return qi(e)||ji(e)||!!(He&&e&&e[He])}function ga(e,t){var n=typeof e;return!!(t=null==t?_:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function ya(e,t,n){if(!er(n))return!1;var o=typeof t;return!!("number"==o?Wi(n)&&ga(t,n.length):"string"==o&&t in n)&&Ui(n[t],e)}function ha(e,t){if(qi(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!sr(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function xa(e){var t=ra(e),n=Un[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var o=ia(n);return!!o&&e===o[0]}(In&&va(new In(new ArrayBuffer(1)))!=L||Tn&&va(new Tn)!=T||Cn&&va(Cn.resolve())!=O||Sn&&va(new Sn)!=M||On&&va(new On)!=N)&&(va=function(e){var t=Co(e),n=t==S?e.constructor:l,o=n?Ba(n):"";if(o)switch(o){case Dn:return L;case Nn:return T;case An:return O;case Ln:return M;case Fn:return N}return t});var wa=Ne?Gi:bs;function Ia(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function Ta(e){return e===e&&!er(e)}function Ca(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==l||e in Ce(n)))}}function Sa(e,t,o){return t=$t(t===l?e.length-1:t,0),function(){for(var l=arguments,a=-1,i=$t(l.length-t,0),r=n(i);++a<i;)r[a]=l[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=l[a];return s[t]=o(r),St(e,this,s)}}function Oa(e,t){return t.length<2?e:Io(e,ll(t,0,-1))}function Pa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ma=Aa(tl),ka=ut||function(e,t){return vt.setTimeout(e,t)},Da=Aa(nl);function Na(e,t,n){var o=t+"";return Da(e,function(e,t){var n=t.length;if(!n)return e;var o=n-1;return t[o]=(n>1?"& ":"")+t[o],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(o,function(e,t){return Pt(f,(function(n){var o="_."+n[0];t&n[1]&&!Nt(e,o)&&e.push(o)})),e.sort()}(function(e){var t=e.match(de);return t?t[1].split(ue):[]}(o),n)))}function Aa(e){var t=0,n=0;return function(){var o=yn(),a=16-(o-n);if(n=o,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(l,arguments)}}function La(e,t){var n=-1,o=e.length,a=o-1;for(t=t===l?o:t;++n<t;){var i=Jo(n,a),r=e[i];e[i]=e[n],e[n]=r}return e.length=t,e}var Fa=function(e){var t=Ai(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(oe,(function(e,n,o,l){t.push(o?l.replace(pe,"$1"):n||e)})),t}));function Ra(e){if("string"==typeof e||sr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ba(e){if(null!=e){try{return Ae.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Va(e){if(e instanceof qn)return e.clone();var t=new jn(e.__wrapped__,e.__chain__);return t.__actions__=Ml(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ua=Go((function(e,t){return Ki(e)?mo(e,Eo(t,1,Ki,!0)):[]})),Ya=Go((function(e,t){var n=Ha(t);return Ki(n)&&(n=l),Ki(e)?mo(e,Eo(t,1,Ki,!0),da(n,2)):[]})),za=Go((function(e,t){var n=Ha(t);return Ki(n)&&(n=l),Ki(e)?mo(e,Eo(t,1,Ki,!0),l,n):[]}));function ja(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:_r(n);return l<0&&(l=$t(o+l,0)),zt(e,da(t,3),l)}function qa(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var a=o-1;return n!==l&&(a=_r(n),a=n<0?$t(o+a,0):gn(a,o-1)),zt(e,da(t,3),a,!0)}function Xa(e){return(null==e?0:e.length)?Eo(e,1):[]}function Wa(e){return e&&e.length?e[0]:l}var Ka=Go((function(e){var t=Lt(e,El);return t.length&&t[0]===e[0]?Mo(t):[]})),$a=Go((function(e){var t=Ha(e),n=Lt(e,El);return t===Ha(n)?t=l:n.pop(),n.length&&n[0]===e[0]?Mo(n,da(t,2)):[]})),Ja=Go((function(e){var t=Ha(e),n=Lt(e,El);return(t="function"==typeof t?t:l)&&n.pop(),n.length&&n[0]===e[0]?Mo(n,l,t):[]}));function Ha(e){var t=null==e?0:e.length;return t?e[t-1]:l}var Ga=Go(Qa);function Qa(e,t){return e&&e.length&&t&&t.length?Ko(e,t):e}var Za=oa((function(e,t){var n=null==e?0:e.length,o=io(e,t);return $o(e,Lt(t,(function(e){return ga(e,n)?+e:e})).sort(Sl)),o}));function ei(e){return null==e?e:wn.call(e)}var ti=Go((function(e){return cl(Eo(e,1,Ki,!0))})),ni=Go((function(e){var t=Ha(e);return Ki(t)&&(t=l),cl(Eo(e,1,Ki,!0),da(t,2))})),oi=Go((function(e){var t=Ha(e);return t="function"==typeof t?t:l,cl(Eo(e,1,Ki,!0),l,t)}));function li(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Ki(e))return t=$t(e.length,t),!0})),Gt(t,(function(t){return Lt(e,Kt(t))}))}function ai(e,t){if(!e||!e.length)return[];var n=li(e);return null==t?n:Lt(n,(function(e){return St(t,l,e)}))}var ii=Go((function(e,t){return Ki(e)?mo(e,t):[]})),ri=Go((function(e){return bl(Dt(e,Ki))})),si=Go((function(e){var t=Ha(e);return Ki(t)&&(t=l),bl(Dt(e,Ki),da(t,2))})),di=Go((function(e){var t=Ha(e);return t="function"==typeof t?t:l,bl(Dt(e,Ki),l,t)})),ui=Go(li);var ci=Go((function(e){var t=e.length,n=t>1?e[t-1]:l;return n="function"==typeof n?(e.pop(),n):l,ai(e,n)}));function mi(e){var t=Un(e);return t.__chain__=!0,t}function pi(e,t){return t(e)}var _i=oa((function(e){var t=e.length,n=t?e[0]:0,o=this.__wrapped__,a=function(t){return io(t,e)};return!(t>1||this.__actions__.length)&&o instanceof qn&&ga(n)?((o=o.slice(n,+n+(t?1:0))).__actions__.push({func:pi,args:[a],thisArg:l}),new jn(o,this.__chain__).thru((function(e){return t&&!e.length&&e.push(l),e}))):this.thru(a)}));var vi=Dl((function(e,t,n){Le.call(e,n)?++e[n]:ao(e,n,1)}));var bi=Vl(ja),fi=Vl(qa);function Ei(e,t){return(qi(e)?Pt:po)(e,da(t,3))}function gi(e,t){return(qi(e)?Mt:_o)(e,da(t,3))}var yi=Dl((function(e,t,n){Le.call(e,n)?e[n].push(t):ao(e,n,[t])}));var hi=Go((function(e,t,o){var l=-1,a="function"==typeof t,i=Wi(e)?n(e.length):[];return po(e,(function(e){i[++l]=a?St(t,e,o):ko(e,t,o)})),i})),xi=Dl((function(e,t,n){ao(e,n,t)}));function wi(e,t){return(qi(e)?Lt:Uo)(e,da(t,3))}var Ii=Dl((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ti=Go((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ya(e,t[0],t[1])?t=[]:n>2&&ya(t[0],t[1],t[2])&&(t=[t[0]]),Xo(e,Eo(t,1),[])})),Ci=lt||function(){return vt.Date.now()};function Si(e,t,n){return t=n?l:t,t=e&&null==t?e.length:t,Ql(e,c,l,l,l,l,t)}function Oi(e,t){var n;if("function"!=typeof t)throw new Pe(a);return e=_r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=l),n}}var Pi=Go((function(e,t,n){var o=1;if(n.length){var l=cn(n,sa(Pi));o|=d}return Ql(e,o,t,n,l)})),Mi=Go((function(e,t,n){var o=3;if(n.length){var l=cn(n,sa(Mi));o|=d}return Ql(t,o,e,n,l)}));function ki(e,t,n){var o,i,r,s,d,u,c=0,m=!1,p=!1,_=!0;if("function"!=typeof e)throw new Pe(a);function v(t){var n=o,a=i;return o=i=l,c=t,s=e.apply(a,n)}function b(e){var n=e-u;return u===l||n>=t||n<0||p&&e-c>=r}function f(){var e=Ci();if(b(e))return E(e);d=ka(f,function(e){var n=t-(e-u);return p?gn(n,r-(e-c)):n}(e))}function E(e){return d=l,_&&o?v(e):(o=i=l,s)}function g(){var e=Ci(),n=b(e);if(o=arguments,i=this,u=e,n){if(d===l)return function(e){return c=e,d=ka(f,t),m?v(e):s}(u);if(p)return wl(d),d=ka(f,t),v(u)}return d===l&&(d=ka(f,t)),s}return t=br(t)||0,er(n)&&(m=!!n.leading,r=(p="maxWait"in n)?$t(br(n.maxWait)||0,t):r,_="trailing"in n?!!n.trailing:_),g.cancel=function(){d!==l&&wl(d),c=0,o=u=i=d=l},g.flush=function(){return d===l?s:E(Ci())},g}var Di=Go((function(e,t){return co(e,1,t)})),Ni=Go((function(e,t,n){return co(e,br(t)||0,n)}));function Ai(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(a);var n=function(){var o=arguments,l=t?t.apply(this,o):o[0],a=n.cache;if(a.has(l))return a.get(l);var i=e.apply(this,o);return n.cache=a.set(l,i)||a,i};return n.cache=new(Ai.Cache||Kn),n}function Li(e){if("function"!=typeof e)throw new Pe(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ai.Cache=Kn;var Fi=hl((function(e,t){var n=(t=1==t.length&&qi(t[0])?Lt(t[0],Zt(da())):Lt(Eo(t,1),Zt(da()))).length;return Go((function(o){for(var l=-1,a=gn(o.length,n);++l<a;)o[l]=t[l].call(this,o[l]);return St(e,this,o)}))})),Ri=Go((function(e,t){var n=cn(t,sa(Ri));return Ql(e,d,l,t,n)})),Bi=Go((function(e,t){var n=cn(t,sa(Bi));return Ql(e,u,l,t,n)})),Vi=oa((function(e,t){return Ql(e,m,l,l,l,t)}));function Ui(e,t){return e===t||e!==e&&t!==t}var Yi=Kl(So),zi=Kl((function(e,t){return e>=t})),ji=Do(function(){return arguments}())?Do:function(e){return tr(e)&&Le.call(e,"callee")&&!$e.call(e,"callee")},qi=n.isArray,Xi=ht?Zt(ht):function(e){return tr(e)&&Co(e)==A};function Wi(e){return null!=e&&Zi(e.length)&&!Gi(e)}function Ki(e){return tr(e)&&Wi(e)}var $i=ft||bs,Ji=xt?Zt(xt):function(e){return tr(e)&&Co(e)==h};function Hi(e){if(!tr(e))return!1;var t=Co(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!lr(e)}function Gi(e){if(!er(e))return!1;var t=Co(e);return t==w||t==I||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qi(e){return"number"==typeof e&&e==_r(e)}function Zi(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_}function er(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function tr(e){return null!=e&&"object"==typeof e}var nr=wt?Zt(wt):function(e){return tr(e)&&va(e)==T};function or(e){return"number"==typeof e||tr(e)&&Co(e)==C}function lr(e){if(!tr(e)||Co(e)!=S)return!1;var t=We(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ae.call(n)==Ve}var ar=It?Zt(It):function(e){return tr(e)&&Co(e)==P};var ir=Tt?Zt(Tt):function(e){return tr(e)&&va(e)==M};function rr(e){return"string"==typeof e||!qi(e)&&tr(e)&&Co(e)==k}function sr(e){return"symbol"==typeof e||tr(e)&&Co(e)==D}var dr=Ct?Zt(Ct):function(e){return tr(e)&&Zi(e.length)&&!!st[Co(e)]};var ur=Kl(Vo),cr=Kl((function(e,t){return e<=t}));function mr(e){if(!e)return[];if(Wi(e))return rr(e)?vn(e):Ml(e);if(Ge&&e[Ge])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ge]());var t=va(e);return(t==T?dn:t==M?mn:Ur)(e)}function pr(e){return e?(e=br(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function _r(e){var t=pr(e),n=t%1;return t===t?n?t-n:t:0}function vr(e){return e?ro(_r(e),0,b):0}function br(e){if("number"==typeof e)return e;if(sr(e))return v;if(er(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=er(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=fe.test(e);return n||ge.test(e)?mt(e.slice(2),n?2:8):be.test(e)?v:+e}function fr(e){return kl(e,Dr(e))}function Er(e){return null==e?"":ul(e)}var gr=Nl((function(e,t){if(Ia(t)||Wi(t))kl(t,kr(t),e);else for(var n in t)Le.call(t,n)&&to(e,n,t[n])})),yr=Nl((function(e,t){kl(t,Dr(t),e)})),hr=Nl((function(e,t,n,o){kl(t,Dr(t),e,o)})),xr=Nl((function(e,t,n,o){kl(t,kr(t),e,o)})),wr=oa(io);var Ir=Go((function(e,t){e=Ce(e);var n=-1,o=t.length,a=o>2?t[2]:l;for(a&&ya(t[0],t[1],a)&&(o=1);++n<o;)for(var i=t[n],r=Dr(i),s=-1,d=r.length;++s<d;){var u=r[s],c=e[u];(c===l||Ui(c,De[u])&&!Le.call(e,u))&&(e[u]=i[u])}return e})),Tr=Go((function(e){return e.push(l,ea),St(Ar,l,e)}));function Cr(e,t,n){var o=null==e?l:Io(e,t);return o===l?n:o}function Sr(e,t){return null!=e&&ba(e,t,Po)}var Or=zl((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=n}),es(os)),Pr=zl((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),da),Mr=Go(ko);function kr(e){return Wi(e)?Hn(e):Ro(e)}function Dr(e){return Wi(e)?Hn(e,!0):Bo(e)}var Nr=Nl((function(e,t,n){jo(e,t,n)})),Ar=Nl((function(e,t,n,o){jo(e,t,n,o)})),Lr=oa((function(e,t){var n={};if(null==e)return n;var o=!1;t=Lt(t,(function(t){return t=yl(t,e),o||(o=t.length>1),t})),kl(e,aa(e),n),o&&(n=so(n,7,ta));for(var l=t.length;l--;)ml(n,t[l]);return n}));var Fr=oa((function(e,t){return null==e?{}:function(e,t){return Wo(e,t,(function(t,n){return Sr(e,n)}))}(e,t)}));function Rr(e,t){if(null==e)return{};var n=Lt(aa(e),(function(e){return[e]}));return t=da(t),Wo(e,n,(function(e,n){return t(e,n[0])}))}var Br=Gl(kr),Vr=Gl(Dr);function Ur(e){return null==e?[]:en(e,kr(e))}var Yr=Rl((function(e,t,n){return t=t.toLowerCase(),e+(n?zr(t):t)}));function zr(e){return Hr(Er(e).toLowerCase())}function jr(e){return(e=Er(e))&&e.replace(he,ln).replace(tt,"")}var qr=Rl((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Xr=Rl((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Wr=Fl("toLowerCase");var Kr=Rl((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var $r=Rl((function(e,t,n){return e+(n?" ":"")+Hr(t)}));var Jr=Rl((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Hr=Fl("toUpperCase");function Gr(e,t,n){return e=Er(e),(t=n?l:t)===l?function(e){return at.test(e)}(e)?function(e){return e.match(ot)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Qr=Go((function(e,t){try{return St(e,l,t)}catch(n){return Hi(n)?n:new re(n)}})),Zr=oa((function(e,t){return Pt(t,(function(t){t=Ra(t),ao(e,t,Pi(e[t],e))})),e}));function es(e){return function(){return e}}var ts=Ul(),ns=Ul(!0);function os(e){return e}function ls(e){return Fo("function"==typeof e?e:so(e,1))}var as=Go((function(e,t){return function(n){return ko(n,e,t)}})),is=Go((function(e,t){return function(n){return ko(e,n,t)}}));function rs(e,t,n){var o=kr(t),l=wo(t,o);null!=n||er(t)&&(l.length||!o.length)||(n=t,t=e,e=this,l=wo(t,kr(t)));var a=!(er(n)&&"chain"in n)||!!n.chain,i=Gi(e);return Pt(l,(function(n){var o=t[n];e[n]=o,i&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ml(this.__actions__)).push({func:o,args:arguments,thisArg:e}),n.__chain__=t,n}return o.apply(e,Ft([this.value()],arguments))})})),e}function ss(){}var ds=ql(Lt),us=ql(kt),cs=ql(Vt);function ms(e){return ha(e)?Kt(Ra(e)):function(e){return function(t){return Io(t,e)}}(e)}var ps=Wl(),_s=Wl(!0);function vs(){return[]}function bs(){return!1}var fs=jl((function(e,t){return e+t}),0),Es=Jl("ceil"),gs=jl((function(e,t){return e/t}),1),ys=Jl("floor");var hs=jl((function(e,t){return e*t}),1),xs=Jl("round"),ws=jl((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Pe(a);return e=_r(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Si,Un.assign=gr,Un.assignIn=yr,Un.assignInWith=hr,Un.assignWith=xr,Un.at=wr,Un.before=Oi,Un.bind=Pi,Un.bindAll=Zr,Un.bindKey=Mi,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qi(e)?e:[e]},Un.chain=mi,Un.chunk=function(e,t,o){t=(o?ya(e,t,o):t===l)?1:$t(_r(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var i=0,r=0,s=n(pt(a/t));i<a;)s[r++]=ll(e,i,i+=t);return s},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,o=0,l=[];++t<n;){var a=e[t];a&&(l[o++]=a)}return l},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),o=arguments[0],l=e;l--;)t[l-1]=arguments[l];return Ft(qi(o)?Ml(o):[o],Eo(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=da();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Pe(a);return[n(e[0]),e[1]]})):[],Go((function(n){for(var o=-1;++o<t;){var l=e[o];if(St(l[0],this,n))return St(l[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=kr(e);return function(n){return uo(n,e,t)}}(so(e,1))},Un.constant=es,Un.countBy=vi,Un.create=function(e,t){var n=Yn(e);return null==t?n:lo(n,t)},Un.curry=function e(t,n,o){var a=Ql(t,8,l,l,l,l,l,n=o?l:n);return a.placeholder=e.placeholder,a},Un.curryRight=function e(t,n,o){var a=Ql(t,s,l,l,l,l,l,n=o?l:n);return a.placeholder=e.placeholder,a},Un.debounce=ki,Un.defaults=Ir,Un.defaultsDeep=Tr,Un.defer=Di,Un.delay=Ni,Un.difference=Ua,Un.differenceBy=Ya,Un.differenceWith=za,Un.drop=function(e,t,n){var o=null==e?0:e.length;return o?ll(e,(t=n||t===l?1:_r(t))<0?0:t,o):[]},Un.dropRight=function(e,t,n){var o=null==e?0:e.length;return o?ll(e,0,(t=o-(t=n||t===l?1:_r(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?_l(e,da(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?_l(e,da(t,3),!0):[]},Un.fill=function(e,t,n,o){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ya(e,t,n)&&(n=0,o=a),function(e,t,n,o){var a=e.length;for((n=_r(n))<0&&(n=-n>a?0:a+n),(o=o===l||o>a?a:_r(o))<0&&(o+=a),o=n>o?0:vr(o);n<o;)e[n++]=t;return e}(e,t,n,o)):[]},Un.filter=function(e,t){return(qi(e)?Dt:fo)(e,da(t,3))},Un.flatMap=function(e,t){return Eo(wi(e,t),1)},Un.flatMapDeep=function(e,t){return Eo(wi(e,t),p)},Un.flatMapDepth=function(e,t,n){return n=n===l?1:_r(n),Eo(wi(e,t),n)},Un.flatten=Xa,Un.flattenDeep=function(e){return(null==e?0:e.length)?Eo(e,p):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?Eo(e,t=t===l?1:_r(t)):[]},Un.flip=function(e){return Ql(e,512)},Un.flow=ts,Un.flowRight=ns,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,o={};++t<n;){var l=e[t];o[l[0]]=l[1]}return o},Un.functions=function(e){return null==e?[]:wo(e,kr(e))},Un.functionsIn=function(e){return null==e?[]:wo(e,Dr(e))},Un.groupBy=yi,Un.initial=function(e){return(null==e?0:e.length)?ll(e,0,-1):[]},Un.intersection=Ka,Un.intersectionBy=$a,Un.intersectionWith=Ja,Un.invert=Or,Un.invertBy=Pr,Un.invokeMap=hi,Un.iteratee=ls,Un.keyBy=xi,Un.keys=kr,Un.keysIn=Dr,Un.map=wi,Un.mapKeys=function(e,t){var n={};return t=da(t,3),ho(e,(function(e,o,l){ao(n,t(e,o,l),e)})),n},Un.mapValues=function(e,t){var n={};return t=da(t,3),ho(e,(function(e,o,l){ao(n,o,t(e,o,l))})),n},Un.matches=function(e){return Yo(so(e,1))},Un.matchesProperty=function(e,t){return zo(e,so(t,1))},Un.memoize=Ai,Un.merge=Nr,Un.mergeWith=Ar,Un.method=as,Un.methodOf=is,Un.mixin=rs,Un.negate=Li,Un.nthArg=function(e){return e=_r(e),Go((function(t){return qo(t,e)}))},Un.omit=Lr,Un.omitBy=function(e,t){return Rr(e,Li(da(t)))},Un.once=function(e){return Oi(2,e)},Un.orderBy=function(e,t,n,o){return null==e?[]:(qi(t)||(t=null==t?[]:[t]),qi(n=o?l:n)||(n=null==n?[]:[n]),Xo(e,t,n))},Un.over=ds,Un.overArgs=Fi,Un.overEvery=us,Un.overSome=cs,Un.partial=Ri,Un.partialRight=Bi,Un.partition=Ii,Un.pick=Fr,Un.pickBy=Rr,Un.property=ms,Un.propertyOf=function(e){return function(t){return null==e?l:Io(e,t)}},Un.pull=Ga,Un.pullAll=Qa,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ko(e,t,da(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ko(e,t,l,n):e},Un.pullAt=Za,Un.range=ps,Un.rangeRight=_s,Un.rearg=Vi,Un.reject=function(e,t){return(qi(e)?Dt:fo)(e,Li(da(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var o=-1,l=[],a=e.length;for(t=da(t,3);++o<a;){var i=e[o];t(i,o,e)&&(n.push(i),l.push(o))}return $o(e,l),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Pe(a);return Go(e,t=t===l?t:_r(t))},Un.reverse=ei,Un.sampleSize=function(e,t,n){return t=(n?ya(e,t,n):t===l)?1:_r(t),(qi(e)?Qn:Zo)(e,t)},Un.set=function(e,t,n){return null==e?e:el(e,t,n)},Un.setWith=function(e,t,n,o){return o="function"==typeof o?o:l,null==e?e:el(e,t,n,o)},Un.shuffle=function(e){return(qi(e)?Zn:ol)(e)},Un.slice=function(e,t,n){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&ya(e,t,n)?(t=0,n=o):(t=null==t?0:_r(t),n=n===l?o:_r(n)),ll(e,t,n)):[]},Un.sortBy=Ti,Un.sortedUniq=function(e){return e&&e.length?sl(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?sl(e,da(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&ya(e,t,n)&&(t=n=l),(n=n===l?b:n>>>0)?(e=Er(e))&&("string"==typeof t||null!=t&&!ar(t))&&!(t=ul(t))&&sn(e)?xl(vn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Pe(a);return t=null==t?0:$t(_r(t),0),Go((function(n){var o=n[t],l=xl(n,0,t);return o&&Ft(l,o),St(e,this,l)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ll(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ll(e,0,(t=n||t===l?1:_r(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var o=null==e?0:e.length;return o?ll(e,(t=o-(t=n||t===l?1:_r(t)))<0?0:t,o):[]},Un.takeRightWhile=function(e,t){return e&&e.length?_l(e,da(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?_l(e,da(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var o=!0,l=!0;if("function"!=typeof e)throw new Pe(a);return er(n)&&(o="leading"in n?!!n.leading:o,l="trailing"in n?!!n.trailing:l),ki(e,t,{leading:o,maxWait:t,trailing:l})},Un.thru=pi,Un.toArray=mr,Un.toPairs=Br,Un.toPairsIn=Vr,Un.toPath=function(e){return qi(e)?Lt(e,Ra):sr(e)?[e]:Ml(Fa(Er(e)))},Un.toPlainObject=fr,Un.transform=function(e,t,n){var o=qi(e),l=o||$i(e)||dr(e);if(t=da(t,4),null==n){var a=e&&e.constructor;n=l?o?new a:[]:er(e)&&Gi(a)?Yn(We(e)):{}}return(l?Pt:ho)(e,(function(e,o,l){return t(n,e,o,l)})),n},Un.unary=function(e){return Si(e,1)},Un.union=ti,Un.unionBy=ni,Un.unionWith=oi,Un.uniq=function(e){return e&&e.length?cl(e):[]},Un.uniqBy=function(e,t){return e&&e.length?cl(e,da(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:l,e&&e.length?cl(e,l,t):[]},Un.unset=function(e,t){return null==e||ml(e,t)},Un.unzip=li,Un.unzipWith=ai,Un.update=function(e,t,n){return null==e?e:pl(e,t,gl(n))},Un.updateWith=function(e,t,n,o){return o="function"==typeof o?o:l,null==e?e:pl(e,t,gl(n),o)},Un.values=Ur,Un.valuesIn=function(e){return null==e?[]:en(e,Dr(e))},Un.without=ii,Un.words=Gr,Un.wrap=function(e,t){return Ri(gl(t),e)},Un.xor=ri,Un.xorBy=si,Un.xorWith=di,Un.zip=ui,Un.zipObject=function(e,t){return fl(e||[],t||[],to)},Un.zipObjectDeep=function(e,t){return fl(e||[],t||[],el)},Un.zipWith=ci,Un.entries=Br,Un.entriesIn=Vr,Un.extend=yr,Un.extendWith=hr,rs(Un,Un),Un.add=fs,Un.attempt=Qr,Un.camelCase=Yr,Un.capitalize=zr,Un.ceil=Es,Un.clamp=function(e,t,n){return n===l&&(n=t,t=l),n!==l&&(n=(n=br(n))===n?n:0),t!==l&&(t=(t=br(t))===t?t:0),ro(br(e),t,n)},Un.clone=function(e){return so(e,4)},Un.cloneDeep=function(e){return so(e,5)},Un.cloneDeepWith=function(e,t){return so(e,5,t="function"==typeof t?t:l)},Un.cloneWith=function(e,t){return so(e,4,t="function"==typeof t?t:l)},Un.conformsTo=function(e,t){return null==t||uo(e,t,kr(t))},Un.deburr=jr,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=gs,Un.endsWith=function(e,t,n){e=Er(e),t=ul(t);var o=e.length,a=n=n===l?o:ro(_r(n),0,o);return(n-=t.length)>=0&&e.slice(n,a)==t},Un.eq=Ui,Un.escape=function(e){return(e=Er(e))&&G.test(e)?e.replace(J,an):e},Un.escapeRegExp=function(e){return(e=Er(e))&&ae.test(e)?e.replace(le,"\\$&"):e},Un.every=function(e,t,n){var o=qi(e)?kt:vo;return n&&ya(e,t,n)&&(t=l),o(e,da(t,3))},Un.find=bi,Un.findIndex=ja,Un.findKey=function(e,t){return Yt(e,da(t,3),ho)},Un.findLast=fi,Un.findLastIndex=qa,Un.findLastKey=function(e,t){return Yt(e,da(t,3),xo)},Un.floor=ys,Un.forEach=Ei,Un.forEachRight=gi,Un.forIn=function(e,t){return null==e?e:go(e,da(t,3),Dr)},Un.forInRight=function(e,t){return null==e?e:yo(e,da(t,3),Dr)},Un.forOwn=function(e,t){return e&&ho(e,da(t,3))},Un.forOwnRight=function(e,t){return e&&xo(e,da(t,3))},Un.get=Cr,Un.gt=Yi,Un.gte=zi,Un.has=function(e,t){return null!=e&&ba(e,t,Oo)},Un.hasIn=Sr,Un.head=Wa,Un.identity=os,Un.includes=function(e,t,n,o){e=Wi(e)?e:Ur(e),n=n&&!o?_r(n):0;var l=e.length;return n<0&&(n=$t(l+n,0)),rr(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&jt(e,t,n)>-1},Un.indexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:_r(n);return l<0&&(l=$t(o+l,0)),jt(e,t,l)},Un.inRange=function(e,t,n){return t=pr(t),n===l?(n=t,t=0):n=pr(n),function(e,t,n){return e>=gn(t,n)&&e<$t(t,n)}(e=br(e),t,n)},Un.invoke=Mr,Un.isArguments=ji,Un.isArray=qi,Un.isArrayBuffer=Xi,Un.isArrayLike=Wi,Un.isArrayLikeObject=Ki,Un.isBoolean=function(e){return!0===e||!1===e||tr(e)&&Co(e)==y},Un.isBuffer=$i,Un.isDate=Ji,Un.isElement=function(e){return tr(e)&&1===e.nodeType&&!lr(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Wi(e)&&(qi(e)||"string"==typeof e||"function"==typeof e.splice||$i(e)||dr(e)||ji(e)))return!e.length;var t=va(e);if(t==T||t==M)return!e.size;if(Ia(e))return!Ro(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return No(e,t)},Un.isEqualWith=function(e,t,n){var o=(n="function"==typeof n?n:l)?n(e,t):l;return o===l?No(e,t,l,n):!!o},Un.isError=Hi,Un.isFinite=function(e){return"number"==typeof e&&gt(e)},Un.isFunction=Gi,Un.isInteger=Qi,Un.isLength=Zi,Un.isMap=nr,Un.isMatch=function(e,t){return e===t||Ao(e,t,ca(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:l,Ao(e,t,ca(t),n)},Un.isNaN=function(e){return or(e)&&e!=+e},Un.isNative=function(e){if(wa(e))throw new re("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lo(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=or,Un.isObject=er,Un.isObjectLike=tr,Un.isPlainObject=lr,Un.isRegExp=ar,Un.isSafeInteger=function(e){return Qi(e)&&e>=-9007199254740991&&e<=_},Un.isSet=ir,Un.isString=rr,Un.isSymbol=sr,Un.isTypedArray=dr,Un.isUndefined=function(e){return e===l},Un.isWeakMap=function(e){return tr(e)&&va(e)==N},Un.isWeakSet=function(e){return tr(e)&&"[object WeakSet]"==Co(e)},Un.join=function(e,t){return null==e?"":yt.call(e,t)},Un.kebabCase=qr,Un.last=Ha,Un.lastIndexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var a=o;return n!==l&&(a=(a=_r(n))<0?$t(o+a,0):gn(a,o-1)),t===t?function(e,t,n){for(var o=n+1;o--;)if(e[o]===t)return o;return o}(e,t,a):zt(e,Xt,a,!0)},Un.lowerCase=Xr,Un.lowerFirst=Wr,Un.lt=ur,Un.lte=cr,Un.max=function(e){return e&&e.length?bo(e,os,So):l},Un.maxBy=function(e,t){return e&&e.length?bo(e,da(t,2),So):l},Un.mean=function(e){return Wt(e,os)},Un.meanBy=function(e,t){return Wt(e,da(t,2))},Un.min=function(e){return e&&e.length?bo(e,os,Vo):l},Un.minBy=function(e,t){return e&&e.length?bo(e,da(t,2),Vo):l},Un.stubArray=vs,Un.stubFalse=bs,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=hs,Un.nth=function(e,t){return e&&e.length?qo(e,_r(t)):l},Un.noConflict=function(){return vt._===this&&(vt._=Ue),this},Un.noop=ss,Un.now=Ci,Un.pad=function(e,t,n){e=Er(e);var o=(t=_r(t))?_n(e):0;if(!t||o>=t)return e;var l=(t-o)/2;return Xl(_t(l),n)+e+Xl(pt(l),n)},Un.padEnd=function(e,t,n){e=Er(e);var o=(t=_r(t))?_n(e):0;return t&&o<t?e+Xl(t-o,n):e},Un.padStart=function(e,t,n){e=Er(e);var o=(t=_r(t))?_n(e):0;return t&&o<t?Xl(t-o,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),hn(Er(e).replace(ie,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ya(e,t,n)&&(t=n=l),n===l&&("boolean"==typeof t?(n=t,t=l):"boolean"==typeof e&&(n=e,e=l)),e===l&&t===l?(e=0,t=1):(e=pr(e),t===l?(t=e,e=0):t=pr(t)),e>t){var o=e;e=t,t=o}if(n||e%1||t%1){var a=xn();return gn(e+a*(t-e+ct("1e-"+((a+"").length-1))),t)}return Jo(e,t)},Un.reduce=function(e,t,n){var o=qi(e)?Rt:Jt,l=arguments.length<3;return o(e,da(t,4),n,l,po)},Un.reduceRight=function(e,t,n){var o=qi(e)?Bt:Jt,l=arguments.length<3;return o(e,da(t,4),n,l,_o)},Un.repeat=function(e,t,n){return t=(n?ya(e,t,n):t===l)?1:_r(t),Ho(Er(e),t)},Un.replace=function(){var e=arguments,t=Er(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var o=-1,a=(t=yl(t,e)).length;for(a||(a=1,e=l);++o<a;){var i=null==e?l:e[Ra(t[o])];i===l&&(o=a,i=n),e=Gi(i)?i.call(e):i}return e},Un.round=xs,Un.runInContext=e,Un.sample=function(e){return(qi(e)?Gn:Qo)(e)},Un.size=function(e){if(null==e)return 0;if(Wi(e))return rr(e)?_n(e):e.length;var t=va(e);return t==T||t==M?e.size:Ro(e).length},Un.snakeCase=Kr,Un.some=function(e,t,n){var o=qi(e)?Vt:al;return n&&ya(e,t,n)&&(t=l),o(e,da(t,3))},Un.sortedIndex=function(e,t){return il(e,t)},Un.sortedIndexBy=function(e,t,n){return rl(e,t,da(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var o=il(e,t);if(o<n&&Ui(e[o],t))return o}return-1},Un.sortedLastIndex=function(e,t){return il(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return rl(e,t,da(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=il(e,t,!0)-1;if(Ui(e[n],t))return n}return-1},Un.startCase=$r,Un.startsWith=function(e,t,n){return e=Er(e),n=null==n?0:ro(_r(n),0,e.length),t=ul(t),e.slice(n,n+t.length)==t},Un.subtract=ws,Un.sum=function(e){return e&&e.length?Ht(e,os):0},Un.sumBy=function(e,t){return e&&e.length?Ht(e,da(t,2)):0},Un.template=function(e,t,n){var o=Un.templateSettings;n&&ya(e,t,n)&&(t=l),e=Er(e),t=hr({},t,o,Zl);var a,i,r=hr({},t.imports,o.imports,Zl),s=kr(r),d=en(r,s),u=0,c=t.interpolate||xe,m="__p += '",p=Se((t.escape||xe).source+"|"+c.source+"|"+(c===ee?_e:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),_="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(p,(function(t,n,o,l,r,s){return o||(o=l),m+=e.slice(u,s).replace(we,rn),n&&(a=!0,m+="' +\n__e("+n+") +\n'"),r&&(i=!0,m+="';\n"+r+";\n__p += '"),o&&(m+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),u=s+t.length,t})),m+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(me.test(v))throw new re("Invalid `variable` option passed into `_.template`")}else m="with (obj) {\n"+m+"\n}\n";m=(i?m.replace(X,""):m).replace(W,"$1").replace(K,"$1;"),m="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var b=Qr((function(){return Ie(s,_+"return "+m).apply(l,d)}));if(b.source=m,Hi(b))throw b;return b},Un.times=function(e,t){if((e=_r(e))<1||e>_)return[];var n=b,o=gn(e,b);t=da(t),e-=b;for(var l=Gt(o,t);++n<e;)t(n);return l},Un.toFinite=pr,Un.toInteger=_r,Un.toLength=vr,Un.toLower=function(e){return Er(e).toLowerCase()},Un.toNumber=br,Un.toSafeInteger=function(e){return e?ro(_r(e),-9007199254740991,_):0===e?e:0},Un.toString=Er,Un.toUpper=function(e){return Er(e).toUpperCase()},Un.trim=function(e,t,n){if((e=Er(e))&&(n||t===l))return Qt(e);if(!e||!(t=ul(t)))return e;var o=vn(e),a=vn(t);return xl(o,nn(o,a),on(o,a)+1).join("")},Un.trimEnd=function(e,t,n){if((e=Er(e))&&(n||t===l))return e.slice(0,bn(e)+1);if(!e||!(t=ul(t)))return e;var o=vn(e);return xl(o,0,on(o,vn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=Er(e))&&(n||t===l))return e.replace(ie,"");if(!e||!(t=ul(t)))return e;var o=vn(e);return xl(o,nn(o,vn(t))).join("")},Un.truncate=function(e,t){var n=30,o="...";if(er(t)){var a="separator"in t?t.separator:a;n="length"in t?_r(t.length):n,o="omission"in t?ul(t.omission):o}var i=(e=Er(e)).length;if(sn(e)){var r=vn(e);i=r.length}if(n>=i)return e;var s=n-_n(o);if(s<1)return o;var d=r?xl(r,0,s).join(""):e.slice(0,s);if(a===l)return d+o;if(r&&(s+=d.length-s),ar(a)){if(e.slice(s).search(a)){var u,c=d;for(a.global||(a=Se(a.source,Er(ve.exec(a))+"g")),a.lastIndex=0;u=a.exec(c);)var m=u.index;d=d.slice(0,m===l?s:m)}}else if(e.indexOf(ul(a),s)!=s){var p=d.lastIndexOf(a);p>-1&&(d=d.slice(0,p))}return d+o},Un.unescape=function(e){return(e=Er(e))&&H.test(e)?e.replace($,fn):e},Un.uniqueId=function(e){var t=++Fe;return Er(e)+t},Un.upperCase=Jr,Un.upperFirst=Hr,Un.each=Ei,Un.eachRight=gi,Un.first=Wa,rs(Un,function(){var e={};return ho(Un,(function(t,n){Le.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Pt(["drop","take"],(function(e,t){qn.prototype[e]=function(n){n=n===l?1:$t(_r(n),0);var o=this.__filtered__&&!t?new qn(this):this.clone();return o.__filtered__?o.__takeCount__=gn(n,o.__takeCount__):o.__views__.push({size:gn(n,b),type:e+(o.__dir__<0?"Right":"")}),o},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Pt(["filter","map","takeWhile"],(function(e,t){var n=t+1,o=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:da(e,3),type:n}),t.__filtered__=t.__filtered__||o,t}})),Pt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),Pt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(os)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Go((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return ko(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(Li(da(e)))},qn.prototype.slice=function(e,t){e=_r(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==l&&(n=(t=_r(t))<0?n.dropRight(-t):n.take(t-e)),n)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(b)},ho(qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),a=Un[o?"take"+("last"==t?"Right":""):t],i=o||/^find/.test(t);a&&(Un.prototype[t]=function(){var t=this.__wrapped__,r=o?[1]:arguments,s=t instanceof qn,d=r[0],u=s||qi(t),c=function(e){var t=a.apply(Un,Ft([e],r));return o&&m?t[0]:t};u&&n&&"function"==typeof d&&1!=d.length&&(s=u=!1);var m=this.__chain__,p=!!this.__actions__.length,_=i&&!m,v=s&&!p;if(!i&&u){t=v?t:new qn(this);var b=e.apply(t,r);return b.__actions__.push({func:pi,args:[c],thisArg:l}),new jn(b,m)}return _&&v?e.apply(this,r):(b=this.thru(c),_?o?b.value()[0]:b.value():b)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var l=this.value();return t.apply(qi(l)?l:[],e)}return this[n]((function(n){return t.apply(qi(n)?n:[],e)}))}})),ho(qn.prototype,(function(e,t){var n=Un[t];if(n){var o=n.name+"";Le.call(kn,o)||(kn[o]=[]),kn[o].push({name:t,func:n})}})),kn[Yl(l,2).name]=[{name:"wrapper",func:l}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=Ml(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ml(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ml(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qi(e),o=t<0,l=n?e.length:0,a=function(e,t,n){var o=-1,l=n.length;for(;++o<l;){var a=n[o],i=a.size;switch(a.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=gn(t,e+i);break;case"takeRight":e=$t(e,t-i)}}return{start:e,end:t}}(0,l,this.__views__),i=a.start,r=a.end,s=r-i,d=o?r:i-1,u=this.__iteratees__,c=u.length,m=0,p=gn(s,this.__takeCount__);if(!n||!o&&l==s&&p==s)return vl(e,this.__actions__);var _=[];e:for(;s--&&m<p;){for(var v=-1,b=e[d+=t];++v<c;){var f=u[v],E=f.iteratee,g=f.type,y=E(b);if(2==g)b=y;else if(!y){if(1==g)continue e;break e}}_[m++]=b}return _},Un.prototype.at=_i,Un.prototype.chain=function(){return mi(this)},Un.prototype.commit=function(){return new jn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===l&&(this.__values__=mr(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?l:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var o=Va(n);o.__index__=0,o.__values__=l,t?a.__wrapped__=o:t=o;var a=o;n=n.__wrapped__}return a.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:pi,args:[ei],thisArg:l}),new jn(t,this.__chain__)}return this.thru(ei)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return vl(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Ge&&(Un.prototype[Ge]=function(){return this}),Un}();vt._=En,(o=function(){return En}.call(t,n,t,e))===l||(e.exports=o)}.call(this)},7891:(e,t,n)=>{"use strict";var o=n(5206);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot},6660:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o="undefined"!==typeof t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,l,a){"string"===typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var d=0;d<e.length;d++){var u=[].concat(e[d]);o&&i[u[0]]||("undefined"!==typeof a&&("undefined"===typeof u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),l&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=l):u[4]="".concat(l)),t.push(u))}},t}},1531:e=>{"use strict";e.exports=function(e){return e[1]}},3971:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,"pre code.hljs {\n  display: block;\n  overflow-x: auto;\n  padding: 1em\n}\ncode.hljs {\n  padding: 3px 5px\n}\n/*\n\nAtom One Light by Daniel Gamage\nOriginal One Light Syntax theme from https://github.com/atom/one-light-syntax\n\nbase:    #fafafa\nmono-1:  #383a42\nmono-2:  #686b77\nmono-3:  #a0a1a7\nhue-1:   #0184bb\nhue-2:   #4078f2\nhue-3:   #a626a4\nhue-4:   #50a14f\nhue-5:   #e45649\nhue-5-2: #c91243\nhue-6:   #986801\nhue-6-2: #c18401\n\n*/\n.hljs {\n  color: #383a42;\n  background: #fafafa\n}\n.hljs-comment,\n.hljs-quote {\n  color: #a0a1a7;\n  font-style: italic\n}\n.hljs-doctag,\n.hljs-keyword,\n.hljs-formula {\n  color: #a626a4\n}\n.hljs-section,\n.hljs-name,\n.hljs-selector-tag,\n.hljs-deletion,\n.hljs-subst {\n  color: #e45649\n}\n.hljs-literal {\n  color: #0184bb\n}\n.hljs-string,\n.hljs-regexp,\n.hljs-addition,\n.hljs-attribute,\n.hljs-meta .hljs-string {\n  color: #50a14f\n}\n.hljs-attr,\n.hljs-variable,\n.hljs-template-variable,\n.hljs-type,\n.hljs-selector-class,\n.hljs-selector-attr,\n.hljs-selector-pseudo,\n.hljs-number {\n  color: #986801\n}\n.hljs-symbol,\n.hljs-bullet,\n.hljs-link,\n.hljs-meta,\n.hljs-selector-id,\n.hljs-title {\n  color: #4078f2\n}\n.hljs-built_in,\n.hljs-title.class_,\n.hljs-class .hljs-title {\n  color: #c18401\n}\n.hljs-emphasis {\n  font-style: italic\n}\n.hljs-strong {\n  font-weight: bold\n}\n.hljs-link {\n  text-decoration: underline\n}",""]),i.locals={};const r=i},4843:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".field_sort__vRrBx .button_text__aRkCl {\n  width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  pointer-events: none;\n}\n",""]),i.locals={field_sort:"field_sort__vRrBx",button_text:"button_text__aRkCl"};const r=i},6273:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".editor__M8_Ek {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.editor__M8_Ek .header__WwbJC {\n  height: 56px;\n}\n.editor__M8_Ek .header__WwbJC .header_box__bgM8G {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 700;\n  width: 100%;\n  height: 56px;\n  background: #ffffff;\n  -webkit-backdrop-filter: blur(20px);\n          backdrop-filter: blur(20px);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 10px;\n  box-sizing: border-box;\n}\n.editor__M8_Ek .header__WwbJC .header_box__bgM8G .header_left__Va4Xf {\n  flex: 1 1;\n}\n.editor__M8_Ek .main__EzQZ8 {\n  flex: 1 1;\n  display: flex;\n  flex-direction: row;\n  height: calc(100% - 56px);\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj {\n  min-width: 100%;\n  background: #ffffff;\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t {\n  line-height: 30px;\n  padding: 0 10px;\n  -webkit-user-select: none;\n          user-select: none;\n  color: #666666;\n  font-size: 12px;\n  cursor: pointer;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: row;\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t.hover__QqFiV {\n  background: rgba(24, 144, 255, 0.25);\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t.active__xxD79 {\n  color: #ffffff;\n  background: rgba(24, 144, 255, 0.9);\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t.active__xxD79 .control__PrPbL {\n  display: flex;\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t .icon__Btvyr {\n  width: 14px;\n  height: 30px;\n  display: inline-block;\n  margin-right: 5px;\n  vertical-align: top;\n  pointer-events: none;\n  transform: scale(0.9);\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t .fold__xA6Sr {\n  width: 14px;\n  height: 30px;\n  display: inline-block;\n  margin-right: 5px;\n  vertical-align: top;\n  transform: scale(0.9);\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t .fold__xA6Sr .iconfont__VSl9n {\n  transition: all 0.3s;\n  display: inline-block;\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t .title__QY0qk {\n  flex: 1 1;\n  pointer-events: none;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t .control__PrPbL {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  display: none;\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t .control__PrPbL .btns__IlUnn {\n  width: 20px;\n  height: 20px;\n  margin: 0 1px;\n  background: #ffffff;\n  color: #1890ff;\n  display: flex;\n  font-size: 12px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t .control__PrPbL .btns__IlUnn.copy__C1wiZ {\n  color: #1890ff;\n}\n.editor__M8_Ek .main__EzQZ8 .outline__Mf9lj .line__Lpy_t .control__PrPbL .btns__IlUnn.remove__o1Sin {\n  color: #ff4d4f;\n}\n.editor__M8_Ek .main__EzQZ8 .buttons__l7Naf {\n  padding: 10px 5px;\n  height: 100%;\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n.editor__M8_Ek .main__EzQZ8 .buttons__l7Naf .buttons_box__ysadg {\n  overflow-y: auto;\n}\n.editor__M8_Ek .main__EzQZ8 .buttons__l7Naf .buttons_box__ysadg .btn__jlzHx {\n  width: 100%;\n  height: 66px;\n  font-size: 12px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #d9d9d9;\n  box-sizing: border-box;\n  border-radius: 6px;\n  cursor: pointer;\n  -webkit-user-select: none;\n          user-select: none;\n  transition: all 0.3s;\n  margin: 5px 0;\n}\n.editor__M8_Ek .main__EzQZ8 .buttons__l7Naf .buttons_box__ysadg .btn__jlzHx:hover {\n  background: rgba(24, 144, 255, 0.1);\n  border: 1px solid #1890ff;\n}\n.editor__M8_Ek .main__EzQZ8 .settings__RxgNH {\n  padding: 10px 0;\n}\n.editor__M8_Ek .main__EzQZ8 .body__e5lnT {\n  flex: 1 1;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n.editor__M8_Ek .main__EzQZ8 .body__e5lnT .content__iLa68 {\n  flex: 1 1;\n  padding: 15px;\n  box-sizing: border-box;\n  overflow: auto;\n}\n.editor__M8_Ek .main__EzQZ8 .body__e5lnT .content__iLa68 .editor_content__KnlEK {\n  height: 0;\n  transform-origin: 0 0;\n  transform: scale(1);\n  transition: all 0.3s;\n  vertical-align: top;\n}\n.editor__M8_Ek .main__EzQZ8 .body__e5lnT .content__iLa68 .editor_content__KnlEK .editor_box__vv5xN {\n  display: block;\n  margin: 0 auto;\n}\n.editor__M8_Ek .main__EzQZ8 .body__e5lnT .footer__aRrKV {\n  width: 100%;\n  height: 40px;\n}\n.editor__M8_Ek .main__EzQZ8 .body__e5lnT .footer__aRrKV .footer_box__E6FKu {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 500;\n  width: 100%;\n  height: 40px;\n  box-sizing: border-box;\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  background: #ffffff;\n  -webkit-backdrop-filter: blur(20px);\n          backdrop-filter: blur(20px);\n}\n",""]),i.locals={editor:"editor__M8_Ek",header:"header__WwbJC",header_box:"header_box__bgM8G",header_left:"header_left__Va4Xf",main:"main__EzQZ8",outline:"outline__Mf9lj",line:"line__Lpy_t",hover:"hover__QqFiV",active:"active__xxD79",control:"control__PrPbL",icon:"icon__Btvyr",fold:"fold__xA6Sr",iconfont:"iconfont__VSl9n",title:"title__QY0qk",btns:"btns__IlUnn",copy:"copy__C1wiZ",remove:"remove__o1Sin",buttons:"buttons__l7Naf",buttons_box:"buttons_box__ysadg",btn:"btn__jlzHx",settings:"settings__RxgNH",body:"body__e5lnT",content:"content__iLa68",editor_content:"editor_content__KnlEK",editor_box:"editor_box__vv5xN",footer:"footer__aRrKV",footer_box:"footer_box__E6FKu"};const r=i},3524:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,'.notinformtip__wdoMw {\n  font-size: 12px;\n  color: #ff4d4f;\n  padding-top: 5px;\n}\n.detail_text__RuUaM {\n  color: #767e89;\n  padding: 4.5px 0;\n}\n.detail_text__RuUaM.border__ZRI6h {\n  border-bottom: 1px solid #eeeeee;\n}\n.form_item_title__NqRKe {\n  color: rgba(0, 0, 0, 0.88);\n  font-weight: 500;\n}\n.common__oXofR {\n  position: relative;\n  overflow: hidden;\n}\n.common__oXofR.edit__uJxUG {\n  padding: 10px;\n}\n.common__oXofR.hidden__H4JHo {\n  display: none;\n}\n.common__oXofR .cover__BUVKj {\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  z-index: 20;\n  font-size: 0;\n  width: 100%;\n  height: 100%;\n  text-align: right;\n  cursor: default;\n  border-radius: 7px;\n  box-sizing: border-box;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.common__oXofR .cover__BUVKj .control__DtQaE {\n  margin: 5px;\n  display: none;\n  transform: scale(0.8);\n  transform-origin: 100% 0;\n}\n.common__oXofR .cover__BUVKj:hover {\n  background: rgba(24, 144, 255, 0.1);\n}\n.common__oXofR .cover__BUVKj:hover .control__DtQaE {\n  display: block;\n}\n.common__oXofR .cover__BUVKj.active__cxHBe {\n  background: rgba(24, 144, 255, 0.2);\n}\n.common__oXofR .cover__BUVKj.active__cxHBe .control__DtQaE {\n  display: block;\n}\n.common__oXofR[class*="sortable-drag"] {\n  background: #1890ff;\n  opacity: 0;\n}\n.input__fApzp {\n  width: 100%;\n}\n.textarea__PpmbT {\n  width: 100%;\n}\n.radio__fuy8q {\n  width: 100%;\n}\n.radio__fuy8q .ant-radio-wrapper {\n  margin-inline-end: 0;\n}\n.checkbox__TJeh_ {\n  width: 100%;\n}\n.checkbox_color_btn__JsPfb {\n  padding: 0;\n  display: inline-block;\n  -webkit-user-select: none;\n          user-select: none;\n  transition: all 0.3s;\n}\n.checkbox_color_btn__JsPfb.show__uePJG {\n  padding: 1px 10px;\n  border-radius: 5px;\n  color: #ffffff;\n}\n.checkbox_color_btn__JsPfb + .checkbox_color_btn__JsPfb {\n  margin-left: 10px;\n}\n.select__ZQYB6 {\n  width: 100%;\n}\n.select_color_dot__k78rJ {\n  width: 0;\n  height: 0;\n  display: inline-block;\n  -webkit-user-select: none;\n          user-select: none;\n  border-radius: 100%;\n  transition: all 0.3s;\n  transform: scale(1.2);\n  vertical-align: baseline;\n  margin: 0 5px;\n}\n.select_color_dot__k78rJ.show__uePJG {\n  width: 10px;\n  height: 10px;\n}\n.select_color_label__TVzC3 {\n  vertical-align: baseline;\n}\n.richText__Iui51 {\n  width: 100%;\n}\n.richText_show__CcwQC {\n  padding: 10px 20px 50px 20px;\n  border: 1px solid rgba(240, 240, 240, 0.3);\n  border-radius: 6px;\n  background: #f5f5f5;\n  position: relative;\n  overflow: hidden;\n}\n.richText_show__CcwQC.fold__zEtRd {\n  height: 200px;\n}\n.richText_show__CcwQC .btn__qi_ad {\n  width: 100%;\n  height: 30px;\n  position: absolute;\n  box-shadow: -5px 10px 10px 10px rgba(0, 0, 0, 0.05);\n  cursor: pointer;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-image: linear-gradient(0deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.9));\n}\n.json__b6ARY {\n  width: 100%;\n}\n.json_show__wAaKd {\n  margin: 0;\n  padding: 10px 20px 50px 20px;\n  border: 1px solid rgba(240, 240, 240, 0.3);\n  border-radius: 6px;\n  background: #f5f5f5;\n  position: relative;\n  overflow: hidden;\n}\n.json_show__wAaKd.fold__zEtRd {\n  height: 200px;\n}\n.json_show__wAaKd .btn__qi_ad {\n  width: 100%;\n  height: 30px;\n  position: absolute;\n  box-shadow: -5px 10px 10px 10px rgba(0, 0, 0, 0.05);\n  cursor: pointer;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-image: linear-gradient(0deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.9));\n}\n.datePicker__WYmgs {\n  width: 100%;\n}\n.table__VCwps {\n  opacity: 1;\n  width: 100%;\n}\n.table_column_required__gckCT {\n  color: #ff4d4f;\n  margin-inline-end: 5px;\n  font-weight: 400;\n  font-size: 14px;\n  font-family: "SimSun,sans-serif";\n}\n.relation_labelbox .relation_value {\n  color: rgba(38, 40, 64, 0.4);\n  font-size: 12px;\n}\n.xins_form_relationTable_box .ant-pro-card-body {\n  padding-inline: 0;\n}\n.xins_form_relationTable_box .ant-pro-table-alert {\n  display: none;\n}\n.userSelect__TGNll {\n  width: 100%;\n}\n.userSelect_btn__KW39l {\n  padding: 0px 7px;\n  border-radius: 4px;\n  background: #e6eaf0;\n  white-space: nowrap;\n  cursor: pointer;\n}\n.userSelect_user_card__XioIn {\n  width: 300px;\n  min-height: 300px;\n}\n.userSelect_user_card__XioIn .card_bg___kHhY {\n  height: 150px;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  border-radius: 8px 8px 0 0;\n}\n.userSelect_user_card__XioIn .card_body__rlvbm .user_avatar__QEwN1 {\n  margin: -50px auto 0 auto;\n  display: block;\n  border: 3px solid #ffffff;\n  box-shadow: 2px 2px 7px rgba(0, 0, 0, 0.1);\n  background: #ffffff;\n}\n.userSelect_user_card__XioIn .card_body__rlvbm .user_title__a7_L4 {\n  text-align: center;\n  font-size: 18px;\n  font-weight: 600;\n}\n.userSelect_user_card__XioIn .card_body__rlvbm .user_content__MfO01 {\n  padding: 0 20px 20px 20px;\n}\n.userSelect_user_card__XioIn .card_body__rlvbm .user_content__MfO01 .user_line__f3gN7 {\n  margin: 15px 0;\n  display: flex;\n}\n.userSelect_user_card__XioIn .card_body__rlvbm .user_content__MfO01 .user_line__f3gN7 .line_label__CV6F3 {\n  width: 70px;\n  color: #888888;\n  font-size: 14px;\n}\n.userSelect_user_card__XioIn .card_body__rlvbm .user_content__MfO01 .user_line__f3gN7 .line_value__JyqO5 {\n  flex: 1 1;\n  color: #333333;\n}\n',""]),i.locals={notinformtip:"notinformtip__wdoMw",detail_text:"detail_text__RuUaM",border:"border__ZRI6h",form_item_title:"form_item_title__NqRKe",common:"common__oXofR",edit:"edit__uJxUG",hidden:"hidden__H4JHo",cover:"cover__BUVKj",control:"control__DtQaE",active:"active__cxHBe",input:"input__fApzp",textarea:"textarea__PpmbT",radio:"radio__fuy8q",checkbox:"checkbox__TJeh_",checkbox_color_btn:"checkbox_color_btn__JsPfb",show:"show__uePJG",select:"select__ZQYB6",select_color_dot:"select_color_dot__k78rJ",select_color_label:"select_color_label__TVzC3",richText:"richText__Iui51",richText_show:"richText_show__CcwQC",fold:"fold__zEtRd",btn:"btn__qi_ad",json:"json__b6ARY",json_show:"json_show__wAaKd",datePicker:"datePicker__WYmgs",table:"table__VCwps",table_column_required:"table_column_required__gckCT",userSelect:"userSelect__TGNll",userSelect_btn:"userSelect_btn__KW39l",userSelect_user_card:"userSelect_user_card__XioIn",card_bg:"card_bg___kHhY",card_body:"card_body__rlvbm",user_avatar:"user_avatar__QEwN1",user_title:"user_title__a7_L4",user_content:"user_content__MfO01",user_line:"user_line__f3gN7",line_label:"line_label__CV6F3",line_value:"line_value__JyqO5"};const r=i},9928:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".test__OasSK {\n  opacity: 1;\n}\n",""]),i.locals={test:"test__OasSK"};const r=i},9702:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".form__kHveM {\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n}\n.form__kHveM .ant-form-item {\n  margin-bottom: 0;\n}\n.color_dot__fPcbI {\n  width: 0;\n  height: 0;\n  border-radius: 100%;\n  display: inline-block;\n  transition: all 0.3s;\n  margin-right: 2px;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.color_dot__fPcbI.show__VhE8v {\n  width: 16px;\n  height: 16px;\n}\n.table_filter__EKNov .table_area___pH6f {\n  padding: 5px 10px;\n  border-radius: 6px;\n  background: #f5f5f5;\n  border: 1px solid #f0f0f0;\n}\n.table_filter__EKNov .table_area___pH6f .table_line__I02RR {\n  display: flex;\n  font-size: 13px;\n}\n.cascader_box__xjvRf {\n  width: 100%;\n  max-height: 500px;\n  overflow: auto;\n}\n.cascader_box__xjvRf .items_box__V3E9G {\n  display: inline-flex;\n  flex-direction: row;\n}\n.cascader_box__xjvRf .items_box__V3E9G .columns__ZNsSG {\n  flex: 1 1;\n  padding: 0 5px;\n  display: inline-block;\n  vertical-align: top;\n  box-sizing: border-box;\n  border-right: 1px solid #f0f0f0;\n}\n.cascader_box__xjvRf .items_box__V3E9G .columns__ZNsSG .item__EZEm8 {\n  padding: 5px 10px;\n  border-bottom: 1px solid #f0f0f0;\n  line-height: 20px;\n  cursor: pointer;\n  background: #f5f5f5;\n  border-color: #f5f5f5;\n  border-radius: 6px;\n  display: flex;\n}\n.cascader_box__xjvRf .items_box__V3E9G .columns__ZNsSG .item__EZEm8.active__wwbYy {\n  color: #ffffff;\n  background: #1890ff;\n  border-color: #1890ff;\n}\n.cascader_box__xjvRf .items_box__V3E9G .columns__ZNsSG .item__EZEm8 .prefix__W3hKF,\n.cascader_box__xjvRf .items_box__V3E9G .columns__ZNsSG .item__EZEm8 .suffix__Hul0R {\n  padding: 0 5px;\n}\n.cascader_box__xjvRf .items_box__V3E9G .columns__ZNsSG .item__EZEm8 .text__qNiza {\n  flex: 1 1;\n}\n.cascader_box__xjvRf .items_box__V3E9G .columns__ZNsSG .level__IItvs {\n  text-align: center;\n  line-height: 30px;\n  font-weight: bold;\n}\n.cascader_box__xjvRf .items_box__V3E9G .columns__ZNsSG:last-child {\n  border: none;\n}\n",""]),i.locals={form:"form__kHveM",color_dot:"color_dot__fPcbI",show:"show__VhE8v",table_filter:"table_filter__EKNov",table_area:"table_area___pH6f",table_line:"table_line__I02RR",cascader_box:"cascader_box__xjvRf",items_box:"items_box__V3E9G",columns:"columns__ZNsSG",item:"item__EZEm8",active:"active__wwbYy",prefix:"prefix__W3hKF",suffix:"suffix__Hul0R",text:"text__qNiza",level:"level__IItvs"};const r=i},8085:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,'.editor__JPALX {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.editor__JPALX .header__HTWIy {\n  height: 54px;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 700;\n  width: 100%;\n  height: 54px;\n  background: #ffffff;\n  background: #1890ff;\n  -webkit-backdrop-filter: blur(20px);\n          backdrop-filter: blur(20px);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 10px;\n  box-sizing: border-box;\n  color: #ffffff;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq {\n  flex: 1 1;\n  display: flex;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_title_box__RVCKN {\n  min-width: 240px;\n  max-width: 340px;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_title_box__RVCKN .header_title__wJz8G {\n  font-size: 15px;\n  font-weight: bold;\n  line-height: 15px;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 {\n  flex: 1 1;\n  height: 54px;\n  margin-right: 10px;\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 .section_menu_item__q9Vnh {\n  display: inline-flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  padding: 0 20px;\n  font-size: 14px;\n  cursor: pointer;\n  font-weight: 700;\n  position: relative;\n  margin-right: 1px;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 .section_menu_item__q9Vnh .control__d6Vlg .menu_item_icon__XUI8T {\n  padding: 10px 2px;\n  opacity: 0.5;\n  cursor: default;\n  font-weight: 700;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 .section_menu_item__q9Vnh .control__d6Vlg .menu_item_icon__XUI8T.left__Du1dX {\n  margin-left: -5px;\n  margin-right: 3px;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 .section_menu_item__q9Vnh .control__d6Vlg .menu_item_icon__XUI8T.right__gK5Vw {\n  margin-left: 3px;\n  margin-right: -5px;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 .section_menu_item__q9Vnh .control__d6Vlg .menu_item_icon__XUI8T:hover {\n  opacity: 1;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 .section_menu_item__q9Vnh::before {\n  content: " ";\n  display: none;\n  width: 20px;\n  height: 3px;\n  background: #ffffff;\n  border-radius: 100px;\n  position: absolute;\n  bottom: 5px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 .section_menu_item__q9Vnh::after {\n  content: " ";\n  display: block;\n  width: 1px;\n  height: 30%;\n  background: rgba(255, 255, 255, 0.1);\n  position: absolute;\n  top: 35%;\n  right: -1px;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 .section_menu_item__q9Vnh:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 .section_menu_item__q9Vnh.active__O7XvC {\n  background: rgba(0, 0, 0, 0.15);\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_left__kmfwq .header_menu_box__bhzH6 .section_menu_item__q9Vnh.active__O7XvC::before {\n  display: block;\n}\n.editor__JPALX .header__HTWIy .header_box__XEy7C .header_right__ZfS_B {\n  margin-right: 10px;\n}\n.editor__JPALX .main__a3NXg {\n  flex: 1 1;\n  display: flex;\n  flex-direction: row;\n  height: calc(100% - 54px);\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A {\n  padding: 5px 0;\n  height: 100%;\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC {\n  min-width: 100%;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO {\n  line-height: 44px;\n  padding: 0 10px 0 5px;\n  -webkit-user-select: none;\n          user-select: none;\n  color: #000000;\n  font-size: 14px;\n  cursor: pointer;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: row;\n  position: relative;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO.isadd__aHMcD {\n  opacity: 0.3;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO.isadd__aHMcD:hover {\n  opacity: 0.6;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO:hover {\n  background: rgba(38, 40, 64, 0.07);\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO:hover .control__d6Vlg .control_more__gORkd {\n  display: block;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO.active__O7XvC {\n  color: #1890ff;\n  font-weight: 700;\n  background: rgba(24, 144, 255, 0.2);\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO.active__O7XvC .control__d6Vlg .control_more__gORkd {\n  display: block;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO.active__O7XvC::before {\n  content: " ";\n  display: block;\n  width: 4px;\n  height: 100%;\n  background: #1890ff;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO .icon_box__gGw5l {\n  width: 22px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 10px;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO .icon__BjGYc {\n  width: 14px;\n  height: 44px;\n  display: inline-block;\n  margin-right: 5px;\n  vertical-align: top;\n  pointer-events: none;\n  transform: scale(0.9);\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO .fold__zDgiJ {\n  width: 14px;\n  height: 44px;\n  display: inline-block;\n  margin-right: 5px;\n  vertical-align: top;\n  transform: scale(0.9);\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO .fold__zDgiJ .iconfont__jgG9n {\n  transition: all 0.3s;\n  display: inline-block;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO .title__xr0wl {\n  flex: 1 1;\n  pointer-events: none;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO .control__d6Vlg {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.editor__JPALX .main__a3NXg .aside_scroll__jFl5A .menu_box__Y22UC .line___jjWO .control__d6Vlg .control_more__gORkd {\n  display: none;\n}\n.editor__JPALX .main__a3NXg .body__yXoRW {\n  flex: 1 1;\n  position: relative;\n  overflow: auto;\n  box-sizing: border-box;\n}\n.editor__JPALX .main__a3NXg .body__yXoRW .body_box__NhoIv {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n.editor__JPALX .main__a3NXg .body__yXoRW .body_header__MqgQi {\n  height: 40px;\n  background: #ffffff;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.08);\n  padding: 0 18px;\n  display: flex;\n  align-items: center;\n}\n.editor__JPALX .main__a3NXg .body__yXoRW .body_header__MqgQi .header_left__kmfwq {\n  flex: 1 1;\n}\n.editor__JPALX .main__a3NXg .body__yXoRW .body_content__zendO {\n  flex: 1 1;\n  box-sizing: border-box;\n  overflow: auto;\n}\n.basic_table__wQ8GR {\n  position: relative;\n}\n.basic_table__wQ8GR .setting_cover__HzgfR {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  transition: all 0.3s;\n  z-index: 100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n}\n.basic_table__wQ8GR:hover .setting_cover__HzgfR {\n  opacity: 1;\n}\n.table_setting_drawer__REpzs .form__CDfzy {\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n}\n.table_setting_drawer__REpzs .form__CDfzy .ant-form-item {\n  margin-bottom: 0 !important;\n}\n',""]),i.locals={editor:"editor__JPALX",header:"header__HTWIy",header_box:"header_box__XEy7C",header_left:"header_left__kmfwq",header_title_box:"header_title_box__RVCKN",header_title:"header_title__wJz8G",header_menu_box:"header_menu_box__bhzH6",section_menu_item:"section_menu_item__q9Vnh",control:"control__d6Vlg",menu_item_icon:"menu_item_icon__XUI8T",left:"left__Du1dX",right:"right__gK5Vw",active:"active__O7XvC",header_right:"header_right__ZfS_B",main:"main__a3NXg",aside_scroll:"aside_scroll__jFl5A",menu_box:"menu_box__Y22UC",line:"line___jjWO",isadd:"isadd__aHMcD",control_more:"control_more__gORkd",icon_box:"icon_box__gGw5l",icon:"icon__BjGYc",fold:"fold__zDgiJ",iconfont:"iconfont__jgG9n",title:"title__xr0wl",body:"body__yXoRW",body_box:"body_box__NhoIv",body_header:"body_header__MqgQi",body_content:"body_content__zendO",basic_table:"basic_table__wQ8GR",setting_cover:"setting_cover__HzgfR",table_setting_drawer:"table_setting_drawer__REpzs",form:"form__CDfzy"};const r=i},666:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,'.setting__ciSWi {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.setting__ciSWi .header__rjdYR {\n  height: 54px;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 700;\n  width: 100%;\n  height: 54px;\n  background: #ffffff;\n  -webkit-backdrop-filter: blur(20px);\n          backdrop-filter: blur(20px);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 10px;\n  box-sizing: border-box;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ {\n  flex: 1 1;\n  display: flex;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_title_box__mSndC {\n  min-width: 240px;\n  max-width: 340px;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_title_box__mSndC .header_title__CHLbs {\n  font-size: 15px;\n  font-weight: bold;\n  line-height: 15px;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_menu_box__Hf3o3 {\n  flex: 1 1;\n  height: 54px;\n  margin-right: 10px;\n  overflow-x: auto;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_menu_box__Hf3o3 .section_menu_item__l9G48 {\n  display: inline-flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  padding: 0 20px;\n  font-size: 14px;\n  cursor: pointer;\n  font-weight: 700;\n  position: relative;\n  margin-right: 1px;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_menu_box__Hf3o3 .section_menu_item__l9G48 .control__ql9jN .menu_item_icon__rmGD6 {\n  padding: 10px 2px;\n  margin-right: -5px;\n  cursor: default;\n  opacity: 0.5;\n  margin-left: 3px;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_menu_box__Hf3o3 .section_menu_item__l9G48 .control__ql9jN .menu_item_icon__rmGD6:hover {\n  opacity: 1;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_menu_box__Hf3o3 .section_menu_item__l9G48::before {\n  content: " ";\n  display: none;\n  width: 20px;\n  height: 3px;\n  background: #ffffff;\n  border-radius: 100px;\n  position: absolute;\n  bottom: 5px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_menu_box__Hf3o3 .section_menu_item__l9G48::after {\n  content: " ";\n  display: block;\n  width: 1px;\n  height: 30%;\n  background: rgba(255, 255, 255, 0.1);\n  position: absolute;\n  top: 35%;\n  right: -1px;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_menu_box__Hf3o3 .section_menu_item__l9G48:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_menu_box__Hf3o3 .section_menu_item__l9G48.active__NZEbg {\n  background: rgba(0, 0, 0, 0.15);\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_left__n0SgJ .header_menu_box__Hf3o3 .section_menu_item__l9G48.active__NZEbg::before {\n  display: block;\n}\n.setting__ciSWi .header__rjdYR .header_box__tD_47 .header_right__JPcv_ {\n  margin-right: 10px;\n}\n.setting__ciSWi .main__iuSvH {\n  flex: 1 1;\n  display: flex;\n  flex-direction: row;\n  height: calc(100% - 54px);\n}\n.setting__ciSWi .main__iuSvH .aside_scroll__BsyIp {\n  padding: 5px 0;\n  height: 100%;\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n.setting__ciSWi .main__iuSvH .body__rMcoD {\n  flex: 1 1;\n  padding: 15px;\n  box-sizing: border-box;\n  overflow: auto;\n}\n',""]),i.locals={setting:"setting__ciSWi",header:"header__rjdYR",header_box:"header_box__tD_47",header_left:"header_left__n0SgJ",header_title_box:"header_title_box__mSndC",header_title:"header_title__CHLbs",header_menu_box:"header_menu_box__Hf3o3",section_menu_item:"section_menu_item__l9G48",control:"control__ql9jN",menu_item_icon:"menu_item_icon__rmGD6",active:"active__NZEbg",header_right:"header_right__JPcv_",main:"main__iuSvH",aside_scroll:"aside_scroll__BsyIp",body:"body__rMcoD"};const r=i},9461:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".editor__GvdvA {\n  width: 100%;\n  height: 600px;\n  display: flex;\n}\n.editor__GvdvA .left_box__vxeu8 {\n  flex: 1 1;\n  overflow: hidden;\n}\n.editor__GvdvA .split_line__ucU_6 {\n  width: 1px;\n  background: #f5f5f5;\n  margin: 0 10px 0 20px;\n}\n.editor__GvdvA .right_box__jWbPb {\n  width: 300px;\n  margin-top: -10px;\n}\n.popover_box__zOHqF {\n  width: 320px;\n}\n.popover_box__zOHqF .popover_chart_item__PMaqJ {\n  height: 70px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n  background: #f5f5f5;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s;\n  box-sizing: border-box;\n  border: 1px solid rgba(38, 40, 64, 0);\n}\n.popover_box__zOHqF .popover_chart_item__PMaqJ:hover {\n  background: rgba(24, 144, 255, 0.2);\n  border: 1px solid #1890ff;\n}\n.popover_box__zOHqF .popover_chart_item__PMaqJ .iconfont__eMHm9 {\n  font-size: 34px;\n  width: 34px;\n  height: 34px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n}\n.popover_box__zOHqF .popover_chart_item__PMaqJ .text__cYYtL {\n  margin-top: 2px;\n  font-size: 12px;\n  color: #304bdb;\n}\n",""]),i.locals={editor:"editor__GvdvA",left_box:"left_box__vxeu8",split_line:"split_line__ucU_6",right_box:"right_box__jWbPb",popover_box:"popover_box__zOHqF",popover_chart_item:"popover_chart_item__PMaqJ",iconfont:"iconfont__eMHm9",text:"text__cYYtL"};const r=i},8040:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".common__RyMI_ {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n.huizong__BI5Lr {\n  opacity: 1;\n}\n.zhexian__V2qDp {\n  opacity: 1;\n}\n.bing__X7pUm {\n  opacity: 1;\n}\n.yibiao__zcao7 {\n  opacity: 1;\n}\n.zhexian__V2qDp {\n  opacity: 1;\n}\n.zhuzhuang__V5kc3 {\n  opacity: 1;\n}\n.loudou__X2_1i {\n  opacity: 1;\n}\n.huan__c6ufG {\n  opacity: 1;\n}\n.zhibiao__OSdVU {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n}\n.zhibiao__OSdVU .zhibiao_content__epdjn {\n  display: inline-block;\n  transition: all 0.3s;\n}\n.zhibiao__OSdVU .zhibiao_content__epdjn .zhibiao_number__ZJcMx {\n  font-size: 90px;\n  font-weight: 800;\n  text-align: center;\n}\n.zhibiao__OSdVU .zhibiao_content__epdjn .zhibiao_number__ZJcMx .zhibiao_value__ekDHn {\n  margin: 0 10px;\n}\n.zhibiao__OSdVU .zhibiao_content__epdjn .zhibiao_title__lTDJq {\n  font-size: 26px;\n  font-weight: 500;\n  text-align: center;\n}\n",""]),i.locals={common:"common__RyMI_",huizong:"huizong__BI5Lr",zhexian:"zhexian__V2qDp",bing:"bing__X7pUm",yibiao:"yibiao__zcao7",zhuzhuang:"zhuzhuang__V5kc3",loudou:"loudou__X2_1i",huan:"huan__c6ufG",zhibiao:"zhibiao__OSdVU",zhibiao_content:"zhibiao_content__epdjn",zhibiao_number:"zhibiao_number__ZJcMx",zhibiao_value:"zhibiao_value__ekDHn",zhibiao_title:"zhibiao_title__lTDJq"};const r=i},8186:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".form__DKphY {\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n}\n.form__DKphY .ant-form-item {\n  margin-bottom: 0;\n}\n.color_dot__gIdbZ {\n  width: 0;\n  height: 0;\n  border-radius: 100%;\n  display: inline-block;\n  transition: all 0.3s;\n  margin-right: 2px;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.color_dot__gIdbZ.show__Hk8M7 {\n  width: 16px;\n  height: 16px;\n}\n.table_filter__gQVTA .table_area__llJZQ {\n  padding: 5px 10px;\n  border-radius: 6px;\n  background: #f5f5f5;\n  border: 1px solid #f0f0f0;\n}\n.table_filter__gQVTA .table_area__llJZQ .table_line__ssI8H {\n  display: flex;\n  font-size: 13px;\n}\n.report_target___5eFx .select__pOLMR {\n  transform: scale(0.9);\n  width: 52px;\n  text-align: center;\n}\n.report_target___5eFx .select__pOLMR .ant-select-selector {\n  color: #ffffff;\n  padding: 0 !important;\n  border: none !important;\n}\n.report_target___5eFx .select__pOLMR.count__O9T5Y .ant-select-selector {\n  background: #07d3db;\n}\n.report_target___5eFx .select__pOLMR.sum__Dx51T .ant-select-selector {\n  background: #ff8100;\n}\n.report_target___5eFx .select__pOLMR.avg__TzVQV .ant-select-selector {\n  background: #52c41a;\n}\n.report_target___5eFx .select__pOLMR.max__oZR6r .ant-select-selector {\n  background: #ff4d4f;\n}\n.report_target___5eFx .select__pOLMR.min__X6jg1 .ant-select-selector {\n  background: #ffa900;\n}\n.report_target___5eFx .select__pOLMR.asc__KIKOQ .ant-select-selector {\n  background: #ff4d4f;\n}\n.report_target___5eFx .select__pOLMR.desc__DfCfD .ant-select-selector {\n  background: #52c41a;\n}\n.color_choose__bfbJR {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n}\n.color_choose__bfbJR .color_choose_item__BsOTF {\n  flex: 1 1;\n  height: 25px;\n  margin-right: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 6px;\n  color: #ffffff;\n  font-weight: bold;\n  cursor: pointer;\n}\n",""]),i.locals={form:"form__DKphY",color_dot:"color_dot__gIdbZ",show:"show__Hk8M7",table_filter:"table_filter__gQVTA",table_area:"table_area__llJZQ",table_line:"table_line__ssI8H",report_target:"report_target___5eFx",select:"select__pOLMR",count:"count__O9T5Y",sum:"sum__Dx51T",avg:"avg__TzVQV",max:"max__oZR6r",min:"min__X6jg1",asc:"asc__KIKOQ",desc:"desc__DfCfD",color_choose:"color_choose__bfbJR",color_choose_item:"color_choose_item__BsOTF"};const r=i},6183:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".tree__wMQxL {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  max-height: 435px;\n  overflow-y: auto;\n}\n.tree__wMQxL .tree_node__MIZhE {\n  border-radius: 5px;\n  padding: 2px 15px;\n}\n.tree__wMQxL .tree_node__MIZhE .fieldname__WwLw9 {\n  font-size: 14px;\n  color: #2692da;\n  font-weight: 400;\n  white-space: nowrap;\n}\n.tree__wMQxL .tree_node__MIZhE .attr__ssrl_ {\n  font-size: 12px;\n  padding: 2px 5px;\n  color: #ffffff;\n  border-radius: 5px;\n}\n.tree__wMQxL .tree_node__MIZhE .attr__ssrl_.object__J0wbt {\n  background-image: linear-gradient(135deg, rgba(24, 144, 255, 0.3), #1890ff);\n}\n.tree__wMQxL .tree_node__MIZhE .attr__ssrl_.array__yic4H {\n  background-image: linear-gradient(135deg, rgba(82, 196, 26, 0.3), #52c41a);\n}\n.tree__wMQxL .tree_node__MIZhE .number__nQZbz {\n  color: #6583a9;\n  font-size: 13px;\n}\n.tree__wMQxL .tree_node__MIZhE .value__S_WOC {\n  font-size: 14px;\n}\n.tree__wMQxL .ant-tree-node-content-wrapper:hover {\n  background-color: transparent;\n  background-image: linear-gradient(90deg, rgba(24, 144, 255, 0.1), rgba(24, 144, 255, 0));\n}\n.tree__wMQxL .ant-tree-node-selected {\n  padding-left: 2px !important;\n  background-color: transparent !important;\n}\n.tree__wMQxL .ant-tree-node-selected .tree_node__MIZhE {\n  background-image: linear-gradient(90deg, rgba(24, 144, 255, 0.35), rgba(24, 144, 255, 0));\n}\n.richText__Tbprm {\n  border: 1px solid #d9d9d9;\n}\n.script_modal_subtitle__Ez2hc {\n  color: rgba(0, 0, 0, 0.4);\n  margin-left: 3px;\n  font-size: 13px;\n}\n",""]),i.locals={tree:"tree__wMQxL",tree_node:"tree_node__MIZhE",fieldname:"fieldname__WwLw9",attr:"attr__ssrl_",object:"object__J0wbt",array:"array__yic4H",number:"number__nQZbz",value:"value__S_WOC",richText:"richText__Tbprm",script_modal_subtitle:"script_modal_subtitle__Ez2hc"};const r=i},5965:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".empty_box__MF_AB {\n  height: 100%;\n  width: 100%;\n  min-height: 60px;\n  background: rgba(136, 136, 136, 0.2);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #888888;\n  font-size: 12px;\n  text-align: center;\n  pointer-events: none;\n}\n.cover__xtOse {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 3;\n  transform: translateZ(0);\n  font-size: 0;\n  width: 100%;\n  height: 100%;\n  cursor: default;\n  text-align: right;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.cover__xtOse.height100__QNaig {\n  height: 100%;\n}\n.cover__xtOse.hover__h2Qav {\n  border: 1px dashed #1890ff;\n}\n.cover__xtOse.active__MtLzy {\n  border: 2px solid #1890ff;\n}\n.cover__xtOse.active__MtLzy .control__IYtTf {\n  display: block;\n}\n.cover__xtOse.add__xk9SV {\n  border: 1px dashed #1890ff;\n  background: rgba(0, 110, 211, 0.2);\n}\n.cover__xtOse.disabled__aPnr2 {\n  background: rgba(136, 136, 136, 0.6);\n  border: 2px solid rgba(136, 136, 136, 0);\n  z-index: 3;\n}\n.cover__xtOse.disabled__aPnr2 .control__IYtTf {\n  display: none;\n}\n.cover__xtOse .control__IYtTf {\n  display: none;\n  position: absolute;\n  top: -23px;\n  right: -2px;\n  z-index: 6;\n  white-space: nowrap;\n}\n.cover__xtOse .control__IYtTf .item__WPkOR {\n  background: #1890ff;\n  line-height: 20px;\n  font-size: 12px;\n  color: #ffffff;\n  margin-left: 1px;\n  border-radius: 2px;\n  padding: 0 10px;\n  display: inline-block;\n  position: relative;\n  vertical-align: top;\n  text-indent: 0 !important;\n}\n.cover__xtOse .control__IYtTf .item__WPkOR:hover .dropdown__FRkNV {\n  display: block;\n}\n.cover__xtOse .control__IYtTf .item__WPkOR.btn__nmbJD {\n  cursor: pointer;\n  padding: 0 5px;\n}\n.cover__xtOse .control__IYtTf .item__WPkOR .dropdown__FRkNV {\n  position: absolute;\n  top: 20px;\n  left: 0;\n  display: none;\n  z-index: 3;\n}\n.cover__xtOse .control__IYtTf .item__WPkOR .dropdown__FRkNV .drop__BUuLw {\n  margin-top: 1px;\n  background: rgba(38, 40, 64, 0.6);\n  color: #ffffff;\n  white-space: nowrap;\n  display: block;\n  padding: 0 10px;\n  border-radius: 2px;\n  cursor: pointer;\n  text-align: left;\n}\n.cover__xtOse .control__IYtTf .item__WPkOR .dropdown__FRkNV .drop__BUuLw:hover {\n  background: rgba(38, 40, 64, 0.8);\n}\n.cover__xtOse .insert__UigAn {\n  position: absolute;\n  background: #1890ff;\n  z-index: -10;\n}\n.cover__xtOse .insert__UigAn.top__Jo4Va {\n  top: 0;\n  left: 0;\n  height: 4px;\n  width: 100%;\n  transform: translateY(-4px / 2);\n}\n.cover__xtOse .insert__UigAn.bottom__D8F3I {\n  bottom: 0;\n  left: 0;\n  height: 4px;\n  width: 100%;\n  transform: translateY(4px / 2);\n}\n.cover__xtOse .insert__UigAn.left__NLuli {\n  top: 0;\n  left: 0;\n  width: 4px;\n  height: 100%;\n  transform: translateX(-4px / 2);\n}\n.cover__xtOse .insert__UigAn.right__CRqXf {\n  bottom: 0;\n  right: 0;\n  width: 4px;\n  height: 100%;\n  transform: translateX(4px / 2);\n}\n",""]),i.locals={empty_box:"empty_box__MF_AB",cover:"cover__xtOse",height100:"height100__QNaig",hover:"hover__h2Qav",active:"active__MtLzy",control:"control__IYtTf",add:"add__xk9SV",disabled:"disabled__aPnr2",item:"item__WPkOR",dropdown:"dropdown__FRkNV",btn:"btn__nmbJD",drop:"drop__BUuLw",insert:"insert__UigAn",top:"top__Jo4Va",bottom:"bottom__D8F3I",left:"left__NLuli",right:"right__CRqXf"};const r=i},7951:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".editor__KsmHR {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.editor__KsmHR .header__n2Wm_ {\n  height: 56px;\n}\n.editor__KsmHR .header__n2Wm_ .header_box__BniMb {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 700;\n  width: 100%;\n  height: 56px;\n  background: #ffffff;\n  -webkit-backdrop-filter: blur(20px);\n          backdrop-filter: blur(20px);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 10px;\n  box-sizing: border-box;\n}\n.editor__KsmHR .header__n2Wm_ .header_box__BniMb .header_left__ZxkVU {\n  flex: 1 1;\n}\n.editor__KsmHR .header__n2Wm_ .header_box__BniMb .header_right__s3YyH .screenshot__cudtR {\n  position: fixed;\n  width: 1000px;\n  top: 0;\n  left: 0;\n  transform: translateX(-1000000px);\n}\n.editor__KsmHR .main__lQk08 {\n  flex: 1 1;\n  display: flex;\n  flex-direction: row;\n  height: calc(100% - 56px);\n}\n.editor__KsmHR .main__lQk08 .aside_box__dImbi {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n}\n.editor__KsmHR .main__lQk08 .aside_box__dImbi .aside_menu__fDuLL {\n  width: 45px;\n  padding: 4px 0;\n  border-right: 1px solid #dedede;\n}\n.editor__KsmHR .main__lQk08 .aside_box__dImbi .aside_menu__fDuLL .item_box__jVF4k {\n  width: 45px;\n  height: 55px;\n  border-radius: 0;\n}\n.editor__KsmHR .main__lQk08 .aside_box__dImbi .aside_content__OJJsr {\n  flex: 1 1;\n}\n.editor__KsmHR .main__lQk08 .aside_box__dImbi .aside_content__OJJsr .content__onZL6 {\n  display: none;\n  height: 100%;\n  overflow-y: auto;\n  padding: 15px 0;\n  box-sizing: border-box;\n}\n.editor__KsmHR .main__lQk08 .aside_box__dImbi .aside_content__OJJsr .content__onZL6.show__uhdfU {\n  display: block;\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk {\n  min-width: 100%;\n  background: #ffffff;\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs {\n  line-height: 30px;\n  padding: 0 10px;\n  -webkit-user-select: none;\n          user-select: none;\n  color: #000000;\n  font-size: 12px;\n  cursor: pointer;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: row;\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs.hover__sbntt {\n  background: rgba(24, 144, 255, 0.25);\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs.active__U3Rcf {\n  color: #ffffff;\n  background: rgba(24, 144, 255, 0.9);\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs.active__U3Rcf .control__NrcvY {\n  display: flex;\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs.active__U3Rcf .title__OVmkk .subtitle__fYajb {\n  color: rgba(255, 255, 255, 0.6);\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs .icon__xN_Dc {\n  width: 14px;\n  height: 30px;\n  display: inline-block;\n  margin-right: 5px;\n  vertical-align: top;\n  pointer-events: none;\n  transform: scale(0.9);\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs .fold__GOWcp {\n  width: 14px;\n  height: 30px;\n  display: inline-block;\n  margin-right: 5px;\n  vertical-align: top;\n  transform: scale(0.9);\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs .fold__GOWcp .iconfont__chikX {\n  transition: all 0.3s;\n  display: inline-block;\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs .title__OVmkk {\n  flex: 1 1;\n  pointer-events: none;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs .title__OVmkk .subtitle__fYajb {\n  color: rgba(0, 0, 0, 0.4);\n  margin-left: 3px;\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs .control__NrcvY {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  display: none;\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs .control__NrcvY .btns__mkNrF {\n  width: 20px;\n  height: 20px;\n  margin: 0 1px;\n  background: #ffffff;\n  color: #1890ff;\n  display: flex;\n  font-size: 12px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs .control__NrcvY .btns__mkNrF.copy__UKIoq {\n  color: #1890ff;\n}\n.editor__KsmHR .main__lQk08 .outline__LnBDk .line__iUuVs .control__NrcvY .btns__mkNrF.remove__LOo1V {\n  color: #ff4d4f;\n}\n.editor__KsmHR .main__lQk08 .search_area__cii00 {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n}\n.editor__KsmHR .main__lQk08 .search_area__cii00 .input_box__bzA3A {\n  padding: 10px;\n}\n.editor__KsmHR .main__lQk08 .search_area__cii00 .content_box__JQXkn {\n  flex: 1 1;\n  width: 100%;\n  padding: 0 10px 0 10px;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 {\n  height: 100%;\n  box-sizing: border-box;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .eventnone__xZ7HT {\n  pointer-events: none;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .component_item__IhVHQ {\n  border: 1px solid #dedede;\n  border-radius: 5px;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .component_item__IhVHQ .cover_bg__xIIbh {\n  width: 100%;\n  background-position: center 0;\n  background-size: 100% auto;\n  background-repeat: no-repeat;\n  background-position: center center;\n  box-shadow: inset 0 -2px 6px 0px rgba(0, 0, 0, 0.06);\n  pointer-events: none;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .component_item__IhVHQ .banner__hfG_I {\n  width: 100%;\n  height: 60px;\n  object-fit: contain;\n  background: #f5f5f5;\n  pointer-events: none;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .component_item__IhVHQ .footer__zNRzh {\n  padding: 6px;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .component_item__IhVHQ .footer__zNRzh .title__OVmkk {\n  font-size: 12px;\n  text-align: center;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .component_item__IhVHQ .footer__zNRzh .bottom___kqKm {\n  font-size: 12px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  text-align: center;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .component_item__IhVHQ.component__ldml8 {\n  cursor: pointer;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .component_item__IhVHQ.component__ldml8:hover {\n  border-color: #1890ff;\n  background: rgba(24, 144, 255, 0.1);\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .component_item__IhVHQ.template__mxGm3 .bottom___kqKm .bottom_left__hdfbH {\n  color: #888888;\n  font-size: 12px;\n}\n.editor__KsmHR .main__lQk08 .component__ldml8 .component_item__IhVHQ.template__mxGm3 .bottom___kqKm .bottom_right__QUVPG {\n  transform-origin: 100% 50%;\n  transform: scale(0.8);\n}\n.editor__KsmHR .main__lQk08 .buttons__HrEQo .btn__yKRt9 {\n  width: 100%;\n  height: 66px;\n  font-size: 12px;\n  display: inline-flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #d9d9d9;\n  box-sizing: border-box;\n  border-radius: 6px;\n  cursor: pointer;\n  -webkit-user-select: none;\n          user-select: none;\n  transition: all 0.3s;\n  padding: 5px;\n  text-align: center;\n}\n.editor__KsmHR .main__lQk08 .buttons__HrEQo .btn__yKRt9:hover {\n  background: rgba(24, 144, 255, 0.1);\n  border: 1px solid #1890ff;\n}\n.editor__KsmHR .main__lQk08 .buttons__HrEQo .btn__yKRt9 .icon__xN_Dc {\n  width: 30px;\n  height: 25px;\n  color: #ffffff;\n  border-radius: 20%;\n  background-image: linear-gradient(135deg, rgba(22, 119, 255, 0.4), #1677ff);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 600;\n  font-size: 16px;\n  pointer-events: none;\n}\n.editor__KsmHR .main__lQk08 .buttons__HrEQo .btn__yKRt9 .text__oPiZ3 {\n  line-height: 14px;\n  margin-top: 5px;\n  pointer-events: none;\n}\n.editor__KsmHR .main__lQk08 .body__D3MMx {\n  flex: 1 1;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n.editor__KsmHR .main__lQk08 .body__D3MMx .content__onZL6 {\n  flex: 1 1;\n  padding: 15px;\n  box-sizing: border-box;\n  overflow: auto;\n}\n.editor__KsmHR .main__lQk08 .body__D3MMx .content__onZL6 .editor_content__eH84x {\n  transform-origin: 0 0;\n  vertical-align: top;\n}\n.editor__KsmHR .main__lQk08 .body__D3MMx .content__onZL6 .editor_content__eH84x .editor_box__x7t2C {\n  display: block;\n  margin: 0 auto;\n}\n.editor__KsmHR .main__lQk08 .body__D3MMx .footer__zNRzh {\n  width: 100%;\n  height: 40px;\n}\n.editor__KsmHR .main__lQk08 .body__D3MMx .footer__zNRzh .footer_box__zQuQ1 {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 500;\n  width: 100%;\n  height: 40px;\n  box-sizing: border-box;\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  background: #ffffff;\n  -webkit-backdrop-filter: blur(20px);\n          backdrop-filter: blur(20px);\n}\n.spin_loading__XtIvn {\n  height: 60px;\n  background: rgba(255, 255, 255, 0.8);\n  -webkit-backdrop-filter: saturate(180%) blur(20px);\n          backdrop-filter: saturate(180%) blur(20px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 20px 20px;\n  border-radius: 10px;\n}\n.drag_dom__K941q {\n  width: 66px;\n  height: 66px;\n  position: fixed;\n  top: -1000000px;\n  left: -1000000px;\n  z-index: 1000;\n  font-size: 12px;\n  color: #000000;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #d9d9d9;\n  box-sizing: border-box;\n  border-radius: 6px;\n  -webkit-user-select: none;\n          user-select: none;\n  margin: 5px 0;\n  background: #ffffff;\n  border: 1px solid #1890ff;\n  box-shadow: 0 0 13px 5px rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n  transform: translate3d(-50%, -50%, 0);\n}\n",""]),i.locals={editor:"editor__KsmHR",header:"header__n2Wm_",header_box:"header_box__BniMb",header_left:"header_left__ZxkVU",header_right:"header_right__s3YyH",screenshot:"screenshot__cudtR",main:"main__lQk08",aside_box:"aside_box__dImbi",aside_menu:"aside_menu__fDuLL",item_box:"item_box__jVF4k",aside_content:"aside_content__OJJsr",content:"content__onZL6",show:"show__uhdfU",outline:"outline__LnBDk",line:"line__iUuVs",hover:"hover__sbntt",active:"active__U3Rcf",control:"control__NrcvY",title:"title__OVmkk",subtitle:"subtitle__fYajb",icon:"icon__xN_Dc",fold:"fold__GOWcp",iconfont:"iconfont__chikX",btns:"btns__mkNrF",copy:"copy__UKIoq",remove:"remove__LOo1V",search_area:"search_area__cii00",input_box:"input_box__bzA3A",content_box:"content_box__JQXkn",component:"component__ldml8",eventnone:"eventnone__xZ7HT",component_item:"component_item__IhVHQ",cover_bg:"cover_bg__xIIbh",banner:"banner__hfG_I",footer:"footer__zNRzh",bottom:"bottom___kqKm",template:"template__mxGm3",bottom_left:"bottom_left__hdfbH",bottom_right:"bottom_right__QUVPG",buttons:"buttons__HrEQo",btn:"btn__yKRt9",text:"text__oPiZ3",body:"body__D3MMx",editor_content:"editor_content__eH84x",editor_box:"editor_box__x7t2C",footer_box:"footer_box__zQuQ1",spin_loading:"spin_loading__XtIvn",drag_dom:"drag_dom__K941q"};const r=i},78:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".common__gufll {\n  position: relative;\n  box-sizing: border-box;\n}\n.hidden__kJKoC {\n  display: none !important;\n}\n.notinformtip__bcOcP {\n  font-size: 12px;\n  color: #ff4d4f;\n  padding-top: 5px;\n}\n.button_block__NmquV {\n  display: block !important;\n}\n.form__tIdXA .content__TBnBJ {\n  text-align: center;\n  margin-top: 10px;\n}\n.formSenior__CZyoP {\n  opacity: 1;\n}\n.formSeniorItem__MmY0k .common_text__xwV77 {\n  padding: 10px 30px;\n  text-align: center;\n  min-height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  margin: 2px 0;\n  line-height: 18px;\n}\n.formSeniorItem__MmY0k .common_text__xwV77.delete_text__vfP5U {\n  background: rgba(255, 77, 79, 0.05);\n  color: #ff4d4f;\n  border: 1px dashed #ff4d4f;\n}\n.formSeniorItem__MmY0k .common_text__xwV77.choose_text__OUVap {\n  background: rgba(24, 144, 255, 0.05);\n  color: #1890ff;\n  border: 1px dashed #1890ff;\n}\n.screen__aJpgc {\n  box-sizing: border-box;\n  margin: 0 auto;\n  border-radius: 6px;\n}\n.screen_\u5927\u5c4f\u9002\u914d__rB3HT {\n  box-sizing: border-box;\n  margin: 0 auto;\n  border-radius: 6px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n.screen_\u5927\u5c4f\u9002\u914d__rB3HT .context__IDo2r {\n  display: block;\n}\n.grid__AIP0y {\n  display: block;\n}\n.grid__AIP0y .grid_content__OxFmP {\n  display: grid;\n  grid-template-columns: repeat(24, 1fr);\n}\n.wrap__pjx2C {\n  grid-row-start: span 1;\n  grid-row-end: auto;\n  grid-column-end: auto;\n}\n.wrap__pjx2C .content__TBnBJ {\n  overflow: hidden;\n}\n.wrap__pjx2C.hidden__kJKoC {\n  display: none;\n}\n.card__A69RZ {\n  padding: 0 !important;\n}\n.card__A69RZ .card_content__fgfPQ {\n  display: block;\n}\n.card__A69RZ .card_content__fgfPQ .card_tag__YmHam {\n  width: 5px;\n  display: inline-block;\n  margin-right: 8px;\n  font-size: 10px;\n}\n.space__lDjPF {\n  display: inline-block;\n}\n.space__lDjPF.block__jl3mI,\n.space__lDjPF > .space_content__gPhdP {\n  display: flex !important;\n  flex: 1 1;\n}\n.space__lDjPF .space_content__gPhdP {\n  display: inline-block;\n}\n.loop__QSpUN {\n  display: inline-block;\n}\n.loop__QSpUN.loop_block__hLw_M {\n  display: block;\n}\n.scroll__E0vxL .scroll_container__NpUlI {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.scroll__E0vxL .scroll_container__NpUlI .scroll_content__NJyhy {\n  min-height: 200%;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n}\n.scroll__E0vxL .scroll_container__NpUlI .scroll_content__NJyhy .item_box__Cj6Kd {\n  flex: 1 1;\n}\n.collapse__ubYOx {\n  padding: 0 !important;\n}\n.collapse__ubYOx .collapse_content__HeXZ5 {\n  display: block;\n}\n.collapse__ubYOx .collapse_content__HeXZ5 .collapse_tag__pbfgM {\n  width: 5px;\n  display: inline-block;\n  margin-right: 8px;\n  font-size: 10px;\n}\n.collapse__ubYOx .ant-collapse .ant-collapse-content {\n  border-top: 1px solid #f0f0f0;\n}\n.collapse__ubYOx .ant-collapse-borderless > .ant-collapse-item > .ant-collapse-content > .ant-collapse-content-box {\n  padding-top: 16px;\n}\n.childForm__L14id .header__Xb9BI {\n  color: #333333;\n  line-height: 20px;\n  margin-bottom: 10px / 2;\n}\n.modal__qWLyT {\n  display: inline-block;\n}\n.modal__qWLyT .modal_button__JnAyh {\n  opacity: 1;\n}\n.modal__qWLyT .modal_content__NeW3S {\n  display: block;\n}\n.logout__uMpZW {\n  display: inline-block;\n}\n.logout__uMpZW .logout_button__qUBo4 {\n  opacity: 1;\n}\n.drawer__cMh62 {\n  display: inline-block;\n}\n.drawer__cMh62 .drawer_button__ZAk51 {\n  opacity: 1;\n}\n.drawer__cMh62 .drawer_content__VzYVx {\n  display: block;\n}\n.popover__mEFO3 {\n  display: inline-block;\n}\n.input__syVfg {\n  width: 100%;\n}\n.textarea__lYg24 {\n  width: 100%;\n}\n.radio__suoBN {\n  width: 100%;\n}\n.checkbox__xKywl {\n  width: 100%;\n}\n.select__Mokt9 {\n  width: 100%;\n}\n.richText__UxUeu {\n  width: 100%;\n}\n.datePicker__TX80y {\n  width: 100%;\n}\n.description__zlPtq {\n  width: 100%;\n  margin: 0;\n}\n.description__zlPtq .description_content__nmYnM {\n  display: block;\n}\n.qrcode__GDl46 {\n  display: inline-block;\n}\n.html__qBYg1 .html_content__DdQIa {\n  overflow: auto;\n  height: 100%;\n}\n.outlet__N0wC6 {\n  min-height: 180px;\n}\n.outlet__N0wC6 .outlet_content___TnAF {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.props__Q2nDI {\n  width: 100%;\n}\n.props__Q2nDI.block__jl3mI {\n  min-height: 180px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.screenQuote__oJFlS {\n  display: block;\n}\n.screenQuote__oJFlS .screenQuote_content__XEt7R.none_event__FnYik {\n  pointer-events: none;\n}\n.tableQuote__vrtUl {\n  display: block;\n}\n.tableQuote__vrtUl .tableQuote_content__PpzqG.none_event__FnYik {\n  pointer-events: none;\n}\n.tableShow__sbVOV {\n  display: block;\n}\n.tableShow__sbVOV .row_line__MQhSm {\n  border-bottom: 1px solid #f0f0f0;\n  padding: 10px 0;\n}\n.tableShow__sbVOV .row_line__MQhSm:last-child {\n  border-bottom: none;\n}\n.tableShow__sbVOV .bottom_line__fB4xI {\n  border-bottom: 1px solid #f0f0f0;\n}\n.tableShow__sbVOV .xins_ant_pro_table_mobile {\n  width: 100%;\n}\n.tableShow__sbVOV .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-left {\n  margin-block-end: 12px;\n  margin-block-start: 12px;\n}\n.tableShow__sbVOV .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-setting-item {\n  display: none;\n}\n.tableShow__sbVOV .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-setting-item:first-child {\n  display: block;\n}\n.tableShow__sbVOV .ant-pro-table-list-toolbar-container {\n  flex-direction: row;\n}\n.tableShow__sbVOV .ant-pro-table-list-toolbar-container .ant-pro-table-list-toolbar-left {\n  flex: 0 1 auto;\n}\n.tableShow__sbVOV .ant-pro-table-extra {\n  margin-block-end: 0;\n}\n.workflowTable__dymFv {\n  display: block;\n}\n.workflowTable__dymFv .row_line__MQhSm {\n  border-bottom: 1px solid #f0f0f0;\n  padding: 10px 0;\n}\n.workflowTable__dymFv .row_line__MQhSm:last-child {\n  border-bottom: none;\n}\n.workflowTable__dymFv .bottom_line__fB4xI {\n  border-bottom: 1px solid #f0f0f0;\n}\n.workflowTable__dymFv .xins_ant_pro_table_mobile {\n  width: 100%;\n}\n.workflowTable__dymFv .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-left {\n  margin-block-end: 12px;\n  margin-block-start: 12px;\n}\n.workflowTable__dymFv .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-setting-item {\n  display: none;\n}\n.workflowTable__dymFv .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-setting-item:first-child {\n  display: block;\n}\n.workflowTable__dymFv .ant-pro-table-list-toolbar-container {\n  flex-direction: row;\n}\n.workflowTable__dymFv .ant-pro-table-list-toolbar-container .ant-pro-table-list-toolbar-left {\n  flex: 0 1 auto;\n}\n.workflowTable__dymFv .ant-pro-table-extra {\n  margin-block-end: 0;\n}\n.customTable__n4A79 {\n  display: block;\n}\n.customTable__n4A79 .row_line__MQhSm {\n  border-bottom: 1px solid #f0f0f0;\n  padding: 10px 0;\n}\n.customTable__n4A79 .row_line__MQhSm:last-child {\n  border-bottom: none;\n}\n.customTable__n4A79 .bottom_line__fB4xI {\n  border-bottom: 1px solid #f0f0f0;\n}\n.customTable__n4A79 .xins_ant_pro_table_mobile {\n  width: 100%;\n}\n.customTable__n4A79 .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-left {\n  margin-block-end: 12px;\n  margin-block-start: 12px;\n}\n.customTable__n4A79 .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-setting-item {\n  display: none;\n}\n.customTable__n4A79 .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-setting-item:first-child {\n  display: block;\n}\n.customTable__n4A79 .ant-pro-table-list-toolbar-container {\n  flex-direction: row;\n}\n.customTable__n4A79 .ant-pro-table-list-toolbar-container .ant-pro-table-list-toolbar-left {\n  flex: 0 1 auto;\n}\n.customTable__n4A79 .ant-pro-table-extra {\n  margin-block-end: 0;\n}\n.todoList__iaI8s {\n  font-size: 0;\n  display: block;\n}\n.todoList__iaI8s .row_line__MQhSm {\n  border-bottom: 1px solid #f0f0f0;\n  padding: 10px 0;\n}\n.todoList__iaI8s .row_line__MQhSm:last-child {\n  border-bottom: none;\n}\n.todoList__iaI8s .bottom_line__fB4xI {\n  border-bottom: 1px solid #f0f0f0;\n}\n.todoList__iaI8s .xins_ant_pro_table_mobile {\n  width: 100%;\n}\n.todoList__iaI8s .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-left {\n  margin-block-end: 12px;\n  margin-block-start: 12px;\n}\n.todoList__iaI8s .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-setting-item {\n  display: none;\n}\n.todoList__iaI8s .xins_ant_pro_table_mobile .ant-pro-table-list-toolbar-setting-item:first-child {\n  display: block;\n}\n.todoList__iaI8s .ant-pro-table-list-toolbar-container {\n  flex-direction: row;\n}\n.todoList__iaI8s .ant-pro-table-list-toolbar-container .ant-pro-table-list-toolbar-left {\n  flex: 0 1 auto;\n}\n.todoList__iaI8s .ant-pro-table-extra {\n  margin-block-end: 0;\n}\n.reportViewQuote__CZsTt {\n  display: block;\n}\n.reportViewQuote__CZsTt .reportViewQuote_content__m6OFb {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.reportViewQuote__CZsTt .reportViewQuote_content__m6OFb.none_event__FnYik {\n  pointer-events: none;\n}\n.text__vRwbe {\n  display: inline;\n  vertical-align: top;\n}\n.text__vRwbe.text_rows__gmtoC {\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n.time__x7MAC {\n  display: inline-block;\n  vertical-align: top;\n}\n.image__bBr5t {\n  display: inline-block;\n  max-width: 100%;\n  font-size: 0;\n  vertical-align: top;\n}\n.image__bBr5t .ant-image {\n  width: inherit;\n  height: inherit;\n}\n.image__bBr5t .ant-image > img {\n  width: inherit;\n  height: inherit;\n}\n.image__bBr5t .image_img__PFagc {\n  width: 100%;\n  display: inherit;\n}\n.image__bBr5t .image_empty__VxHCz {\n  width: 250px;\n  height: 150px;\n  object-fit: cover;\n  min-width: 100%;\n  max-width: 100%;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(38, 40, 64, 0.07);\n}\n.link__nWYLk {\n  display: inline-block;\n  vertical-align: top;\n}\n.link__nWYLk .link_content__heLNu {\n  display: inherit;\n}\n.link__nWYLk .link_content__heLNu.link_rows__go6qm {\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n.link__nWYLk:hover {\n  text-decoration: underline;\n}\n.linkBlock__odKFI {\n  display: inline-block;\n  vertical-align: top;\n}\n.linkBlock__odKFI .link_block_content__OfgNN {\n  display: block;\n}\n.icon__qUpUM {\n  display: inline-block;\n  vertical-align: top;\n}\n.button__viu4d {\n  display: inline-block;\n}\n.button__viu4d .button_content__dRIeC {\n  opacity: 1;\n}\n.account__CMQaF {\n  display: inline-block;\n}\n.account__CMQaF .account_content__OA6wK {\n  display: block;\n}\n.progress__uSqom {\n  display: inline-block;\n}\n.progress__uSqom .progress_content__LeK7d {\n  display: block;\n}\n.carousel__KFRZ6 {\n  display: block;\n}\n.carousel__KFRZ6 .carousel_content__VCkyZ {\n  display: block;\n}\n.carouselImage__SFQRM {\n  display: block;\n  font-size: 0;\n}\n.carouselImage__SFQRM .ant-carousel {\n  font-size: 0;\n}\n.carouselImage__SFQRM .carousel_img_content__fn48B .carousel_img__pexYj {\n  width: 100%;\n  margin: 0 auto;\n  display: block;\n}\n.carouselImage__SFQRM .carousel_img_content__fn48B .carousel_empty__qxJH8 {\n  background: #eeeeee;\n  color: #888888;\n  text-align: center;\n  line-height: 150px;\n  font-size: 20px;\n}\n.jsx__MC_y4 {\n  cursor: auto;\n}\n.jsx__MC_y4 .jsx_content__roJIn {\n  cursor: auto;\n}\n.echart__bqoi9 .echart_content__IEPAi {\n  display: block;\n}\n.mobileFooter__pVzfm {\n  font-size: 0;\n  width: 100%;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.mobileFooter__pVzfm .mf_container__lVt7m {\n  width: 100%;\n}\n.mobileFooter__pVzfm .mf_container__lVt7m .mf_content__gEcxg {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  box-shadow: 0 -10px 10px 0px rgba(0, 0, 0, 0.025);\n}\n.mobileFooter__pVzfm .mf_container__lVt7m .mf_content__gEcxg .mf_body__rNx9i {\n  display: flex;\n  flex-direction: row;\n}\n.mobileFooter__pVzfm .mf_container__lVt7m .mf_content__gEcxg .mf_body__rNx9i .mf_item__gtxXx {\n  flex: 1 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n.mobileFooter__pVzfm .mf_container__lVt7m .mf_content__gEcxg .mf_body__rNx9i .mf_item__gtxXx .mf_icon__cruLl {\n  font-size: 20px;\n  margin-bottom: 6px;\n}\n.mobileFooter__pVzfm .mf_container__lVt7m .mf_content__gEcxg .mf_body__rNx9i .mf_item__gtxXx .mf_label__jv5CM {\n  line-height: 1;\n  font-weight: 500;\n}\n.float__Uu7oW {\n  z-index: 100;\n}\n.float__Uu7oW.left__UL07W {\n  top: 50%;\n  left: 0;\n  transform: translateY(-50%);\n}\n.float__Uu7oW.top__Ie41r {\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.float__Uu7oW.right__WtebP {\n  top: 50%;\n  right: 0;\n  transform: translateY(-50%);\n}\n.float__Uu7oW.bottom__zq_J_ {\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.float__Uu7oW.leftTop__IY0R5 {\n  left: 0;\n  top: 0;\n}\n.float__Uu7oW.leftBottom__xVlPz {\n  left: 0;\n  bottom: 0;\n}\n.float__Uu7oW.rightTop__wr5Kj {\n  right: 0;\n  top: 0;\n}\n.float__Uu7oW.rightBottom__KHsDN {\n  right: 0;\n  bottom: 0;\n}\n.login__BXGuq .ant-pro-form-login-container .ant-pro-form-login-header {\n  height: auto;\n}\n.login__BXGuq .logo_box__HY963 {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.login__BXGuq .logo_box__HY963 .logo__XKsIe {\n  width: 50px;\n  height: 50px;\n  border-radius: 10px;\n}\n.login__BXGuq .logo_box__HY963 .title__cnm2_ {\n  font-weight: bold;\n  font-size: 20px;\n  color: #262840;\n  margin-top: 10px;\n  padding: 10px;\n  text-align: center;\n  line-height: 30px;\n}\n.login__BXGuq .other__X7iD9 {\n  margin-inline-start: 16px;\n  color: rgba(0, 0, 0, 0.2);\n  font-size: 24px;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.login__BXGuq .other__X7iD9.wechat__fD0Zm:hover {\n  color: #52c41a;\n}\n.login__BXGuq .other__X7iD9.dingding__YSvFM:hover {\n  color: #1890ff;\n}\n.login__BXGuq .other__X7iD9.alipay__csToR:hover {\n  color: #1890ff;\n}\n.menu__uGUMC .ant-menu-horizontal {\n  border: none;\n}\n.menu__uGUMC .ant-menu-light.ant-menu-root.ant-menu-vertical {\n  border-inline-end: none;\n}\n.menu__uGUMC .ant-menu-light.ant-menu-root.ant-menu-inline {\n  border-inline-end: none;\n}\n.component__idflm {\n  opacity: 1;\n}\n",""]),i.locals={common:"common__gufll",hidden:"hidden__kJKoC",notinformtip:"notinformtip__bcOcP",button_block:"button_block__NmquV",form:"form__tIdXA",content:"content__TBnBJ",formSenior:"formSenior__CZyoP",formSeniorItem:"formSeniorItem__MmY0k",common_text:"common_text__xwV77",delete_text:"delete_text__vfP5U",choose_text:"choose_text__OUVap",screen:"screen__aJpgc","screen_\u5927\u5c4f\u9002\u914d":"screen_\u5927\u5c4f\u9002\u914d__rB3HT",context:"context__IDo2r",grid:"grid__AIP0y",grid_content:"grid_content__OxFmP",wrap:"wrap__pjx2C",card:"card__A69RZ",card_content:"card_content__fgfPQ",card_tag:"card_tag__YmHam",space:"space__lDjPF",block:"block__jl3mI",space_content:"space_content__gPhdP",loop:"loop__QSpUN",loop_block:"loop_block__hLw_M",scroll:"scroll__E0vxL",scroll_container:"scroll_container__NpUlI",scroll_content:"scroll_content__NJyhy",item_box:"item_box__Cj6Kd",collapse:"collapse__ubYOx",collapse_content:"collapse_content__HeXZ5",collapse_tag:"collapse_tag__pbfgM",childForm:"childForm__L14id",header:"header__Xb9BI",modal:"modal__qWLyT",modal_button:"modal_button__JnAyh",modal_content:"modal_content__NeW3S",logout:"logout__uMpZW",logout_button:"logout_button__qUBo4",drawer:"drawer__cMh62",drawer_button:"drawer_button__ZAk51",drawer_content:"drawer_content__VzYVx",popover:"popover__mEFO3",input:"input__syVfg",textarea:"textarea__lYg24",radio:"radio__suoBN",checkbox:"checkbox__xKywl",select:"select__Mokt9",richText:"richText__UxUeu",datePicker:"datePicker__TX80y",description:"description__zlPtq",description_content:"description_content__nmYnM",qrcode:"qrcode__GDl46",html:"html__qBYg1",html_content:"html_content__DdQIa",outlet:"outlet__N0wC6",outlet_content:"outlet_content___TnAF",props:"props__Q2nDI",screenQuote:"screenQuote__oJFlS",screenQuote_content:"screenQuote_content__XEt7R",none_event:"none_event__FnYik",tableQuote:"tableQuote__vrtUl",tableQuote_content:"tableQuote_content__PpzqG",tableShow:"tableShow__sbVOV",row_line:"row_line__MQhSm",bottom_line:"bottom_line__fB4xI",workflowTable:"workflowTable__dymFv",customTable:"customTable__n4A79",todoList:"todoList__iaI8s",reportViewQuote:"reportViewQuote__CZsTt",reportViewQuote_content:"reportViewQuote_content__m6OFb",text:"text__vRwbe",text_rows:"text_rows__gmtoC",time:"time__x7MAC",image:"image__bBr5t",image_img:"image_img__PFagc",image_empty:"image_empty__VxHCz",link:"link__nWYLk",link_content:"link_content__heLNu",link_rows:"link_rows__go6qm",linkBlock:"linkBlock__odKFI",link_block_content:"link_block_content__OfgNN",icon:"icon__qUpUM",button:"button__viu4d",button_content:"button_content__dRIeC",account:"account__CMQaF",account_content:"account_content__OA6wK",progress:"progress__uSqom",progress_content:"progress_content__LeK7d",carousel:"carousel__KFRZ6",carousel_content:"carousel_content__VCkyZ",carouselImage:"carouselImage__SFQRM",carousel_img_content:"carousel_img_content__fn48B",carousel_img:"carousel_img__pexYj",carousel_empty:"carousel_empty__qxJH8",jsx:"jsx__MC_y4",jsx_content:"jsx_content__roJIn",echart:"echart__bqoi9",echart_content:"echart_content__IEPAi",mobileFooter:"mobileFooter__pVzfm",mf_container:"mf_container__lVt7m",mf_content:"mf_content__gEcxg",mf_body:"mf_body__rNx9i",mf_item:"mf_item__gtxXx",mf_icon:"mf_icon__cruLl",mf_label:"mf_label__jv5CM",float:"float__Uu7oW",left:"left__UL07W",top:"top__Ie41r",right:"right__WtebP",bottom:"bottom__zq_J_",leftTop:"leftTop__IY0R5",leftBottom:"leftBottom__xVlPz",rightTop:"rightTop__wr5Kj",rightBottom:"rightBottom__KHsDN",login:"login__BXGuq",logo_box:"logo_box__HY963",logo:"logo__XKsIe",title:"title__cnm2_",other:"other__X7iD9",wechat:"wechat__fD0Zm",dingding:"dingding__YSvFM",alipay:"alipay__csToR",menu:"menu__uGUMC",component:"component__idflm"};const r=i},1044:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".form__dfFcE {\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n}\n.form__dfFcE .ant-form-item {\n  margin-bottom: 0;\n}\n.event_box__ktmxt {\n  border-radius: 6px;\n  padding: 10px;\n  background: rgba(38, 40, 64, 0.05);\n}\n.table_filter__nBwXR .table_area__oXmoS {\n  padding: 5px 10px;\n  border-radius: 6px;\n  background: #f5f5f5;\n  border: 1px solid #f0f0f0;\n}\n.table_filter__nBwXR .table_area__oXmoS .table_line__n9kvD {\n  display: flex;\n  font-size: 13px;\n}\n.xin_tree__jiU3J .title__pRf7c {\n  display: inline-flex;\n}\n.xin_tree__jiU3J .title__pRf7c:hover .control__VWrqn {\n  display: inline-block !important;\n}\n.xin_tree__jiU3J .title__pRf7c .text__c7ZV9 {\n  flex: 1 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.xin_tree__jiU3J .title__pRf7c .control__VWrqn {\n  display: none;\n}\n.xin_tree__jiU3J .title__pRf7c .control__VWrqn .btn__CFriq {\n  font-size: 12px;\n  height: 100%;\n  padding: 0 4px;\n  color: #1890ff;\n}\n.xin_tree__jiU3J .title__pRf7c .control__VWrqn .btn__CFriq.red__E7uOs {\n  color: #ff4d4f;\n}\n",""]),i.locals={form:"form__dfFcE",event_box:"event_box__ktmxt",table_filter:"table_filter__nBwXR",table_area:"table_area__oXmoS",table_line:"table_line__n9kvD",xin_tree:"xin_tree__jiU3J",title:"title__pRf7c",control:"control__VWrqn",text:"text__c7ZV9",btn:"btn__CFriq",red:"red__E7uOs"};const r=i},999:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,'.permission_setting__asLoh {\n  width: 100%;\n  max-height: 500px;\n  box-sizing: border-box;\n  padding: 5px;\n  overflow: auto;\n}\n.permission_setting__asLoh .permission_area__yTn0J {\n  background: #f5f5f5;\n  padding: 10px 10px 0 15px;\n  border-radius: 6px;\n  box-sizing: border-box;\n}\n.permission_setting__asLoh .permission_area__yTn0J .check_icon__YHeyo {\n  transition: all 0.3s;\n  transform: scale(0);\n  width: 0;\n  display: inline-block;\n  margin-left: -5px;\n}\n.permission_setting__asLoh .permission_area__yTn0J .check_icon__YHeyo.show__KFj5T {\n  transform: scale(1);\n  width: 14px;\n}\n.login_component__KwTg6 {\n  position: relative;\n}\n.login_component__KwTg6 .qrcode_tag__eUtOU {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n  z-index: 100;\n  width: 55px;\n  height: 55px;\n  background: url("https://cdn.xituyun.com/1728552011320_96192aab6b8b") no-repeat center center;\n  background-size: 100%;\n  cursor: pointer;\n}\n.login_component__KwTg6 .logo_box__qn4iq {\n  padding: 0 0 20px 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.login_component__KwTg6 .logo_box__qn4iq .logo__fnwto {\n  width: 50px;\n  height: 50px;\n  border-radius: 10px;\n}\n.login_component__KwTg6 .logo_box__qn4iq .title__kN1Im {\n  font-weight: bold;\n  font-size: 20px;\n  color: #262840;\n  padding: 10px;\n  text-align: center;\n  line-height: 30px;\n}\n.login_component__KwTg6 .other__WUMcs {\n  margin-inline-start: 16px;\n  color: rgba(0, 0, 0, 0.2);\n  font-size: 24px;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.login_component__KwTg6 .other__WUMcs:hover.alipay__TqUap {\n  color: #00a2ff;\n}\n.login_component__KwTg6 .other__WUMcs:hover.dingtalk__iocjc {\n  color: #00a2ff;\n}\n.login_component__KwTg6 .other__WUMcs:hover.wechat__ElfRo {\n  color: #00c257;\n}\n.login_component__KwTg6 .register_box__G7lnU {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  box-sizing: border-box;\n  text-align: right;\n  padding: 12px 10px;\n}\n.login_component__KwTg6 .project_box__M8eS2 {\n  padding: 10px 15px;\n  background-color: #f2f5fe;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 10px;\n  border: 2px solid transparent;\n  cursor: pointer;\n  box-sizing: border-box;\n}\n.login_component__KwTg6 .project_box__M8eS2:hover {\n  background-color: #e4eafd;\n}\n.login_component__KwTg6 .project_box__M8eS2.active__oZDsk {\n  font-weight: bold;\n  border-color: #1890ff;\n  background-color: #e4eafd;\n}\n.login_component__KwTg6 .back_btn__I4G8Q {\n  position: absolute;\n  left: 10px;\n  top: 20px;\n}\n',""]),i.locals={permission_setting:"permission_setting__asLoh",permission_area:"permission_area__yTn0J",check_icon:"check_icon__YHeyo",show:"show__KFj5T",login_component:"login_component__KwTg6",qrcode_tag:"qrcode_tag__eUtOU",logo_box:"logo_box__qn4iq",logo:"logo__fnwto",title:"title__kN1Im",other:"other__WUMcs",alipay:"alipay__TqUap",dingtalk:"dingtalk__iocjc",wechat:"wechat__ElfRo",register_box:"register_box__G7lnU",project_box:"project_box__M8eS2",active:"active__oZDsk",back_btn:"back_btn__I4G8Q"};const r=i},3296:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".number_range__vr2EQ .xinputnumber__UW3rE {\n  flex: 1 1;\n  text-align: center;\n}\n.number_range__vr2EQ .xinputnumber__UW3rE.xright__KyJP6:not(.ant-input-rtl__igfKt) {\n  border-left-width: 0;\n}\n.number_range__vr2EQ .xinputnumber__UW3rE.xright__KyJP6:not(.ant-input-rtl__igfKt):hover,\n.number_range__vr2EQ .xinputnumber__UW3rE.xright__KyJP6:not(.ant-input-rtl__igfKt):focus,\n.number_range__vr2EQ .xinputnumber__UW3rE.xright__KyJP6:not(.ant-input-rtl__igfKt).active__xKIGW {\n  border-left-width: 1px;\n}\n.number_range__vr2EQ .xinput__dUe5u {\n  width: 30px;\n  border-left: none;\n  border-right: none;\n  pointer-events: none;\n  background: #ffffff;\n}\n.variable_box__Z9MU1 {\n  position: relative;\n}\n.variable_box__Z9MU1:hover .popover__ewAyy {\n  display: block;\n}\n.variable_box__Z9MU1 .popover__ewAyy {\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  z-index: 100;\n  display: none;\n  padding-bottom: 2px;\n  transition: all 0.2s;\n}\n.xin_tree__kQpfu .title__It4ea {\n  display: inline-flex;\n}\n.xin_tree__kQpfu .title__It4ea:hover .control__YMHNF {\n  display: inline-block !important;\n}\n.xin_tree__kQpfu .title__It4ea .text__G_rF_ {\n  flex: 1 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.xin_tree__kQpfu .title__It4ea .control__YMHNF {\n  display: none;\n}\n.xin_tree__kQpfu .title__It4ea .control__YMHNF .btn__ucNHf {\n  font-size: 12px;\n  height: 100%;\n  padding: 0 4px;\n  color: #1890ff;\n}\n.xin_tree__kQpfu .title__It4ea .control__YMHNF .btn__ucNHf.red__LPjqz {\n  color: #ff4d4f;\n}\n",""]),i.locals={number_range:"number_range__vr2EQ",xinputnumber:"xinputnumber__UW3rE",xright:"xright__KyJP6","ant-input-rtl":"ant-input-rtl__igfKt",active:"active__xKIGW",xinput:"xinput__dUe5u",variable_box:"variable_box__Z9MU1",popover:"popover__ewAyy",xin_tree:"xin_tree__kQpfu",title:"title__It4ea",control:"control__YMHNF",text:"text__G_rF_",btn:"btn__ucNHf",red:"red__LPjqz"};const r=i},7307:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".xin_tree__CH4m5 .title__PNznO {\n  display: inline-flex;\n}\n.xin_tree__CH4m5 .title__PNznO .text__hV5a8 {\n  flex: 1 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.variable_box__GvCFX {\n  position: relative;\n}\n.variable_box__GvCFX:hover .popover__Mpyfs {\n  display: block;\n}\n.variable_box__GvCFX .popover__Mpyfs {\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  z-index: 100;\n  display: none;\n  padding-bottom: 2px;\n  transition: all 0.2s;\n}\n.resource_search_area__e8Wxv {\n  padding: 0 2px !important;\n  margin-block-end: 5px !important;\n}\n.resource_prolist__AG1qV .ant-pro-card-body {\n  padding: 0 !important;\n}\n.resource_prolist__AG1qV .ant-pro-checkcard {\n  margin: 0;\n}\n.resource_prolist__AG1qV .ant-pro-checkcard .ant-pro-checkcard-content {\n  padding: 0;\n}\n.resource_prolist__AG1qV .ant-list-pagination {\n  margin: 10px 0;\n}\n.xin_hljs__S1iNc {\n  border-radius: 6px;\n  overflow: hidden;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n.xin_hljs__S1iNc .hljs_header__dkDEd {\n  line-height: 34px;\n  background: #eaedf1;\n  padding: 0 15px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n}\n.xin_hljs__S1iNc .hljs_header__dkDEd .header_left__eRAxw {\n  flex: 1 1;\n  font-weight: 600;\n}\n.xin_hljs__S1iNc .hljs_code__M1qIq {\n  background-color: #f9fafb;\n}\n",""]),i.locals={xin_tree:"xin_tree__CH4m5",title:"title__PNznO",text:"text__hV5a8",variable_box:"variable_box__GvCFX",popover:"popover__Mpyfs",resource_search_area:"resource_search_area__e8Wxv",resource_prolist:"resource_prolist__AG1qV",xin_hljs:"xin_hljs__S1iNc",hljs_header:"hljs_header__dkDEd",header_left:"header_left__eRAxw",hljs_code:"hljs_code__M1qIq"};const r=i},7031:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".page__QbNZq {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n}\n.page__QbNZq .asider__rZxjl {\n  background: #ffffff;\n  border-right: 1px solid #f0f0f0;\n}\n.page__QbNZq .container__vmuyb {\n  flex: 1 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.title__W1JuW {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  font-size: 16px;\n  font-weight: bold;\n}\n.header__fm9Ov {\n  height: 56px;\n  position: relative;\n}\n.header__fm9Ov .header_box__azAzZ {\n  width: 100%;\n  height: 56px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 200;\n  background: #ffffff;\n  box-sizing: border-box;\n  padding: 10px;\n  display: flex;\n  flex-direction: row;\n}\n.header__fm9Ov .header_box__azAzZ.border__ladad {\n  border-bottom: 1px solid #f0f0f0;\n}\n.header__fm9Ov .header_box__azAzZ .header_left__mEmdj {\n  flex: 1 1;\n}\n.header__fm9Ov .header_box__azAzZ .header_right__vcj2T {\n  display: flex;\n  align-items: center;\n}\n.body__D25Yk {\n  overflow: auto;\n}\n.xin_tabs__B4vJq {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.xin_tabs__B4vJq .xin_tabs_header___ycTh {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 10px;\n  box-sizing: border-box;\n}\n.xin_tabs__B4vJq .xin_tabs_body__y6lCu {\n  flex: 1 1;\n  overflow: hidden;\n}\n.xin_tabs__B4vJq .xin_tabs_body__y6lCu .xin_tabs_body_box__qoR22 {\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  transition: transform 0.5s;\n}\n.xin_tabs__B4vJq .xin_tabs_body__y6lCu .xin_tabs_body_box__qoR22 .xin_tabs_body_box_item__pbrij {\n  flex: 1 1;\n  overflow: auto;\n}\n.xin_block__OfLyM {\n  border-bottom: 1px solid transparent;\n}\n.xin_block__OfLyM.border__ladad {\n  border-bottom: 1px solid #f5f5f5;\n}\n.xin_block__OfLyM .xin_block_header__DCmSz {\n  font-size: 13px;\n  font-weight: 800;\n  color: #333333;\n  margin: 5px 0;\n  padding: 0 10px;\n}\n.xin_block__OfLyM .xin_block_body__zWc61 {\n  padding: 0 10px 10px 10px;\n}\n.xin_aside_folder__cvVDz {\n  position: relative;\n  display: block;\n  height: 100%;\n  transition: width 0.3s;\n}\n.xin_aside_folder__cvVDz.fold__c1d_O {\n  width: 0;\n}\n.xin_aside_folder__cvVDz.fold__c1d_O.left__Z1x1N .aside__ly0AK {\n  transform: translate3d(-100%, 0, 0);\n}\n.xin_aside_folder__cvVDz.fold__c1d_O.right__qdYQr .aside__ly0AK {\n  transform: translate3d(0, 0, 0);\n}\n.xin_aside_folder__cvVDz.left__Z1x1N .folder_bar__jm3v3 {\n  left: 100%;\n}\n.xin_aside_folder__cvVDz.left__Z1x1N .aside__ly0AK {\n  border-right: 1px solid rgba(0, 0, 0, 0.08);\n}\n.xin_aside_folder__cvVDz.right__qdYQr .folder_bar__jm3v3 {\n  right: 100%;\n}\n.xin_aside_folder__cvVDz.right__qdYQr .aside__ly0AK {\n  border-left: 1px solid rgba(0, 0, 0, 0.08);\n}\n.xin_aside_folder__cvVDz .folder_bar__jm3v3 {\n  position: absolute;\n  top: 0;\n  z-index: 400;\n  width: 20px;\n  height: 100%;\n  background: rgba(38, 40, 64, 0.1);\n  opacity: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: opacity 0.1s;\n  cursor: pointer;\n}\n.xin_aside_folder__cvVDz .folder_bar__jm3v3:hover {\n  opacity: 1;\n}\n.xin_aside_folder__cvVDz .aside__ly0AK {\n  position: fixed;\n  top: 0;\n  z-index: 600;\n  height: 100%;\n  transition: transform 0.3s;\n  padding-top: 56px;\n  box-sizing: border-box;\n  background: #ffffff;\n  -webkit-backdrop-filter: blur(20px);\n          backdrop-filter: blur(20px);\n}\n.xin_aside_folder__cvVDz .aside__ly0AK .ant-tree {\n  background: transparent;\n}\n.xin_carousel__nyeft .carousel_box__9ZWd8 {\n  overflow: hidden;\n}\n.xin_carousel__nyeft .carousel_box__9ZWd8 .carousel_list__UuC1e {\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  margin-left: -50%;\n  transition: margin 0.5s;\n}\n.xin_carousel__nyeft .carousel_dots__huhQ5 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 0;\n}\n.xin_carousel__nyeft .carousel_dots__huhQ5 .dots_box__dx9mK .dot___qvcP {\n  height: 3px;\n  width: 16px;\n  background: rgba(255, 255, 255, 0.3);\n  margin: 0 3px;\n  display: inline-block;\n  border-radius: 1px;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.xin_carousel__nyeft .carousel_dots__huhQ5 .dots_box__dx9mK .dot___qvcP.active__DyIYa {\n  width: 24px;\n  background: #ffffff;\n}\n.tree__jMerS {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n}\n.tree__jMerS .tree_node__stWuJ {\n  border-radius: 5px;\n  padding: 2px 15px;\n}\n.tree__jMerS .tree_node__stWuJ .fieldname__WVR7Y {\n  font-size: 14px;\n  color: #2692da;\n  font-weight: 400;\n}\n.tree__jMerS .tree_node__stWuJ .attr__H6opw {\n  font-size: 12px;\n  padding: 2px 5px;\n  color: #ffffff;\n  border-radius: 5px;\n}\n.tree__jMerS .tree_node__stWuJ .attr__H6opw.object__DeCSE {\n  background-image: linear-gradient(135deg, rgba(24, 144, 255, 0.3), #1890ff);\n}\n.tree__jMerS .tree_node__stWuJ .attr__H6opw.array__wgQJH {\n  background-image: linear-gradient(135deg, rgba(82, 196, 26, 0.3), #52c41a);\n}\n.tree__jMerS .tree_node__stWuJ .number__YQs08 {\n  color: #6583a9;\n  font-size: 13px;\n}\n.tree__jMerS .tree_node__stWuJ .value__avKmk {\n  font-size: 14px;\n}\n.tree__jMerS .ant-tree-node-content-wrapper:hover {\n  background-color: transparent;\n  background-image: linear-gradient(90deg, rgba(24, 144, 255, 0.1), rgba(24, 144, 255, 0));\n}\n.tree__jMerS .ant-tree-node-selected {\n  padding-left: 2px !important;\n  background-color: transparent !important;\n}\n.tree__jMerS .ant-tree-node-selected .tree_node__stWuJ {\n  background-image: linear-gradient(90deg, rgba(24, 144, 255, 0.35), rgba(24, 144, 255, 0));\n}\n.xin_richText__TSsgy .tox-tinymce {\n  border: 1px solid #d9d9d9;\n}\n.amap__PL82I {\n  position: relative;\n  height: 500px;\n  width: 100%;\n  background: #f5f5f5;\n}\n.amap__PL82I .container__vmuyb {\n  width: 100%;\n  height: 100%;\n}\n.amap__PL82I .search_input__YhpBY {\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  width: 300px;\n  z-index: 100;\n}\n.segmented__Qz_ca {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.segmented__Qz_ca .segmented_header__MxW_G {\n  text-align: center;\n}\n.segmented__Qz_ca .segmented_body___UN_h {\n  height: 100%;\n  flex: 1 1;\n  overflow: hidden;\n}\n.segmented__Qz_ca .segmented_body___UN_h .segmented_body_box__IcNGN {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  overflow-y: auto;\n  flex-direction: row;\n  transition: transform 0.5s;\n}\n.segmented__Qz_ca .segmented_body___UN_h .segmented_body_box__IcNGN .segmented_body_box_item__EpyCO {\n  flex: 1 1;\n  overflow-y: auto;\n}\n.statistic_card__VbEHv {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n}\n.statistic_card__VbEHv .item__oOq2s {\n  flex: 1 1;\n  display: flex;\n  flex-direction: row;\n  margin: 10px 0;\n  padding: 0 10px;\n}\n.statistic_card__VbEHv .item__oOq2s.border__ladad {\n  position: relative;\n}\n.statistic_card__VbEHv .item__oOq2s.border__ladad::after {\n  content: ' ';\n  display: block;\n  position: absolute;\n  top: 10%;\n  right: 0;\n  border-right: 1px solid #f0f0f0;\n  height: 80%;\n}\n.statistic_card__VbEHv .item__oOq2s:last-child::after {\n  border: none;\n}\n.statistic_card__VbEHv .item__oOq2s .icon__mRbXA {\n  width: 40px;\n  height: 40px;\n  vertical-align: middle;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  color: #ffffff;\n  border-radius: 100%;\n  font-size: 18px;\n  overflow: hidden;\n}\n.statistic_card__VbEHv .item__oOq2s .icon__mRbXA.blue__OikIm {\n  background-image: linear-gradient(-45deg, #1890ff, #6de5ff);\n}\n.statistic_card__VbEHv .item__oOq2s .icon__mRbXA.red__iX0ps {\n  background-image: linear-gradient(-45deg, #ff4d4f, #ffa2a4);\n}\n.statistic_card__VbEHv .item__oOq2s .icon__mRbXA.orange__o3jNH {\n  background-image: linear-gradient(-45deg, #ff8100, #ffd655);\n}\n.statistic_card__VbEHv .item__oOq2s .icon__mRbXA.green__UwE41 {\n  background-image: linear-gradient(-45deg, #52c41a, #a7ff6f);\n}\n.statistic_card__VbEHv .item__oOq2s .icon__mRbXA.purple__FvHpz {\n  background-image: linear-gradient(-45deg, #c831ff, #ff86ff);\n}\n.statistic_card__VbEHv .item__oOq2s .right__qdYQr {\n  flex: 1 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-left: 10px;\n}\n.statistic_card__VbEHv .item__oOq2s .right__qdYQr .label__ZgC0F {\n  font-size: 13px;\n  color: rgba(38, 40, 64, 0.5);\n  display: inline-block;\n}\n.statistic_card__VbEHv .item__oOq2s .right__qdYQr .value__avKmk {\n  font-size: 14px;\n  line-height: 28px;\n  font-weight: 500;\n  color: #262840;\n  display: inline-block;\n}\n.color_picker_box__R1UzB {\n  width: 385px;\n}\n.color_picker_box__R1UzB .line__zp79T .color_item__CfLKW {\n  width: 23px;\n  height: 23px;\n  margin: 3px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  vertical-align: top;\n  border-radius: 5px;\n  cursor: pointer;\n  position: relative;\n}\n",""]),i.locals={page:"page__QbNZq",asider:"asider__rZxjl",container:"container__vmuyb",title:"title__W1JuW",header:"header__fm9Ov",header_box:"header_box__azAzZ",border:"border__ladad",header_left:"header_left__mEmdj",header_right:"header_right__vcj2T",body:"body__D25Yk",xin_tabs:"xin_tabs__B4vJq",xin_tabs_header:"xin_tabs_header___ycTh",xin_tabs_body:"xin_tabs_body__y6lCu",xin_tabs_body_box:"xin_tabs_body_box__qoR22",xin_tabs_body_box_item:"xin_tabs_body_box_item__pbrij",xin_block:"xin_block__OfLyM",xin_block_header:"xin_block_header__DCmSz",xin_block_body:"xin_block_body__zWc61",xin_aside_folder:"xin_aside_folder__cvVDz",fold:"fold__c1d_O",left:"left__Z1x1N",aside:"aside__ly0AK",right:"right__qdYQr",folder_bar:"folder_bar__jm3v3",xin_carousel:"xin_carousel__nyeft",carousel_box:"carousel_box__9ZWd8",carousel_list:"carousel_list__UuC1e",carousel_dots:"carousel_dots__huhQ5",dots_box:"dots_box__dx9mK",dot:"dot___qvcP",active:"active__DyIYa",tree:"tree__jMerS",tree_node:"tree_node__stWuJ",fieldname:"fieldname__WVR7Y",attr:"attr__H6opw",object:"object__DeCSE",array:"array__wgQJH",number:"number__YQs08",value:"value__avKmk",xin_richText:"xin_richText__TSsgy",amap:"amap__PL82I",search_input:"search_input__YhpBY",segmented:"segmented__Qz_ca",segmented_header:"segmented_header__MxW_G",segmented_body:"segmented_body___UN_h",segmented_body_box:"segmented_body_box__IcNGN",segmented_body_box_item:"segmented_body_box_item__EpyCO",statistic_card:"statistic_card__VbEHv",item:"item__oOq2s",icon:"icon__mRbXA",blue:"blue__OikIm",red:"red__iX0ps",orange:"orange__o3jNH",green:"green__UwE41",purple:"purple__FvHpz",label:"label__ZgC0F",color_picker_box:"color_picker_box__R1UzB",line:"line__zp79T",color_item:"color_item__CfLKW"};const r=i},2170:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".organization_tree {\n  width: 18px;\n  height: 18px;\n  display: inline-flex;\n  border-radius: 6px;\n  color: #ffffff;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  transform: scale(0.9) translateY(7%);\n}\n.organization_tree.organization_organization {\n  background: #ff8100;\n}\n.organization_tree.organization_company {\n  background: #1890ff;\n}\n.organization_tree.organization_user {\n  background: #52c41a;\n}\n.organization_tree.organization_role {\n  background: #c831ff;\n}\n.tableselect_tree.tableselect_table {\n  color: #1890ff;\n}\n.tableselect_tree.tableselect_workflow {\n  color: #c831ff;\n}\n.tableselect_tree.tableselect_active {\n  color: #ffffff;\n}\n.screenselect_tree.screenselect_screen {\n  color: #1890ff;\n}\n.screenselect_tree.screenselect_layout {\n  color: #ff4d4f;\n}\n.screenselect_tree.screenselect_formSenior {\n  color: #52c41a;\n}\n.screenselect_tree.screenselect_component {\n  color: #c831ff;\n}\n.screenselect_tree.screenselect_report {\n  color: #ff8100;\n}\n.screenselect_tree.screenselect_active {\n  color: #ffffff;\n}\n",""]),i.locals={};const r=i},9210:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(1531),l=n.n(o),a=n(6660),i=n.n(a)()(l());i.push([e.id,".login_box__Tyo0t {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: auto 100%;\n  background-color: #e5eef9;\n}\n.login__IFOjo {\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 20px;\n  background: #ffffff;\n  overflow: hidden;\n}\n.login__IFOjo .ant-pro-form-login-container {\n  padding: 30px 25px;\n}\n.login__IFOjo .ant-pro-form-login-container .ant-pro-form-login-header {\n  height: auto;\n}\n",""]),i.locals={login_box:"login_box__Tyo0t",login:"login__IFOjo"};const r=i},8350:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var o=n(9121),l=n.n(o),a=n(102),i=n.n(a),r=n(3662),s=n.n(r),d=n(465),u=n.n(d),c=n(3421),m=n.n(c),p=n(3450),_=n.n(p),v=n(78),b={};b.styleTagTransform=_(),b.setAttributes=u(),b.insert=s().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=m();l()(v.A,b);const f=v.A&&v.A.locals?v.A.locals:void 0},1175:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var o=n(9121),l=n.n(o),a=n(102),i=n.n(a),r=n(3662),s=n.n(r),d=n(465),u=n.n(d),c=n(3421),m=n.n(c),p=n(3450),_=n.n(p),v=n(7031),b={};b.styleTagTransform=_(),b.setAttributes=u(),b.insert=s().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=m();l()(v.A,b);const f=v.A&&v.A.locals?v.A.locals:void 0},9121:e=>{"use strict";var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},i=[],r=0;r<e.length;r++){var s=e[r],d=o.base?s[0]+o.base:s[0],u=a[d]||0,c="".concat(d," ").concat(u);a[d]=u+1;var m=n(c),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==m)t[m].references++,t[m].updater(p);else{var _=l(p,o);o.byIndex=r,t.splice(r,0,{identifier:c,updater:_,references:1})}i.push(c)}return i}function l(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,l){var a=o(e=e||[],l=l||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var r=n(a[i]);t[r].references--}for(var s=o(e,l),d=0;d<a.length;d++){var u=n(a[d]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=s}}},3662:e=>{"use strict";var t={};e.exports=function(e,n){var o=function(e){if("undefined"===typeof t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(o){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},3421:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},465:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},102:e=>{"use strict";e.exports=function(e){if("undefined"===typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var l="undefined"!==typeof n.layer;l&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,l&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!==typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},3450:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},4725:e=>{"use strict";e.exports=DndKit_core},6508:e=>{"use strict";e.exports=DndKit_modifiers},3814:e=>{"use strict";e.exports=DndKit_sortable},1594:e=>{"use strict";e.exports=React},5206:e=>{"use strict";e.exports=ReactDOM},5440:e=>{"use strict";e.exports=antd},8294:e=>{"use strict";e.exports=antdIcons},5711:e=>{"use strict";e.exports=antdProComponents},6923:e=>{"use strict";e.exports=classnames},4351:e=>{"use strict";e.exports=copyToClipboard},3508:e=>{"use strict";e.exports=dayjs},4497:e=>{"use strict";e.exports=mobx},5696:e=>{"use strict";e.exports=mobxReactLite},6491:e=>{function t(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((n=>{const o=e[n],l=typeof o;"object"!==l&&"function"!==l||Object.isFrozen(o)||t(o)})),e}class n{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function l(e){const t=Object.create(null);for(const a in e)t[a]=e[a];for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];return o.forEach((function(e){for(const n in e)t[n]=e[n]})),t}const a=e=>!!e.scope;class i{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=o(e)}openNode(e){if(!a(e))return;const t=((e,t)=>{let{prefix:n}=t;if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const t=e.split(".");return["".concat(n).concat(t.shift()),...t.map(((e,t)=>"".concat(e).concat("_".repeat(t+1))))].join(" ")}return"".concat(n).concat(e)})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){a(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+='<span class="'.concat(e,'">')}}const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={children:[]};return Object.assign(t,e),t};class s{constructor(){this.rootNode=r(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=r({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"===typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!==typeof e&&e.children&&(e.children.every((e=>"string"===typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{s._collapse(e)})))}}class d extends s{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope="language:".concat(t)),this.add(n)}toHTML(){return new i(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function u(e){return e?"string"===typeof e?e:e.source:null}function c(e){return _("(?=",e,")")}function m(e){return _("(?:",e,")*")}function p(e){return _("(?:",e,")?")}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((e=>u(e))).join("")}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=function(e){const t=e[e.length-1];return"object"===typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(t);return"("+(o.capture?"":"?:")+t.map((e=>u(e))).join("|")+")"}function b(e){return new RegExp(e.toString()+"|").exec("").length-1}const f=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function E(e,t){let{joinWith:n}=t,o=0;return e.map((e=>{o+=1;const t=o;let n=u(e),l="";for(;n.length>0;){const e=f.exec(n);if(!e){l+=n;break}l+=n.substring(0,e.index),n=n.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?l+="\\"+String(Number(e[1])+t):(l+=e[0],"("===e[0]&&o++)}return l})).map((e=>"(".concat(e,")"))).join(n)}const g="[a-zA-Z]\\w*",y="[a-zA-Z_]\\w*",h="\\b\\d+(\\.\\d+)?",x="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",w="\\b(0b[01]+)",I={begin:"\\\\[\\s\\S]",relevance:0},T={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[I]},C={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[I]},S=function(e,t){const n=l({scope:"comment",begin:e,end:t,contains:[]},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=v("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:_(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},O=S("//","$"),P=S("/\\*","\\*/"),M=S("#","$"),k={scope:"number",begin:h,relevance:0},D={scope:"number",begin:x,relevance:0},N={scope:"number",begin:w,relevance:0},A={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[I,{begin:/\[/,end:/\]/,relevance:0,contains:[I]}]},L={scope:"title",begin:g,relevance:0},F={scope:"title",begin:y,relevance:0},R={begin:"\\.\\s*"+y,relevance:0};var B=Object.freeze({__proto__:null,APOS_STRING_MODE:T,BACKSLASH_ESCAPE:I,BINARY_NUMBER_MODE:N,BINARY_NUMBER_RE:w,COMMENT:S,C_BLOCK_COMMENT_MODE:P,C_LINE_COMMENT_MODE:O,C_NUMBER_MODE:D,C_NUMBER_RE:x,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:M,IDENT_RE:g,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:R,NUMBER_MODE:k,NUMBER_RE:h,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:C,REGEXP_MODE:A,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=/^#![ ]*\//;return e.binary&&(e.begin=_(t,/.*\b/,e.binary,/\b.*/)),l({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:L,UNDERSCORE_IDENT_RE:y,UNDERSCORE_TITLE_MODE:F});function V(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function U(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function Y(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=V,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function z(e,t){Array.isArray(e.illegal)&&(e.illegal=v(...e.illegal))}function j(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function q(e,t){void 0===e.relevance&&(e.relevance=1)}const X=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=_(n.beforeMatch,c(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},W=["of","and","for","in","not","or","if","then","parent","list","value"],K="keyword";function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const o=Object.create(null);return"string"===typeof e?l(n,e.split(" ")):Array.isArray(e)?l(n,e):Object.keys(e).forEach((function(n){Object.assign(o,$(e[n],t,n))})),o;function l(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");o[n[0]]=[e,J(n[0],n[1])]}))}}function J(e,t){return t?Number(t):function(e){return W.includes(e.toLowerCase())}(e)?0:1}const H={},G=e=>{console.error(e)},Q=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];console.log("WARN: ".concat(e),...n)},Z=(e,t)=>{H["".concat(e,"/").concat(t)]||(console.log("Deprecated as of ".concat(e,". ").concat(t)),H["".concat(e,"/").concat(t)]=!0)},ee=new Error;function te(e,t,n){let{key:o}=n,l=0;const a=e[o],i={},r={};for(let s=1;s<=t.length;s++)r[s+l]=a[s],i[s+l]=!0,l+=b(t[s-1]);e[o]=r,e[o]._emit=i,e[o]._multi=!0}function ne(e){!function(e){e.scope&&"object"===typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"===typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"===typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw G("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ee;if("object"!==typeof e.beginScope||null===e.beginScope)throw G("beginScope must be object"),ee;te(e,e.begin,{key:"beginScope"}),e.begin=E(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw G("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ee;if("object"!==typeof e.endScope||null===e.endScope)throw G("endScope must be object"),ee;te(e,e.end,{key:"endScope"}),e.end=E(e.end,{joinWith:""})}}(e)}function oe(e){function t(t,n){return new RegExp(u(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=b(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(E(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),o=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,o)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((e=>{let[n,o]=e;return t.addRule(n,o)})),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=l(e.classNameAliases||{}),function n(a,i){const r=a;if(a.isCompiled)return r;[U,j,ne,X].forEach((e=>e(a,i))),e.compilerExtensions.forEach((e=>e(a,i))),a.__beforeBegin=null,[Y,z,q].forEach((e=>e(a,i))),a.isCompiled=!0;let s=null;return"object"===typeof a.keywords&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),s=a.keywords.$pattern,delete a.keywords.$pattern),s=s||/\w+/,a.keywords&&(a.keywords=$(a.keywords,e.case_insensitive)),r.keywordPatternRe=t(s,!0),i&&(a.begin||(a.begin=/\B|\b/),r.beginRe=t(r.begin),a.end||a.endsWithParent||(a.end=/\B|\b/),a.end&&(r.endRe=t(r.end)),r.terminatorEnd=u(r.end)||"",a.endsWithParent&&i.terminatorEnd&&(r.terminatorEnd+=(a.end?"|":"")+i.terminatorEnd)),a.illegal&&(r.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return l(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(le(e))return l(e,{starts:e.starts?l(e.starts):null});if(Object.isFrozen(e))return l(e);return e}("self"===e?a:e)}))),a.contains.forEach((function(e){n(e,r)})),a.starts&&n(a.starts,i),r.matcher=function(e){const t=new o;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(r),r}(e)}function le(e){return!!e&&(e.endsWithParent||le(e.starts))}class ae extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ie=o,re=l,se=Symbol("nomatch"),de=function(e){const o=Object.create(null),l=Object.create(null),a=[];let i=!0;const r="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let u={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:d};function b(e){return u.noHighlightRe.test(e)}function f(e,t,n){let o="",l="";"object"===typeof t?(o=e,n=t.ignoreIllegals,l=t.language):(Z("10.7.0","highlight(lang, code, ...args) has been deprecated."),Z("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),l=e,o=t),void 0===n&&(n=!0);const a={code:o,language:l};C("before:highlight",a);const i=a.result?a.result:E(a.language,a.code,n);return i.code=a.code,C("after:highlight",i),i}function E(e,t,l,a){const s=Object.create(null);function d(){if(!C.keywords)return void O.addText(P);let e=0;C.keywordPatternRe.lastIndex=0;let t=C.keywordPatternRe.exec(P),n="";for(;t;){n+=P.substring(e,t.index);const l=x.case_insensitive?t[0].toLowerCase():t[0],a=(o=l,C.keywords[o]);if(a){const[e,o]=a;if(O.addText(n),n="",s[l]=(s[l]||0)+1,s[l]<=7&&(M+=o),e.startsWith("_"))n+=t[0];else{const n=x.classNameAliases[e]||e;m(t[0],n)}}else n+=t[0];e=C.keywordPatternRe.lastIndex,t=C.keywordPatternRe.exec(P)}var o;n+=P.substring(e),O.addText(n)}function c(){null!=C.subLanguage?function(){if(""===P)return;let e=null;if("string"===typeof C.subLanguage){if(!o[C.subLanguage])return void O.addText(P);e=E(C.subLanguage,P,!0,S[C.subLanguage]),S[C.subLanguage]=e._top}else e=g(P,C.subLanguage.length?C.subLanguage:null);C.relevance>0&&(M+=e.relevance),O.__addSublanguage(e._emitter,e.language)}():d(),P=""}function m(e,t){""!==e&&(O.startScope(t),O.addText(e),O.endScope())}function p(e,t){let n=1;const o=t.length-1;for(;n<=o;){if(!e._emit[n]){n++;continue}const o=x.classNameAliases[e[n]]||e[n],l=t[n];o?m(l,o):(P=l,d(),P=""),n++}}function _(e,t){return e.scope&&"string"===typeof e.scope&&O.openNode(x.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(m(P,x.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),P=""):e.beginScope._multi&&(p(e.beginScope,t),P="")),C=Object.create(e,{parent:{value:C}}),C}function v(e,t,o){let l=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,o);if(l){if(e["on:end"]){const o=new n(e);e["on:end"](t,o),o.isMatchIgnored&&(l=!1)}if(l){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return v(e.parent,t,o)}function b(e){return 0===C.matcher.regexIndex?(P+=e[0],1):(N=!0,0)}function f(e){const n=e[0],o=t.substring(e.index),l=v(C,e,o);if(!l)return se;const a=C;C.endScope&&C.endScope._wrap?(c(),m(n,C.endScope._wrap)):C.endScope&&C.endScope._multi?(c(),p(C.endScope,e)):a.skip?P+=n:(a.returnEnd||a.excludeEnd||(P+=n),c(),a.excludeEnd&&(P=n));do{C.scope&&O.closeNode(),C.skip||C.subLanguage||(M+=C.relevance),C=C.parent}while(C!==l.parent);return l.starts&&_(l.starts,e),a.returnEnd?0:n.length}let y={};function h(o,a){const r=a&&a[0];if(P+=o,null==r)return c(),0;if("begin"===y.type&&"end"===a.type&&y.index===a.index&&""===r){if(P+=t.slice(a.index,a.index+1),!i){const t=new Error("0 width match regex (".concat(e,")"));throw t.languageName=e,t.badRule=y.rule,t}return 1}if(y=a,"begin"===a.type)return function(e){const t=e[0],o=e.rule,l=new n(o),a=[o.__beforeBegin,o["on:begin"]];for(const n of a)if(n&&(n(e,l),l.isMatchIgnored))return b(t);return o.skip?P+=t:(o.excludeBegin&&(P+=t),c(),o.returnBegin||o.excludeBegin||(P=t)),_(o,e),o.returnBegin?0:t.length}(a);if("illegal"===a.type&&!l){const e=new Error('Illegal lexeme "'+r+'" for mode "'+(C.scope||"<unnamed>")+'"');throw e.mode=C,e}if("end"===a.type){const e=f(a);if(e!==se)return e}if("illegal"===a.type&&""===r)return P+="\n",1;if(D>1e5&&D>3*a.index){throw new Error("potential infinite loop, way more iterations than matches")}return P+=r,r.length}const x=w(e);if(!x)throw G(r.replace("{}",e)),new Error('Unknown language: "'+e+'"');const I=oe(x);let T="",C=a||I;const S={},O=new u.__emitter(u);!function(){const e=[];for(let t=C;t!==x;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>O.openNode(e)))}();let P="",M=0,k=0,D=0,N=!1;try{if(x.__emitTokens)x.__emitTokens(t,O);else{for(C.matcher.considerAll();;){D++,N?N=!1:C.matcher.considerAll(),C.matcher.lastIndex=k;const e=C.matcher.exec(t);if(!e)break;const n=h(t.substring(k,e.index),e);k=e.index+n}h(t.substring(k))}return O.finalize(),T=O.toHTML(),{language:e,value:T,relevance:M,illegal:!1,_emitter:O,_top:C}}catch(A){if(A.message&&A.message.includes("Illegal"))return{language:e,value:ie(t),illegal:!0,relevance:0,_illegalBy:{message:A.message,index:k,context:t.slice(k-100,k+100),mode:A.mode,resultSoFar:T},_emitter:O};if(i)return{language:e,value:ie(t),illegal:!1,relevance:0,errorRaised:A,_emitter:O,_top:C};throw A}}function g(e,t){t=t||u.languages||Object.keys(o);const n=function(e){const t={value:ie(e),illegal:!1,relevance:0,_top:s,_emitter:new u.__emitter(u)};return t._emitter.addText(e),t}(e),l=t.filter(w).filter(T).map((t=>E(t,e,!1)));l.unshift(n);const a=l.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(w(e.language).supersetOf===t.language)return 1;if(w(t.language).supersetOf===e.language)return-1}return 0})),[i,r]=a,d=i;return d.secondBest=r,d}function y(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=u.languageDetectRe.exec(t);if(n){const t=w(n[1]);return t||(Q(r.replace("{}",n[1])),Q("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>b(e)||w(e)))}(e);if(b(n))return;if(C("before:highlightElement",{el:e,language:n}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(u.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),u.throwUnescapedHTML)){throw new ae("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const o=t.textContent,a=n?f(o,{language:n,ignoreIllegals:!0}):g(o);e.innerHTML=a.value,e.dataset.highlighted="yes",function(e,t,n){const o=t&&l[t]||n;e.classList.add("hljs"),e.classList.add("language-".concat(o))}(e,n,a.language),e.result={language:a.language,re:a.relevance,relevance:a.relevance},a.secondBest&&(e.secondBest={language:a.secondBest.language,relevance:a.secondBest.relevance}),C("after:highlightElement",{el:e,result:a,text:o})}let h=!1;function x(){if("loading"===document.readyState)return h||window.addEventListener("DOMContentLoaded",(function(){x()}),!1),void(h=!0);document.querySelectorAll(u.cssSelector).forEach(y)}function w(e){return e=(e||"").toLowerCase(),o[e]||o[l[e]]}function I(e,t){let{languageName:n}=t;"string"===typeof e&&(e=[e]),e.forEach((e=>{l[e.toLowerCase()]=n}))}function T(e){const t=w(e);return t&&!t.disableAutodetect}function C(e,t){const n=e;a.forEach((function(e){e[n]&&e[n](t)}))}Object.assign(e,{highlight:f,highlightAuto:g,highlightAll:x,highlightElement:y,highlightBlock:function(e){return Z("10.7.0","highlightBlock will be removed entirely in v12.0"),Z("10.7.0","Please use highlightElement now."),y(e)},configure:function(e){u=re(u,e)},initHighlighting:()=>{x(),Z("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){x(),Z("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(t,n){let l=null;try{l=n(e)}catch(a){if(G("Language definition for '{}' could not be registered.".replace("{}",t)),!i)throw a;G(a),l=s}l.name||(l.name=t),o[t]=l,l.rawDefinition=n.bind(null,e),l.aliases&&I(l.aliases,{languageName:t})},unregisterLanguage:function(e){delete o[e];for(const t of Object.keys(l))l[t]===e&&delete l[t]},listLanguages:function(){return Object.keys(o)},getLanguage:w,registerAliases:I,autoDetection:T,inherit:re,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),a.push(e)},removePlugin:function(e){const t=a.indexOf(e);-1!==t&&a.splice(t,1)}}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString="11.11.1",e.regex={concat:_,lookahead:c,either:v,optional:p,anyNumberOfTimes:m};for(const n in B)"object"===typeof B[n]&&t(B[n]);return Object.assign(e,B),e},ue=de({});ue.newInstance=()=>de({}),e.exports=ue,ue.HighlightJS=ue,ue.default=ue}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{ConditionEditor:()=>lt,ConditionEditorModal:()=>at,DictionarySelect:()=>je,DraggerChooseFile:()=>Qe,DraggerUploadFile:()=>Ge,Highlight:()=>it,ImageChoose:()=>Ze,OrganizationTreeSelect:()=>We,ReportViewSelectTree:()=>Ye,ScreenTreeSelect:()=>Fe,SourceChoose:()=>et,TableAllFieldsSelect:()=>Be,TableFieldSelect:()=>tt,TableFieldSelectByLabel:()=>nt,TableTreeSelect:()=>Re,TableTreeSelectInfo:()=>Ve,TableTreeSelectInfoUpdate:()=>Ue,UploadFile:()=>He,UploadImage:()=>Je,UserOrganizationRoleChoose:()=>ze,UserRoleSelect:()=>Ke,UserTagSelect:()=>$e,UserTreeSelect:()=>qe,UserTreeSelectMultiple:()=>Xe,WxQrcode:()=>ot});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{BasicCheckboxGroup:()=>jt,BasicDatePicker:()=>yt,BasicDateRangePicker:()=>wt,BasicInput:()=>ft,BasicInputNumber:()=>gt,BasicRadioGroup:()=>Ft,BasicSelect:()=>bt,BasicSlider:()=>Ut,BasicTextarea:()=>Et,ButtonCheckboxGroup:()=>qt,CodeEditor:()=>St,CodeEditorModal:()=>Ot,ColorPicker:()=>Yt,DatePickerStampLicense:()=>xt,DatePickerTimeStamp:()=>ht,DateRangePlaceholder:()=>It,EditTextByInput:()=>Xt,HtmlCodeModal:()=>At,IconChoose:()=>Lt,IconRadioGroup:()=>Bt,InputAndSelect:()=>zt,InputNumberWithSlider:()=>Vt,JavascriptCodeModal:()=>Pt,JavascriptTransformCodeEditor:()=>Mt,JavascriptTransformCodeModal:()=>kt,JsonCodeModal:()=>Dt,JsonObjectModal:()=>Nt,MongoFieldType:()=>pt,NumberRange:()=>_t,RadioButtonGroupInLine:()=>Rt,RichText:()=>Tt,RichTextModal:()=>Ct,SizeAndUnit:()=>vt,UniqueId:()=>mt,VariableContainer:()=>ct});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{FormEditorContext:()=>Kt});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{XinCoverView:()=>nn,XinModuleView:()=>ln,core:()=>Qt});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{checkUniqueIdOnlyOne:()=>bn,createBasicOptionFunc:()=>un,createCommonOptionFunc:()=>_n,createConditionFunc:()=>vn,createFieldOptionFunc:()=>dn,createPermissionOptionFunc:()=>mn,createSeniorOptionFunc:()=>pn,createTableColumnOptionFunc:()=>cn});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{ModuleTypeList:()=>Cn});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{CascaderDefaultValue:()=>Zn,CascaderItems:()=>Wn,DatePickerDefaultValue:()=>Jn,EmailItems:()=>Rn,FormEditorTableColumns:()=>Yn,InputDefaultValue:()=>Hn,InputNumberDefaultValue:()=>Qn,JsonDefaultValue:()=>ao,MultipleSelectValue:()=>Kn,OrganizationTreeSelectDefaultValue:()=>lo,Relation_FormItemSetting:()=>Vn,RichTextDefaultValue:()=>eo,SelectDefaultValue:()=>$n,SelectItemsColor:()=>Un,SwitchDefaultValue:()=>to,SwitchItems:()=>Bn,TableFieldChooseAndSort:()=>qn,TableFieldSelect:()=>zn,TableFieldSelect11111:()=>jn,TableFilter:()=>Xn,TextareaDefaultValue:()=>Gn,UserSelectDefaultValue:()=>no,UserSelectMultipleDefaultValue:()=>oo});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{BatchDeleteButtonView:()=>Tr,BatchUpdateButtonView:()=>Or,CustomScriptButtonView:()=>kr,DeleteButtonView:()=>Er,ExportButtonView:()=>lr,ExportDataButtonView:()=>ur,ImportButtonView:()=>tr,ImportDataButtonView:()=>rr,PrintButtonView:()=>Zi,RecordButtonView:()=>vr,TrashButtonView:()=>xr});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{FormSubmitButtonView:()=>Nr});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{DateRangeTypeSearch:()=>Ur,DateTypeSearch:()=>Vr,NumberTypeSearch:()=>qr,OidinputTypeSearch:()=>Br,OrganizationSelectTypeSearch:()=>zr,RelationTypeSearch:()=>Xr,SelectTypeSearch:()=>Yr,TextTypeSearch:()=>Rr,TransferTypeSearch:()=>Wr,UserSelectTypeSearch:()=>jr,default:()=>Kr});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{ButtonView:()=>On,ComponentModuleFunc:()=>l,ComponentSettingView:()=>co,EditorView:()=>xn,FormLayoutView:()=>gn,FormView:()=>Tn,SearchComponent:()=>Kr,SettingView:()=>Pn,config:()=>a,contexts:()=>n,core:()=>o,form:()=>s,modules:()=>Yi,search:()=>d,table:()=>r});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{EventListMap:()=>$s,EventTypeListMap:()=>Js,ModuleTypeList:()=>Ks,TemplateButtonList:()=>Hs,createEventItemFunc:()=>Gs});var m={};__webpack_require__.r(m),__webpack_require__.d(m,{BasicCheckboxGroup:()=>Qd,BasicDatePicker:()=>Nd,BasicDateRangePicker:()=>Ad,BasicInput:()=>Md,BasicInputNumber:()=>Dd,BasicSelect:()=>Pd,BasicSlider:()=>Gd,BasicTextarea:()=>kd,BindVariableInput:()=>vu,ButtonCheckboxGroup:()=>Zd,ButtonGroupInLine:()=>yu,CarouselActiveKey:()=>bu,CarouselImageItems:()=>hu,CarouselItems:()=>fu,CodeEditor:()=>Bd,ColorPicker:()=>eu,ComponentAttributes:()=>Xu,ComponentTreeCodeEditorModal:()=>Xd,CustomTableActionButton:()=>Fu,CustomTableColumns:()=>Ru,DateRangePlaceholder:()=>Ld,Events_Editor:()=>_u,FormSeniorActions:()=>Du,FormSeniorItemField:()=>Uu,GridLayout:()=>Wd,HtmlCodeModal:()=>zd,IconChoose:()=>zu,IconRadioGroup:()=>Jd,ImageChoose:()=>mu,InputAndSelect:()=>tu,InputNumberWithSlider:()=>Hd,JavascriptCodeModal:()=>Vd,JavascriptTransformCodeModal:()=>Ud,JsonCodeModal:()=>Yd,JsonObjectModal:()=>jd,LinkHref:()=>Kd,MenuEditorModal:()=>qd,MenuEditorModalComponent:()=>Wu,MobileFooterItems:()=>xu,OpenModal:()=>Yu,RadioButtonGroupInLine:()=>$d,RichText:()=>Fd,RichTextModal:()=>Rd,SelectFromItems:()=>Iu,SelectFromItemsIndex:()=>Cu,SelectItemByMode:()=>wu,SelectItems:()=>Su,SelectItemsIndex:()=>Tu,SizeAndUnit:()=>nu,Style_Border:()=>lu,Style_Margin:()=>ru,Style_Radius:()=>iu,Style_Shadow:()=>au,Style_StyleCode:()=>du,Style_StyleCodeComponent:()=>su,Style_TextFontWeight:()=>ou,TableActions:()=>Pu,TableColumns:()=>Ou,TableFilter:()=>qu,TableShowActions:()=>Au,TableShowActionsSetting:()=>Bu,TableShowColumns:()=>Lu,TableShowQuoteTable:()=>Eu,TableToolBarActions:()=>Vu,TableTreeSelect:()=>ju,TabsItems:()=>Mu,WorkflowTableQuoteWorkflow:()=>gu});var p={};__webpack_require__.r(p),__webpack_require__.d(p,{ComponentModuleFunc:()=>cd,ComponentSettingView:()=>tc,DataSourceEditorModal:()=>SE,EditorPreview:()=>Xs,EditorView:()=>Ys,MenuView:()=>dd,ScreenEditorContext:()=>$r.f,ScreenLayoutView:()=>Ls,ScreenScriptEditorModal:()=>Cd,ScreenSettingComponents:()=>m,ScreenVariableEditorModal:()=>ME,ScreenView:()=>Vs,SettingView:()=>ud,config:()=>c,modules:()=>yE});var _={};__webpack_require__.r(_),__webpack_require__.d(_,{ColorChoose:()=>ng,CycleFilter:()=>HE,ReportCheckboxGroup:()=>tg,ReportDimension:()=>GE,ReportGroupSelectTree:()=>og,ReportSort:()=>eg,ReportTarget:()=>QE,ReportTargetLeida:()=>ZE,TableFieldSelect:()=>$E,TableFilter:()=>JE});var v={};__webpack_require__.r(v),__webpack_require__.d(v,{bing:()=>bg,createBasicOptionFunc:()=>pg,huan:()=>fg,huizong:()=>vg,loudou:()=>Eg,mingxi:()=>gg,resize:()=>cg,unresize:()=>mg,zhexian:()=>yg,zhibiao:()=>hg,zhuzhuang:()=>xg});var b={};__webpack_require__.r(b),__webpack_require__.d(b,{ModuleTypeList:()=>wg,ThemeColorList:()=>Tg,statisticCycleList:()=>Ig});var f={};__webpack_require__.r(f),__webpack_require__.d(f,{CreateReportModal:()=>Pg,EditorView:()=>jE,PreviewReportModal:()=>Dg,ReportLayoutView:()=>RE,ReportView:()=>UE,SettingView:()=>YE,config:()=>b,modules:()=>th});var E={};__webpack_require__.r(E),__webpack_require__.d(E,{NocodeLayoutView:()=>Th});var g={};__webpack_require__.r(g),__webpack_require__.d(g,{CreateScreenModal:()=>jh,Login:()=>nx,PermissionSettingModal:()=>Qh});var y={};__webpack_require__.r(y),__webpack_require__.d(y,{createFile:()=>ix,downloadFile:()=>ax,formatFileSize:()=>lx,readFile:()=>rx});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{rgbaToHex:()=>sx});var x={};__webpack_require__.r(x),__webpack_require__.d(x,{checkLogin:()=>cx,resourceUrl:()=>ux});var w={};__webpack_require__.r(w),__webpack_require__.d(w,{serverUploadFileRequest:()=>bx,uploadFileRequest:()=>vx});var I={};__webpack_require__.r(I),__webpack_require__.d(I,{createScriptContexts:()=>Ex});var T={};__webpack_require__.r(T),__webpack_require__.d(T,{picture_render:()=>yx});var C={};__webpack_require__.r(C),__webpack_require__.d(C,{name:()=>xx});var S={};__webpack_require__.r(S),__webpack_require__.d(S,{exampleData:()=>Ix});const O=JSON.parse('{"UU":"@xdb/core","rE":"1.1.6"}');var P=__webpack_require__(4497),M=__webpack_require__(5440);const k=window.__app__;const D=class{constructor(){this.projectInfo={},this.userInfo=null,this.unreadMessageNumber=0,(0,P.makeAutoObservable)(this)}get saas_app(){return k.get_saas_app()}get deviceType(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<768?"mobile":"pc"}get project_id(){var e;return null===(e=this.projectInfo)||void 0===e?void 0:e._id}get user_id(){var e;return null===(e=this.userInfo)||void 0===e?void 0:e._id}get system_type(){var e;return(null===(e=this.projectInfo)||void 0===e?void 0:e.system_type)||"single"}get roles(){var e;return(null===(e=this.userInfo)||void 0===e?void 0:e.roles)||[]}get permissions(){var e;return(null===(e=this.userInfo)||void 0===e?void 0:e.permissions)||[]}get is_admin(){var e,t,n;return(null===(e=this.userInfo)||void 0===e?void 0:e.is_super_admin)||(null===(t=this.userInfo)||void 0===t?void 0:t.is_admin)||(null===(n=this.userInfo)||void 0===n?void 0:n.is_system_admin)||!1}get is_super_admin(){var e;return(null===(e=this.userInfo)||void 0===e?void 0:e.is_super_admin)||!1}get componentList(){var e;return(null===(e=this.projectInfo)||void 0===e?void 0:e.components)||[]}get myAppList(){var e;return(null===(e=this.projectInfo)||void 0===e?void 0:e.saasLicenses)||[]}get pluginList(){var e;return(null===(e=this.projectInfo)||void 0===e?void 0:e.plugins)||[]}checkPermission(e){return!!this.is_admin||this.permissions.includes(e)}checkLicense(e){}checkPlugin(e){return!1}getUserInfo(e){return new Promise((async(e,t)=>{const n=await k.xrequest.post("/api/core/user/mine",{});n&&(0,P.runInAction)((()=>{this.userInfo=null===n||void 0===n?void 0:n.data,k.set("datas.userinfo",null===n||void 0===n?void 0:n.data)})),e(null===n||void 0===n?void 0:n.data)}))}getProjectInfo(e){return new Promise((async(t,n)=>{const o=(null===e||void 0===e?void 0:e.project_id)||k.get("datas.project_id"),l=null===e||void 0===e?void 0:e.short_path;if(!o&&!l)return void t();var a=await k.xrequest.post("/api/core/system/project/detail",{_id:o,short_path:l});const i=(null===a||void 0===a?void 0:a.data)||{project_status:"not_exist"};(0,P.runInAction)((()=>{this.projectInfo=i||{},k.set("datas.project",i);const e=location.href.split("?")[1],n=new URLSearchParams(e).get("token");n&&k.set("datas.token",n),t(i)}))}))}getMessageNumber(e){return new Promise((async(e,t)=>{const n=await k.xrequest.post("/api/core/message/count",{});(0,P.runInAction)((()=>{this.unreadMessageNumber=(null===n||void 0===n?void 0:n.data)||0})),e(n)}))}logout(){return new Promise((async(e,t)=>{const n=await k.xrequest.post("/api/core/auth/account/logout",{});var o;n&&((0,P.runInAction)((()=>{this.userInfo=null})),null===(o=k.history)||void 0===o||o.replace("/login"),k.logout(),M.message.success("\u5df2\u9000\u51fa\u767b\u5f55"));e(n)}))}};__webpack_require__(8746);var N=__webpack_require__(9121),A=__webpack_require__.n(N),L=__webpack_require__(102),F=__webpack_require__.n(L),R=__webpack_require__(3662),B=__webpack_require__.n(R),V=__webpack_require__(465),U=__webpack_require__.n(V),Y=__webpack_require__(3421),z=__webpack_require__.n(Y),j=__webpack_require__(3450),q=__webpack_require__.n(j),X=__webpack_require__(2170),W={};W.styleTagTransform=q(),W.setAttributes=U(),W.insert=B().bind(null,"head"),W.domAPI=F(),W.insertStyleElement=z();A()(X.A,W);X.A&&X.A.locals&&X.A.locals;var K=__webpack_require__(4528),$=__webpack_require__(1594),J=__webpack_require__.n($),H=__webpack_require__(8294),G=__webpack_require__(5711),Q=__webpack_require__(6923),Z=__webpack_require__.n(Q),ee=__webpack_require__(132),te=__webpack_require__.n(ee),ne=__webpack_require__(7307),oe={};oe.styleTagTransform=q(),oe.setAttributes=U(),oe.insert=B().bind(null,"head"),oe.domAPI=F(),oe.insertStyleElement=z();A()(ne.A,oe);const le=ne.A&&ne.A.locals?ne.A.locals:void 0;var ae=__webpack_require__(5696),ie=__webpack_require__(3508),re=__webpack_require__.n(ie);const se=window.__app__,de=(0,$.createContext)(),ue=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s;const d=se.get("modules.components.basicCommon"),u=se.get("modules.formEditor.modules"),{VariableContainer:c,module:m}=(0,$.useContext)(de),p=(0,$.useMemo)((()=>{var t;let n=(null===(t=e.fieldInfo)||void 0===t?void 0:t.moduleType)||"input";return["inputNumber","rate","slider","calculateNumber"].includes(n)?n="inputNumber":["datePicker"].includes(n)?n="datePicker":["checkbox","multipleSelect"].includes(n)?n="multipleSelect":["radio","select"].includes(n)||["switch"].includes(n)?n="select":["organizationSelect"].includes(n)?n="organizationSelect":["userSelect"].includes(n)?n="userSelect":["relation"].includes(n)?n="relation":["unique_id"].includes(n)&&(n="input"),u[n]}),[null===(t=e.fieldInfo)||void 0===t?void 0:t.moduleType]),_=(0,$.useMemo)((()=>{var e;return(null===p||void 0===p||null===(e=p.config)||void 0===e?void 0:e.presets)||[]}),[p]);function v(t,n){var o,l,a;const i=null===(o=u[n.moduleType])||void 0===o||null===(l=o.funcs)||void 0===l?void 0:l.formatTextFunc,r=i?i(t,{moduleinfo:n}):t,s=[void 0,null,""].includes(t)?void 0:{label:r,value:t};null===(a=e.onChange)||void 0===a||a.call(e,s)}return"code"===(null===(n=e.lineInfo)||void 0===n?void 0:n.valueType)?J().createElement(d.CodeEditorModal,Object.assign({},e,{language:"javascript",buttonProps:{style:{textAlign:"left"},block:!0,title:"\u7f16\u8f91\u51fd\u6570"},modalProps:{title:"\u7f16\u8f91\u51fd\u6570"},value:(null===(o=e.value)||void 0===o?void 0:o.code)||"({\n  main: function (contexts, data) {\n    // \u6b64\u5904\u7f16\u5199\u7eaf\u51fd\u6570\uff0c\u8fd4\u56de\u8ba1\u7b97\u503c\n\n    return\n  },\n})",onChange:t=>{e.onChange({type:"code",text:"\u51fd\u6570\u503c",code:t})}})):"preset"===(null===(l=e.lineInfo)||void 0===l?void 0:l.valueType)?J().createElement(M.Select,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9",options:_,value:null===(a=e.value)||void 0===a?void 0:a.code,onChange:t=>{const[n]=_.filter((e=>e.value===t));e.onChange({type:"code",range:n.range||!1,label:n.label,code:t})}}):J().createElement("div",null,c?J().createElement(c,{module:m,options:{variable:!0},value:null===(i=e.value)||void 0===i?void 0:i.value,onChange:t=>v(t,e.fieldInfo)},null!==p&&void 0!==p&&p.Component?J().createElement(p.Component,{module:e.fieldInfo,value:null===(r=e.value)||void 0===r?void 0:r.value,onChange:t=>v(t,e.fieldInfo)}):J().createElement(M.Input,{readOnly:!0,placeholder:"\u8bf7\u8f93\u5165"})):null!==p&&void 0!==p&&p.Component?J().createElement(p.Component,{module:e.fieldInfo,value:null===(s=e.value)||void 0===s?void 0:s.value,onChange:t=>v(t,e.fieldInfo)}):J().createElement(M.Input,{readOnly:!0,placeholder:"\u8bf7\u8f93\u5165"}))})),ce=(0,$.memo)((e=>{var t,n,o,l;const a=se.get("modules.formEditor.modules"),{defaultFormModules:i}=se.get("datas.configs.table"),{rules:r,setrules:s,defaultModuleIds:d}=(0,$.useContext)(de),u={$eq:{text:"\u7b49\u4e8e",symbol:"=="},$ne:{text:"\u4e0d\u7b49\u4e8e",symbol:"!="},$includes:{text:"\u5305\u542b",symbol:""},$notincludes:{text:"\u4e0d\u5305\u542b",symbol:""},$in:{text:"\u5c5e\u4e8e",symbol:""},$nin:{text:"\u4e0d\u5c5e\u4e8e",symbol:""},$gt:{text:"\u5927\u4e8e",symbol:">"},$gte:{text:"\u5927\u4e8e\u7b49\u4e8e",symbol:">="},$lt:{text:"\u5c0f\u4e8e",symbol:"<"},$lte:{text:"\u5c0f\u4e8e\u7b49\u4e8e",symbol:"<="}},c=(0,$.useMemo)((()=>{let t=e.fields||[];const n=(d||[]).map((e=>i[e])).filter(Boolean),[o]=t.concat(n).filter((t=>{var n;return t.moduleId===(null===(n=e.item.field)||void 0===n?void 0:n.value)}));return o}),[e.fields,e.item.field,d]),m=(0,$.useMemo)((()=>{var t;let n=e.fields||[];const o=(d||[]).map((e=>i[e])).filter(Boolean),l=Object.values(a).filter((e=>{var t;return!(null===(t=e.config.symbols)||void 0===t||!t.length)})).map((e=>e.moduleType));return n=null===(t=n)||void 0===t?void 0:t.filter((e=>l.includes(e.moduleType))),n.concat(o)}),[e.fields,d]),p=(0,$.useMemo)((()=>{var e;const t=null!==c&&void 0!==c&&c.moduleType?a[c.moduleType]:void 0;return((null===t||void 0===t||null===(e=t.config)||void 0===e?void 0:e.symbols)||[]).map((e=>u[e]&&{label:u[e].text,value:e,disabled:u[e].disabled})).filter(Boolean)}),[null===c||void 0===c?void 0:c.moduleType]),_=(0,$.useMemo)((()=>{var e,t;const n=null!==c&&void 0!==c&&c.moduleType?a[c.moduleType]:void 0;return[{label:"\u5177\u4f53\u503c",value:"value"},!(null===n||void 0===n||null===(e=n.config)||void 0===e||null===(t=e.presets)||void 0===t||!t.length)&&{label:"\u9884\u8bbe\u503c",value:"preset"},{label:"\u51fd\u6570\u503c",value:"code"}].filter(Boolean)}),[null===c||void 0===c?void 0:c.moduleType]);function v(t,n){e.item[n]=t,s(JSON.parse(JSON.stringify(r)))}return J().createElement(M.Row,{gutter:[5,10]},J().createElement(M.Col,{span:8},J().createElement(M.Select,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9",options:m.map((e=>{var t,n,o,l;return{label:(null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.title)||e.name,value:(null===(o=e.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.fieldname)||e.moduleId}})),popupMatchSelectWidth:!0,labelInValue:!0,value:null===(t=e.item)||void 0===t?void 0:t.field,onChange:t=>{e.item.field={label:t.label,value:t.value},e.item.value=void 0,v()}})),J().createElement(M.Col,{span:5},J().createElement(M.Select,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9",options:p,popupMatchSelectWidth:!1,labelInValue:!0,value:null===(n=e.item)||void 0===n?void 0:n.symbol,onChange:t=>{e.item.symbol={label:t.label,value:t.value,symbol:u[t.value].symbol},v()}})),J().createElement(M.Col,{span:11},J().createElement(M.Space.Compact,{style:{width:"100%"}},J().createElement(M.Select,{defaultValue:"value",style:{width:85},options:_,popupMatchSelectWidth:!1,value:null===(o=e.item)||void 0===o?void 0:o.valueType,onChange:t=>{e.item.valueType=t,e.item.value=void 0,v()}}),J().createElement("div",{style:{flex:1}},J().createElement(ue,{fieldInfo:c,value:null===(l=e.item)||void 0===l?void 0:l.value,lineInfo:e.item,onChange:t=>{e.item.value=t,v()}})))))}));function me(e){let t=!0;return e.forEach((e=>{null===e||void 0===e||e.forEach((e=>{e.field&&e.symbol&&e.value||(t=!1)}))})),!t&&M.message.warning("\u7b5b\u9009\u6761\u4ef6\u4e0d\u5b8c\u6574\uff0c\u8bf7\u8865\u5145"),t?e:void 0}const pe=(0,$.memo)((0,$.forwardRef)(((e,t)=>{(0,$.useImperativeHandle)(t,(()=>({validateFields:me})));const[n,o]=(0,$.useState)([]);(0,$.useEffect)((()=>{o(e.value||[])}),[e.value]);const l=t=>{var n;o(t),null===(n=e.onChange)||void 0===n||n.call(e,t)};return J().createElement(de.Provider,{value:{rules:n,setrules:l,VariableContainer:e.VariableContainer,module:e.module,defaultModuleIds:e.defaultModuleIds}},J().createElement(M.Space,{size:[10,10],direction:"vertical",style:{width:"100%"}},null===n||void 0===n?void 0:n.map(((t,o)=>J().createElement(M.Card,{key:o,style:{background:"#f5f5f5"},styles:{body:{padding:10}}},J().createElement(M.Space,{size:[10,10],direction:"vertical",style:{width:"100%"}},null===t||void 0===t?void 0:t.map(((a,i)=>J().createElement(M.Row,{gutter:[10,10],key:i},J().createElement(M.Col,{flex:1},J().createElement(ce,{andIndex:i,orIndex:o,item:a,fields:e.fields})),J().createElement(M.Col,null,J().createElement(M.Button,{icon:J().createElement(H.DeleteOutlined,null),danger:!0,style:{marginTop:3},size:"small",type:"primary",onClick:e=>{t.splice(i,1),t.length||n.splice(o,1),l([...n])}}))))),J().createElement(M.Button,{type:"primary",onClick:e=>(e=>{e.push({valueType:"value"});const t=[...n];l(t)})(t)},"\u6dfb\u52a0\u4e14\u6761\u4ef6"))))),J().createElement(M.Button,{type:"primary",onClick:e=>(()=>{n.push([{valueType:"value"}]);const e=[...n];l(e)})()},"\u6dfb\u52a0",n.length?"\u6216":"","\u6761\u4ef6")))})));pe.validateFields=me;const _e=pe,ve=(window.__app__,(0,ae.observer)((e=>{const t=(0,$.useRef)(),[n,o]=(0,$.useState)(!1),[l,a]=(0,$.useState)([]);(0,$.useEffect)((()=>{a(e.value)}),[e.value]);const i=()=>{o(!1)};return J().createElement(J().Fragment,null,J().createElement(M.Button,Object.assign({type:"primary",block:!0},e.buttonProps||{},{onClick:e=>{o(!0)}}),"\u70b9\u51fb\u7f16\u8f91"),J().createElement(M.Modal,Object.assign({title:"\u7b5b\u9009\u6761\u4ef6",width:700,open:n,destroyOnClose:!0,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},e.modalProps||{},{onOk:()=>{var n;var o;(null===(n=t.current)||void 0===n?void 0:n.validateFields(l))&&(null===(o=e.onChange)||void 0===o||o.call(e,l),i())},onCancel:i}),J().createElement(_e,Object.assign({ref:t},e,{buttonProps:void 0,modalProps:void 0,value:e.value,onChange:e=>a(e)}))))})));const be=__webpack_require__(6491),fe="[A-Za-z$_][0-9A-Za-z$_]*",Ee=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],ge=["true","false","null","undefined","NaN","Infinity"],ye=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],he=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],xe=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],we=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Ie=[].concat(xe,ye,he);var Te="[0-9](_*[0-9])*",Ce="\\.(".concat(Te,")"),Se="[0-9a-fA-F](_*[0-9a-fA-F])*",Oe={className:"number",variants:[{begin:"(\\b(".concat(Te,")((").concat(Ce,")|\\.)?|(").concat(Ce,"))")+"[eE][+-]?(".concat(Te,")[fFdD]?\\b")},{begin:"\\b(".concat(Te,")((").concat(Ce,")[fFdD]?\\b|\\.([fFdD]\\b)?)")},{begin:"(".concat(Ce,")[fFdD]?\\b")},{begin:"\\b(".concat(Te,")[fFdD]\\b")},{begin:"\\b0[xX]((".concat(Se,")\\.?|(").concat(Se,")?\\.(").concat(Se,"))")+"[pP][+-]?(".concat(Te,")[fFdD]?\\b")},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:"\\b0[xX](".concat(Se,")[lL]?\\b")},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Pe(e,t,n){return-1===n?"":e.replace(t,(o=>Pe(e,t,n-1)))}function Me(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),o="decltype\\(auto\\)",l="[a-zA-Z_]\\w*::",a="(?!struct)("+o+"|"+t.optional(l)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",i={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},r={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},s={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(r,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},u={className:"title",begin:t.optional(l)+e.IDENT_RE,relevance:0},c=t.optional(l)+e.IDENT_RE+"\\s*\\(",m={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},p={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},_=[p,d,i,n,e.C_BLOCK_COMMENT_MODE,s,r],v={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:m,contains:_.concat([{begin:/\(/,end:/\)/,keywords:m,contains:_.concat(["self"]),relevance:0}]),relevance:0},b={className:"function",begin:"("+a+"[\\*&\\s]+)+"+c,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:m,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:o,keywords:m,relevance:0},{begin:c,returnBegin:!0,contains:[u],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[r,s]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,r,s,i,{begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,r,s,i]}]},i,n,e.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:m,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(v,b,p,_,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:m,contains:["self",i]},{begin:e.IDENT_RE+"::",keywords:m},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}var ke=__webpack_require__(3971),De={};De.styleTagTransform=q(),De.setAttributes=U(),De.insert=B().bind(null,"head"),De.domAPI=F(),De.insertStyleElement=z();A()(ke.A,De);ke.A&&ke.A.locals&&ke.A.locals;be.registerLanguage("javascript",(function(e){const t=e.regex,n=fe,o="<>",l="</>",a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,o=e.input[n];if("<"===o||","===o)return void t.ignoreMatch();let l;">"===o&&(((e,t)=>{let{after:n}=t;const o="</"+e[0].slice(1);return-1!==e.input.indexOf(o,n)})(e,{after:n})||t.ignoreMatch());const a=e.input.substring(n);((l=a.match(/^\s*=/))||(l=a.match(/^\s+extends\s+/))&&0===l.index)&&t.ignoreMatch()}},i={$pattern:fe,keyword:Ee,literal:ge,built_in:Ie,"variable.language":we},r="[0-9](_?[0-9])*",s="\\.(".concat(r,")"),d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:"(\\b(".concat(d,")((").concat(s,")|\\.)?|(").concat(s,"))")+"[eE][+-]?(".concat(r,")\\b")},{begin:"\\b(".concat(d,")\\b((").concat(s,")\\b|\\.)?|(").concat(s,")\\b")},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},c={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,c],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,c],subLanguage:"css"}},_={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,c],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,c]},b={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},f=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,p,_,v,{match:/\$\d+/},u];c.contains=f.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(f)});const E=[].concat(b,c.contains),g=E.concat([{begin:/(\s*)\(/,end:/\)/,keywords:i,contains:["self"].concat(E)}]),y={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:g},h={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},x={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ye,...he]}},w={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[y],illegal:/%/},I={match:t.concat(/\b/,(T=[...xe,"super","import"].map((e=>"".concat(e,"\\s*\\("))),t.concat("(?!",T.join("|"),")")),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0};var T;const C={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},S={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},y]},O="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",P={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(O)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[y]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:g,CLASS_REFERENCE:x},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,p,_,v,b,{match:/\$\d+/},u,x,{scope:"attr",match:n+t.lookahead(":"),relevance:0},P,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,e.REGEXP_MODE,{className:"function",begin:O,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:g}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:o,end:l},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},w,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[y,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},C,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[y]},I,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},h,S,{match:/\$[(.]/}]}})),be.registerLanguage("json",(function(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}})),be.registerLanguage("android",(function(e){const t=e.regex,n="[\xc0-\u02b8a-zA-Z_$][\xc0-\u02b8a-zA-Z_$0-9]*",o=n+Pe("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},a={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},i={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[i,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+o+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Oe,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Oe,a]}})),be.registerLanguage("ios",Me),be.registerLanguage("harmony",Me),be.registerLanguage("shell",(function(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}));const Ne=window.__app__,Ae=e=>{const t=Ne.get("modules.components.basicCommon"),n=(0,$.useRef)(),o=(0,$.useMemo)((()=>e.language||"javascript"),[e.language]);return(0,$.useEffect)((()=>{n.current&&(delete n.current.dataset.highlighted,be.highlightElement(n.current))}),[e.value,o]),J().createElement("pre",{className:le.xin_hljs},J().createElement("div",{className:le.hljs_header},J().createElement("div",{className:le.header_left},o),J().createElement("div",{className:le.header_right},J().createElement(M.Button,{type:"text",size:"small",icon:J().createElement(t.Copy,{value:e.value})}))),J().createElement("code",{ref:n,className:Z()(["language-"+o,le.hljs_code])},e.value))},Le=window.__app__,Fe=e=>{const[t,n]=(0,$.useState)([]),[o,l]=(0,$.useState)([]);(0,$.useEffect)((()=>{r(),s()}),[]);const a=(0,$.useMemo)((()=>Le.listToTree(o,void 0,{parent_field:"parent_id",unique_field:"_id"})),[o]),i=(0,$.useMemo)((()=>{function n(t){return{title:J().createElement(M.Space,null,J().createElement(H.WindowsFilled,{className:Z()(["screenselect_tree","screenselect_"+(t.type||"screen")])}),t.name),label:t.name,value:e.screenValueFunc?e.screenValueFunc(t._id):t._id}}function o(e){var l;return{title:J().createElement(M.Space,null,J().createElement(H.FolderOutlined,null),e.name),label:e.name,value:e._id,selectable:!1,children:[...(null===(l=e.children)||void 0===l?void 0:l.map((e=>o(e))))||[],...t.filter((t=>e._id===t.group_id)).map((e=>n(e)))]}}return[...a.map((e=>o(e))),...t.filter((e=>!e.group_id)).map((e=>n(e)))]}),[t,a]),r=async()=>{var e;const t=await Le.xrequest.post("/api/core/screen/list",{filter:{},current:1,pageSize:1e4}),o=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[];n(o)},s=async()=>{var e;const t=await Le.xrequest.post("/api/core/screen/group/list",{filter:{type:"screen"},current:1,pageSize:1e4,sort:{create_time:-1}}),n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[];l(n)};return J().createElement(M.TreeSelect,{style:{width:"100%"},showSearch:!0,value:e.value,treeNodeFilterProp:"label",popupMatchSelectWidth:!1,placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,treeDefaultExpandAll:!0,onChange:t=>(t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)})(t),treeData:i})},Re=e=>{var t,n;const[o,l]=(0,$.useState)([]),[a,i]=(0,$.useState)([]),r=(0,$.useMemo)((()=>Le.listToTree(a,void 0,{parent_field:"parent_id",unique_field:"_id"})),[a]),s=(0,$.useMemo)((()=>{function e(e){return{title:J().createElement(M.Space,null,J().createElement(H.AppstoreFilled,{className:Z()(["tableselect_tree","tableselect_"+(e.type||"table")])}),e.name),label:e.name,value:e._id,selectable:!0}}function t(n){var l;return{title:J().createElement(M.Space,null,J().createElement(H.FolderOutlined,null),n.name),label:n.name,value:n._id,selectable:!1,children:[...(null===(l=n.children)||void 0===l?void 0:l.map((e=>t(e))))||[],...o.filter((e=>n._id===e.group_id)).map((t=>e(t)))]}}return[...r.map((e=>t(e))),...o.filter((e=>!e.group_id)).map((t=>e(t)))]}),[r,o]);(0,$.useEffect)((()=>{d(),new Promise((async(e,t)=>{var n;const o=await Le.xrequest.post("/api/core/table/group/list",{filter:{},select:{},sort:{create_time:1},current:1,pageSize:1e4}),l=(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)||[];i(l),e(l)}))}),[]);const d=async()=>{var e;const t=await Le.xrequest.post("/api/core/table/list",{filter:{},select:{fields:0},sort:{create_time:1},current:1,pageSize:1e4}),n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[];l(n)};return J().createElement(M.TreeSelect,{style:{width:"100%"},showSearch:!0,value:e.value,treeNodeFilterProp:"title",popupMatchSelectWidth:!1,placeholder:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.placeholder)||"\u8bf7\u9009\u62e9",allowClear:!0,treeDefaultExpandAll:!0,onChange:t=>(t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)})(t),treeData:s})},Be=e=>{const{ModuleTypeList:t}=Le.get("modules.formEditor.config"),n=Le.get("modules.formEditor.modules"),o=(0,$.useMemo)((()=>{const e=Object.keys(n).map((e=>n[e]));return t.map((t=>({label:t.name,title:t.name,options:e.map((e=>({label:e.name,value:e.moduleType})))})))}),[]);return J().createElement(M.Select,{placeholder:"\u8bf7\u9009\u62e9",options:o,value:e.value,onChange:t=>(t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)})(t)})},Ve=e=>{var t;const[n,o]=(0,$.useState)([]),[l,a]=(0,$.useState)([]),i=(0,$.useMemo)((()=>Le.listToTree(l,void 0,{parent_field:"parent_id",unique_field:"_id"})),[l]),r=(0,$.useMemo)((()=>{function e(e,t){return{title:J().createElement(M.Space,null,J().createElement(H.AppstoreFilled,{className:Z()(["tableselect_tree","tableselect_"+(e.type||"table")])}),e.name),label:e.name,key:e._id,value:e._id,selectable:!0}}function t(o,l){var a;return{title:o.name,label:o.name,key:o._id,value:o._id,selectable:!1,children:[...(null===(a=o.children)||void 0===a?void 0:a.map((e=>t(e,l+1))))||[],...n.filter((e=>o._id===e.group_id)).map((t=>e(t)))]}}return[...i.map((e=>t(e,1))),...n.filter((e=>!e.group_id)).map((t=>e(t)))]}),[i,n]);(0,$.useEffect)((()=>{s(),new Promise((async(e,t)=>{var n;const o=await Le.xrequest.post("/api/core/table/group/list",{filter:{},select:{},sort:{create_time:1},current:1,pageSize:1e4}),l=(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)||[];a(l),e(l)}))}),[]);const s=async()=>{var e;const t=await Le.xrequest.post("/api/core/table/list",{filter:{},select:{},sort:{create_time:1},current:1,pageSize:1e4}),n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[];o(n)};return J().createElement(M.TreeSelect,{style:{width:"100%"},showSearch:!0,value:null===(t=e.value)||void 0===t?void 0:t._id,treeNodeFilterProp:"label",placeholder:"\u8bf7\u9009\u62e9",popupMatchSelectWidth:!1,allowClear:!0,treeDefaultExpandAll:!0,treeData:r,onChange:t=>{const[o]=n.filter((e=>e._id===t));!function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(o)}})},Ue=e=>{const[t,n]=(0,$.useState)(!1),o=async()=>{var t;n(!0);const o=await Le.xrequest.post("/api/core/table/detail",{_id:null===(t=e.value)||void 0===t?void 0:t._id});n(!1),o&&(!function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(null===o||void 0===o?void 0:o.data),M.message.success("\u66f4\u65b0\u6210\u529f"))};return J().createElement(M.Button,{type:"primary",style:{width:"100%"},disabled:!e.value,loading:t,onClick:e=>{o()}},"\u66f4\u65b0\u8868\u914d\u7f6e")},Ye=e=>{const t=Le.get("modules.reportEditor.modules"),[n,o]=(0,$.useState)([]),[l,a]=(0,$.useState)([]),i=(0,$.useMemo)((()=>Le.listToTree(l,void 0,{parent_field:"parent_id",unique_field:"_id"})),[l]),r=(0,$.useMemo)((()=>{const o=n.filter((t=>{var n,o,l,a,i;return null===(n=e.options)||void 0===n||null===(o=n.props)||void 0===o||!o.moduleTypes||(null===(l=e.options)||void 0===l||null===(a=l.props)||void 0===a||null===(i=a.moduleTypes)||void 0===i?void 0:i.includes(t.moduleType))}));function l(e,n){var o;return{title:J().createElement(M.Space,null,J().createElement("span",{style:{fontSize:20}},null===(o=t[e.moduleType||"huizong"])||void 0===o?void 0:o.icon),e.name),label:e.name,key:e._id,value:e._id,selectable:!0}}function a(e,t){var n;return{title:e.name,label:e.name,key:e._id,value:e._id,selectable:!1,children:[...(null===(n=e.children)||void 0===n?void 0:n.map((e=>a(e,t+1))))||[],...o.filter((t=>e._id===t.group_id)).map((e=>l(e)))]}}return[...i.map((e=>a(e,1))),...o.filter((e=>!e.group_id)).map((e=>l(e)))]}),[i,n]);(0,$.useEffect)((()=>{s(),new Promise((async(e,t)=>{var n;const o=await Le.xrequest.post("/api/core/report/group/list",{filter:{type:"reportView"},select:{},sort:{create_time:1},current:1,pageSize:1e4}),l=(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)||[];a(l),e(l)}))}),[]);const s=async()=>{var e;const t=await Le.xrequest.post("/api/core/report/view/list",{filter:{},select:{body:0,table_id:0},sort:{create_time:1},current:1,pageSize:1e4}),n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[];o(n)};return J().createElement(J().Fragment,null,J().createElement(M.TreeSelect,{style:{width:"100%"},showSearch:!0,value:e.value,treeNodeFilterProp:"title",treeIcon:!0,popupMatchSelectWidth:!1,placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,treeDefaultExpandAll:!0,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t),treeData:r}))},ze=e=>{const t={organization:{color:"#1890ff"},user:{color:"#52c41a"},role:{color:"#c831ff"}},[n,o]=(0,$.useState)([]),[l,a]=(0,$.useState)([]),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)([]),u=(0,$.useMemo)((()=>{const e={};return n.forEach(((t,n)=>{e[t._id]=t})),e}),[n]),c=(0,$.useMemo)((()=>{function e(t,n,o,a){var i;return{title:f(t,n,o,"user"),key:a?"".concat(a._id,"_").concat(t._id):t._id,icon:"organization"===o?J().createElement("span",{className:Z()(["organization_tree","organization_"+(t.type||"organization")])},"company"===t.type?J().createElement(H.BankOutlined,null):J().createElement(H.TeamOutlined,null)):J().createElement("span",{className:Z()(["organization_tree","organization_user"])},J().createElement(H.UserOutlined,null)),selectable:!1,children:[...(null===(i=t.children)||void 0===i?void 0:i.map((t=>e(t,n+1,"organization",t))))||[],...l.filter((e=>e.organizations.includes(t._id))).map((o=>e(o,n+1,"user",t)))]}}return[...Le.listToTree(i,void 0,{parent_field:"parent_id",unique_field:"_id"}).map((t=>e(t,1,"organization"))),...l.filter((e=>!(e.organizations||[]).length)).map((t=>e(t,1,"user",null)))]}),[i,l,u]),m=(0,$.useMemo)((()=>{function e(t,n,o){var l;return{title:f(t,n,o,"organization"),key:t._id,icon:J().createElement("span",{className:Z()(["organization_tree","organization_"+(t.type||"organization")])},"company"===t.type?J().createElement(H.BankOutlined,null):J().createElement(H.TeamOutlined,null)),selectable:!1,children:null===(l=t.children)||void 0===l?void 0:l.map((t=>e(t,n+1,o)))}}return Le.listToTree(i,void 0,{parent_field:"parent_id",unique_field:"_id"}).map((t=>e(t,1,"organization")))}),[i,u]),p=(0,$.useMemo)((()=>{function e(t,n,o){var l;return{title:f(t,n,o,"role"),key:t._id,icon:J().createElement("span",{className:Z()(["organization_tree","organization_role"])},J().createElement(H.TagOutlined,null)),selectable:!1,children:null===(l=t.children)||void 0===l?void 0:l.map((t=>e(t,n+1,o)))}}return s.map((t=>e(t,1,"role")))}),[s,u]),_=(0,$.useMemo)((()=>{var t,n,o;const l=[];return(null===(t=e.types)||void 0===t?void 0:t.includes("user"))&&l.push({key:"user",label:"\u7528\u6237",children:J().createElement("div",{style:{width:300,maxHeight:405,overflowY:"auto"}},J().createElement(M.Tree.DirectoryTree,{rootClassName:le.xin_tree,blockNode:!0,defaultExpandAll:!0,defaultExpandedKeys:[],treeData:c}),!Boolean(c.length)&&J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE}))}),(null===(n=e.types)||void 0===n?void 0:n.includes("organization"))&&l.push({key:"organization",label:"\u90e8\u95e8",children:J().createElement("div",{style:{width:300,maxHeight:405,overflowY:"auto"}},J().createElement(M.Tree.DirectoryTree,{rootClassName:le.xin_tree,blockNode:!0,defaultExpandAll:!0,defaultExpandedKeys:[],treeData:m}),!Boolean(m.length)&&J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE}))}),(null===(o=e.types)||void 0===o?void 0:o.includes("role"))&&l.push({key:"role",label:"\u89d2\u8272",children:J().createElement("div",{style:{width:300,maxHeight:405,overflowY:"auto"}},J().createElement(M.Tree.DirectoryTree,{rootClassName:le.xin_tree,blockNode:!0,defaultExpandAll:!0,defaultExpandedKeys:[],treeData:p}),!Boolean(p.length)&&J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE}))}),l}),[e.types,c,m,p]);function v(){return new Promise((async(e,t)=>{var n;const o=await Le.xrequest.post("/api/core/user/organization/list",{filter:{state:"ok"},current:1,pageSize:1e4,sort:{sort:1,create_time:1}}),l=(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)||[];r(l),e(l)}))}(0,$.useEffect)((()=>{var t,n,o,l,i;(null===(t=e.types)||void 0===t?void 0:t.includes("user"))&&v(),(null===(n=e.types)||void 0===n?void 0:n.includes("user"))&&new Promise((async(e,t)=>{var n;const o=await Le.xrequest.post("/api/core/user/list",{filter:{usertype:"inside",state:{$in:[0]}},current:1,pageSize:1e4}),l=(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)||[];a(l),e(l)})),(null===(o=e.types)||void 0===o?void 0:o.includes("organization"))&&v(),(null===(l=e.types)||void 0===l?void 0:l.includes("role"))&&new Promise((async(e,t)=>{var n;const o=await Le.xrequest.post("/api/core/user/role/list",{...i||{},current:1,pageSize:1e4,sort:{create_time:1}}),l=(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)||[];d(l),e(l)}))}),[]),(0,$.useEffect)((()=>{o(Array.isArray(e.value)?e.value:[])}),[e.value]);const b=t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)};function f(e,t,l,a){return J().createElement("div",{className:le.title,style:{width:{1:"90%",2:"89%",3:"88%",4:"86%",5:"84%",6:"81%"}[t]},onClick:t=>{if(l===a)if(u[e._id]){const t=n.filter((t=>t._id!==e._id));o(t),b(t)}else{const t=[...n,{type:l,_id:e._id,name:e.name}];o(t),b(t)}}},J().createElement("div",{className:le.text},e.name),l===a&&J().createElement(M.Checkbox,{checked:Boolean(u[e._id])}))}return J().createElement(M.Space,{wrap:!0},J().createElement(M.Popover,{placement:"bottomLeft",destroyTooltipOnHide:!0,content:J().createElement(M.Tabs,{tabBarGutter:20,items:_}),overlayInnerStyle:{paddingTop:0},trigger:"click"},J().createElement(M.Button,{type:"default",icon:J().createElement(H.PlusOutlined,null),size:"small"})),n.map(((e,n)=>J().createElement($.Fragment,{key:n},J().createElement(M.Tag,{style:{marginRight:0},color:t[e.type].color},e.name)))),!n.length&&J().createElement("span",null,"\u70b9\u51fb\u5de6\u4fa7\u6309\u94ae\u9009\u62e9"))},je=e=>{const[t,n]=(0,$.useState)([]);(0,$.useEffect)((()=>{o()}),[]);const o=async()=>{var e;const t=await Le.xrequest.post("/api/core/business/dictionary/list",{filter:{dictionary_id:{$exists:!1},status:!0,state:0},current:1,pageSize:1e4,sort:{sort:1,create_time:1}});n((null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[])};return J().createElement(M.Select,{style:{width:"100%"},options:null===t||void 0===t?void 0:t.map((e=>({label:e.name,value:e._id}))),placeholder:"\u8bf7\u9009\u62e9",mode:void 0,allowClear:!0,value:e.value,onChange:t=>(t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)})(t)})},qe=e=>{var t,n,o,l,a,i;const{platformName:r,defaultUserAvatar:s,defaultSystemLogo:d}=Le.get("datas.configs.project"),[u,c]=(0,$.useState)([]),m=(0,$.useMemo)((()=>u.map((e=>{var t,n,o,l;return{title:J().createElement(M.Space,{size:[5,5]},J().createElement("span",null,e.name),e.job_no&&J().createElement("span",{style:{opacity:.5,fontSize:12}},"[",e.job_no,"]"),e.position&&J().createElement("span",{style:{opacity:.5,fontSize:12}},"[",e.position,"]")),label:e.name,value:e._id,icon:J().createElement(M.Avatar,{size:18,src:null===(t=(n=Le.handles).resourceUrl)||void 0===t?void 0:t.call(n,(null===(o=e.avatar)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.url)||s)}),selectable:!0}}))),[u]);(0,$.useEffect)((()=>{p({})}),[]);const p=async e=>{var t;let{name:n}=e;const o=await Le.xrequest.post("/api/core/user/list",{filter:{name:n?{$regex:n}:void 0,usertype:"inside",state:{$in:[0]}},current:1,pageSize:1e4,sort:{create_time:1}});c((null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.data)||[])};return J().createElement(M.TreeSelect,{style:{width:"100%"},showSearch:!0,onSearch:te().debounce((function(e){console.log(e),p({name:e})}),500),treeNodeFilterProp:"label",popupMatchSelectWidth:!1,placeholder:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.placeholder)||"\u8bf7\u8f93\u5165\u59d3\u540d\u641c\u7d22",allowClear:!0,treeIcon:!0,treeDefaultExpandAll:!0,disabled:null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.disabled,multiple:null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.multiple,treeData:m,value:e.value,onChange:t=>(t=>{var n;const[o]=u.filter((e=>e._id===t));null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null,o?{_id:o._id,name:o.name,avatar:o.avatar}:null)})(t)})},Xe=e=>{var t,n,o,l;const{platformName:a,defaultUserAvatar:i,defaultSystemLogo:r}=Le.get("datas.configs.project"),[s,d]=(0,$.useState)([]),u=(0,$.useMemo)((()=>s.map((e=>{var t,n,o,l;return{title:J().createElement(M.Space,{size:[5,5]},J().createElement("span",null,e.name),e.job_no&&J().createElement("span",{style:{opacity:.5,fontSize:12}},"[",e.job_no,"]"),e.position&&J().createElement("span",{style:{opacity:.5,fontSize:12}},"[",e.position,"]")),label:e.name,value:e._id,icon:J().createElement(M.Avatar,{size:18,src:null===(t=(n=Le.handles).resourceUrl)||void 0===t?void 0:t.call(n,(null===(o=e.avatar)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.url)||i)}),selectable:!0}}))),[s]);(0,$.useEffect)((()=>{c({})}),[]);const c=async e=>{var t;let{name:n}=e;const o=await Le.xrequest.post("/api/core/user/list",{filter:{name:n?{$regex:n}:void 0,usertype:"inside",state:{$in:[0]}},current:1,pageSize:1e4,sort:{create_time:1}});d((null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.data)||[])};return J().createElement(M.TreeSelect,{style:{width:"100%"},showSearch:!0,multiple:!0,onSearch:te().debounce((function(e){console.log(e),c({name:e})}),500),treeNodeFilterProp:"label",popupMatchSelectWidth:!1,placeholder:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.placeholder)||"\u8bf7\u8f93\u5165\u59d3\u540d\u641c\u7d22",allowClear:!0,treeIcon:!0,treeDefaultExpandAll:!0,disabled:null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.disabled,treeData:u,value:e.value,onChange:t=>(t=>{var n;const o=s.filter((e=>null===t||void 0===t?void 0:t.includes(e._id))).map((e=>({_id:e._id,name:e.name,avatar:e.avatar})));null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t&&t.length?t:null,o.length?o:null)})(t)})},We=e=>{var t,n,o,l,a,i;const[r,s]=(0,$.useState)([]);(0,$.useEffect)((()=>{u()}),[]);const d=(0,$.useMemo)((()=>{var t,n;function o(t,n){var l,a,i;return{title:J().createElement(M.Space,{size:[5,5]},J().createElement("div",{className:Z()(["organization_tree","organization_"+(t.type||"organization")])},"company"===t.type?J().createElement(H.BankOutlined,null):J().createElement(H.TeamOutlined,null)),J().createElement("span",null,t.name)),stitle:t.name,key:t._id,icon:J().createElement("div",{className:Z()(["organization_tree","organization_"+(t.type||"organization")])},"company"===t.type?J().createElement(H.BankOutlined,null):J().createElement(H.TeamOutlined,null)),selectable:"organization"!==(null===(l=e.options)||void 0===l||null===(a=l.props)||void 0===a?void 0:a.select)||"company"!==t.type,children:null===(i=t.children)||void 0===i?void 0:i.map((e=>o(e,n+1)))}}const l="company"===(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.select)?["company"]:["company","organization"],a=r.filter((e=>l.includes(e.type)));return Le.listToTree(a,void 0,{parent_field:"parent_id",unique_field:"_id"}).map((e=>o(e,1)))}),[r]),u=async()=>{var e;const t=await Le.xrequest.post("/api/core/user/organization/list",{filter:{state:"ok"},current:1,pageSize:1e4,sort:{sort:1,create_time:1}}),n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[];s(n)};return J().createElement(M.TreeSelect,{style:{width:"100%"},showSearch:!1,value:e.value,treeNodeFilterProp:"title",popupMatchSelectWidth:!1,placeholder:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.placeholder)||"\u8bf7\u9009\u62e9",allowClear:!0,disabled:null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.disabled,multiple:(null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.multiple)||!1,treeDefaultExpandAll:!0,fieldNames:{label:"title",value:"key"},onChange:t=>(t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)})(t),treeData:d})},Ke=e=>{var t,n;Le.get("contexts.app");const[o,l]=(0,$.useState)([]);(0,$.useEffect)((()=>{a()}),[]);const a=async()=>{var e;const t=await Le.xrequest.post("/api/core/user/role/list",{filter:{},current:1,pageSize:100,sort:{create_time:1}}),n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[];l(n)};return J().createElement(M.Select,{style:{width:"100%"},options:null===o||void 0===o?void 0:o.map((e=>({label:e.name,value:e.value}))),placeholder:"\u8bf7\u9009\u62e9",mode:null!==(t=e.options)&&void 0!==t&&null!==(n=t.props)&&void 0!==n&&n.multiple?"multiple":void 0,allowClear:!0,value:e.value,onChange:t=>(t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)})(t)})},$e=e=>{var t,n;const[o,l]=(0,$.useState)([]);(0,$.useEffect)((()=>{new Promise((async(t,n)=>{var o,a,i;const r=await Le.xrequest.post("/api/core/user/tag/list",{filter:{type:null===(o=e.options)||void 0===o||null===(a=o.props)||void 0===a?void 0:a.type},current:1,pageSize:1e4,sort:{create_time:1}}),s=(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.data)||[];l(s),t(s)}))}),[]);return J().createElement(M.Select,{style:{width:"100%"},options:o.map((e=>({label:e.name,value:e._id}))),placeholder:"\u8bf7\u9009\u62e9",mode:null!==(t=e.options)&&void 0!==t&&null!==(n=t.props)&&void 0!==n&&n.multiple?"multiple":void 0,allowClear:!0,value:e.value,onChange:t=>(t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)})(t)})},Je=e=>{const{uploadFileRequest:t}=Le.get("handles");(0,$.useEffect)((()=>{}),[]);const n=t=>{var n,o;const l={uid:t.uid,name:t.name,status:t.status,data:t.data||(null===(n=t.response)||void 0===n?void 0:n.data)};null===(o=e.onChange)||void 0===o||o.call(e,l)};return J().createElement(M.Upload,{name:"file",customRequest:t,accept:".png,.jpg,.jpeg,.gif",data:{},onChange:async function(e){let{file:t}=e;if("done"===t.status){await(o=t.response.data,new Promise((async(e,t)=>{e(await Le.xrequest.post("/api/core/resource/add",{provider:o.provider||"local_cdn",name:o.name,mime_type:o.mime_type,url:o.url,size:o.size}))})));n(t)}else"error"===t.status&&M.message.error("".concat(t.name," \u4e0a\u4f20\u5931\u8d25"));var o},showUploadList:!1},e.children)},He=e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C,S;const{downloadFile:O,uploadFileRequest:P}=Le.get("handles"),[k,D]=(0,$.useState)([]),[N,A]=(0,$.useState)(!1),[L,F]=(0,$.useState)();(0,$.useEffect)((()=>{const t=(e.value||[]).map((e=>{var t,n,o;return{...e,url:null===(t=(n=Le.handles).resourceUrl)||void 0===t?void 0:t.call(n,null===(o=e.data)||void 0===o?void 0:o.url)}}));D(t)}),[e.value]);const R=t=>{var n;const o=t.map((e=>{var t;return{uid:e.uid,name:e.name,status:e.status,data:e.data||(null===(t=e.response)||void 0===t?void 0:t.data)}}));null===(n=e.onChange)||void 0===n||n.call(e,o)};return J().createElement(J().Fragment,null,J().createElement(M.Upload,{name:"file",listType:null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.listType,fileList:k,customRequest:P,maxCount:null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.maxCount,accept:null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.accept,multiple:null===(r=e.options)||void 0===r||null===(s=r.props)||void 0===s?void 0:s.multiple,data:null===(d=e.options)||void 0===d||null===(u=d.props)||void 0===u?void 0:u.data,itemRender:null===(c=e.options)||void 0===c||null===(m=c.props)||void 0===m?void 0:m.itemRender,iconRender:null===(p=e.options)||void 0===p||null===(_=p.props)||void 0===_?void 0:_.iconRender,disabled:null===(v=e.options)||void 0===v||null===(b=v.props)||void 0===b?void 0:b.disabled,onChange:async function(t){let{file:n,fileList:o}=t;var l,a;"done"===n.status?await(a=null===(l=n.response)||void 0===l?void 0:l.data,new Promise((async(t,n)=>{t(await Le.xrequest.post("/api/core/resource/add",{provider:a.provider||"local_cdn",group_id:["all","favourite","mine","snapshot","remove"].includes(e.activeTreeNode)?void 0:e.activeTreeNode,name:a.name,mime_type:a.mime_type,url:a.url,size:a.size}))}))):"removed"===n.status||"error"===n.status&&M.message.error("".concat(n.name," \u4e0a\u4f20\u5931\u8d25"));R([].concat(o||[]))},showUploadList:!1!==(null===(f=e.options)||void 0===f||null===(E=f.props)||void 0===E?void 0:E.showUploadList)&&{showPreviewIcon:null===(g=e.options)||void 0===g||null===(y=g.props)||void 0===y?void 0:y.showPreviewIcon,showDownloadIcon:null===(h=e.options)||void 0===h||null===(x=h.props)||void 0===x?void 0:x.showDownloadIcon,previewIcon:e=>{var t;return((null===(t=e.data)||void 0===t?void 0:t.mime_type)||"").startsWith("image/")?J().createElement(H.EyeOutlined,null):void 0}},onPreview:e=>{F(e),A(!0)},onDownload:e=>{var t;O(null===(t=e.data)||void 0===t?void 0:t.url)},beforeUpload:function(t,n){var o,l;const a=(null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.maxCount)||100;return!(n.length>a)||(M.message.error("\u6700\u591a\u53ea\u80fd\u4e0a\u4f20".concat(a,"\u4e2a\u6587\u4ef6")),Promise.reject())}},e.children||k.length<((null===(w=e.options)||void 0===w||null===(I=w.props)||void 0===I?void 0:I.maxCount)||100)&&J().createElement(M.Space,{direction:"vertical",size:5},J().createElement(H.PlusOutlined,null),J().createElement("div",null,"\u4e0a\u4f20"))),J().createElement(M.Image,{width:0,style:{display:"none"},preview:{visible:N,src:null===(T=(C=Le.handles).resourceUrl)||void 0===T?void 0:T.call(C,null===L||void 0===L||null===(S=L.data)||void 0===S?void 0:S.url),onVisibleChange:e=>{A(e)}}}))},Ge=e=>{const{uploadFileRequest:t}=Le.get("handles");return J().createElement("div",{style:{height:180}},J().createElement(M.Upload.Dragger,{name:"file",customRequest:t,listType:"picture",data:{},onChange:async function(t){let{file:n}=t;if("done"===n.status){var o;const t=await(l=n.response.data,new Promise((async(e,t)=>{e(await Le.xrequest.post("/api/core/resource/add",{provider:l.provider||"local_cdn",name:l.name,mime_type:l.mime_type,url:l.url,size:l.size}))})));null===(o=e.onChange)||void 0===o||o.call(e,t)}else"error"===n.status?M.message.error("".concat(n.name," \u4e0a\u4f20\u5931\u8d25")):console.log(n);var l}},J().createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},J().createElement(H.CloudUploadOutlined,{style:{fontSize:40,color:"#1890ff"}}),J().createElement("div",{style:{marginTop:5}},"\u70b9\u51fb\u6216\u62d6\u52a8\u6587\u4ef6\u5230\u6b64\u5904\u4e0a\u4f20"))))},Qe=e=>J().createElement("div",{style:{height:180}},J().createElement(M.Upload.Dragger,{listType:"picture",fileList:[],onChange:async function(t){var n;let{file:o}=t;null===(n=e.onChange)||void 0===n||n.call(e,o)}},J().createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},J().createElement(H.CloudUploadOutlined,{style:{fontSize:40,color:"#1890ff"}}),J().createElement("div",{style:{marginTop:5}},"\u70b9\u51fb\u6216\u62d6\u52a8\u6587\u4ef6\u5230\u6b64\u5904\u4e0a\u4f20")))),Ze=(0,ae.observer)((e=>{var t,n;function o(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Image,{preview:Boolean(e.value),style:{maxWidth:70,minWidth:20,height:20},src:e.value&&(null===(t=(n=Le.handles).resourceUrl)||void 0===t?void 0:t.call(n,e.value))}),suffix:J().createElement(M.Space,{size:[2,0],style:{marginRight:-5}},e.value&&J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:e=>{o()}})),J().createElement(Je,{onChange:e=>{var t;return o(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.url)}},J().createElement(M.Tooltip,{title:"\u4e0a\u4f20"},J().createElement(M.Button,{type:"text",size:"small",icon:J().createElement(H.UploadOutlined,null)}))),J().createElement(et,{inContainer:e.inContainer,fileType:"image",onChange:e=>o(e)},J().createElement(M.Tooltip,{title:"\u8d44\u6e90\u5e93\u9009\u62e9"},J().createElement(M.Button,{type:"text",size:"small",icon:J().createElement(H.FolderAddOutlined,null)}))))})})),et=(0,ae.observer)((e=>{const t=Le.get("contexts.app"),n=Le.get("hooks.useStateWithRef"),{fileTypeMap:o}=Le.get("datas.configs.project"),l=(0,$.useRef)(),a=(0,$.useRef)(),[i,r]=(0,$.useState)(!1),[s,d,u]=n("all"),[c,m]=(0,$.useState)([]),[p,_,v]=n([]),[b,f]=(0,$.useState)(!1),[E,g]=(0,$.useState)(),[y,h]=(0,$.useState)([]),x=(0,$.useMemo)((()=>Le.listToTree(c,void 0,{parent_field:"parent_id",unique_field:"_id"})),[c]),w=(0,$.useMemo)((()=>{function e(t,n){return{title:t.name,key:t._id,selectable:!0,children:t.children.map((t=>e(t,n+1)))}}return[{title:"\u5168\u90e8\u6587\u4ef6",key:"all",icon:J().createElement(H.AppstoreFilled,{style:{color:"#1890ff"}}),selectable:!0},{title:"\u6211\u7684\u6536\u85cf",key:"favourite",icon:J().createElement(H.StarFilled,{style:{color:"#ffa900"}}),selectable:!0},{title:"\u6211\u7684\u4e0a\u4f20",key:"mine",icon:J().createElement(H.BulbFilled,{style:{color:"#04d453"}}),selectable:!0},{title:"\u9884\u89c8\u56fe",key:"snapshot",icon:J().createElement(H.SecurityScanFilled,{style:{color:"#c831ff"}}),selectable:!0}].concat(x.map((t=>e(t,1))))}),[x]);async function I(){f(!0),await new Promise((async(e,t)=>{var n;const o=await Le.xrequest.post("/api/core/resource/group/list",{filter:{},current:1,pageSize:1e4,sort:{create_time:1}}),l=(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)||[];m(l),e(l)})),f(!1),T()}const T=async()=>new Promise((async(e,t)=>{var n;const o=await Le.xrequest.post("/api/core/system/favourite/list",{filter:{type:"resource"},current:1,pageSize:1e4}),l=((null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)||[]).map((e=>e.target_id)).filter(Boolean);_(l),e(l)}));function C(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}function S(){r(!1),g()}return J().createElement(J().Fragment,null,J().createElement("div",{ref:a,style:{display:"inline-block",zIndex:1e4}}),J().createElement("span",{onClick:e=>{r(!0),I()}},e.children||J().createElement(M.Button,{type:"default",block:!0},"\u8bf7\u9009\u62e9")),J().createElement(M.Modal,{title:"\u8d44\u6e90\u5e93",width:1200,destroyOnClose:!0,getContainer:()=>e.inContainer?a.current:document.body,zIndex:2e4,open:i,onOk:function(){E?(C(E),S()):M.message.warning("\u8bf7\u9009\u62e9")},onCancel:S},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{style:{width:220}},J().createElement(M.Spin,{spinning:b},Boolean(c.length)?J().createElement(M.Tree.DirectoryTree,{rootClassName:"xin-directory-tree tree-large tree-control",defaultSelectedKeys:[s],defaultExpandAll:!0,expandAction:!1,treeData:w,onSelect:(e,t)=>{var n,o;d(null===t||void 0===t||null===(n=t.node)||void 0===n?void 0:n.key),null===(o=l.current)||void 0===o||o.reload()}}):J().createElement("div",{style:{height:100}}))),J().createElement(M.Col,{flex:"1"},J().createElement(G.ProList,{actionRef:l,className:le.resource_prolist,search:{className:le.resource_search_area,labelWidth:"auto",optionRender:(e,t,n)=>J().createElement(M.Space,null,n,J().createElement(He,{activeTreeNode:s,options:{props:{showUploadList:!1,data:{}}},onChange:e=>{var t;(h(e||[]),null!==e&&void 0!==e&&e[0])&&(C(e[0].url),null===(t=l.current)||void 0===t||t.reload())},value:y},J().createElement(M.Button,{type:"primary"},"\u4e0a\u4f20\u6587\u4ef6")))},rowKey:e=>e._id,request:async function(){var n,l,a;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;console.log("--------\u67e5\u8be2\u53c2\u6570----",i,r,s);const d=await Le.xrequest.post("/api/core/resource/list",{filter:{...i,name:i.name?{$regex:i.name}:void 0,group_id:["all","favourite","mine","snapshot","remove"].includes(u.current)?void 0:u.current,_id:"favourite"===u.current?{$in:v.current}:void 0,create_user_id:"mine"===u.current?null===(n=t.userInfo)||void 0===n?void 0:n._id:void 0,mime_type:{$in:o[e.fileType||"image"].mimeType},classify:"snapshot"===u.current?"snapshot":"file",current:void 0,pageSize:void 0},current:i.current,pageSize:i.pageSize,sort:{create_time:1,...Object.fromEntries(Object.keys(r).map((e=>[e,"ascend"===r[e]?1:-1])))}});return{data:(null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l.data)||[],success:Boolean(d),total:(null===d||void 0===d||null===(a=d.data)||void 0===a?void 0:a.count)||0}},pagination:{pageSize:21,showSizeChanger:!0},showActions:"hover",grid:{gutter:10,column:7},itemCardProps:{headStyle:{padding:0,fontSize:0},bodyStyle:{padding:0,fontSize:0},wrap:!0,bordered:!1},metas:{content:{title:"\u540d\u79f0",dataIndex:"name",render:(e,t,n,o)=>{var l,a;return J().createElement(G.CheckCard,{key:n,style:{width:"100%",height:110,margin:0},cover:J().createElement(J().Fragment,null,J().createElement("img",{alt:"",style:{height:75,display:"block",margin:"5px auto 5px auto",background:"rgba(0,0,0,0.2)",width:"92%",borderRadius:5},src:null===(l=(a=Le.handles).resourceUrl)||void 0===l?void 0:l.call(a,t.url)}),J().createElement("div",{className:"ellipsis",style:{fontSize:12,textAlign:"center"},title:t.name},t.name)),checked:E===t.url,onChange:e=>{g(e&&t.url)}})}}}})))))})),tt=(0,ae.observer)((e=>{var t,n,o,l,a;return J().createElement(M.Select,{style:{width:"100%"},popupMatchSelectWidth:!1,options:[{label:"\u81ea\u5b9a\u4e49\u5b57\u6bb5",options:null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n||null===(o=n.fields)||void 0===o?void 0:o.map((e=>{var t,n,o,l,a,i;return{label:"".concat((null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.title)||e.name,"\uff08").concat(null===(o=e.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.fieldname,"\uff09"),value:null===(a=e.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.fieldname}}))},{label:"\u5185\u7f6e\u5b57\u6bb5",options:[{label:"\u4e3b\u952e ID\uff08_id\uff09",value:"_id"},{label:"\u521b\u5efa\u7528\u6237\uff08create_user_id\uff09",value:"create_user_id"},{label:"\u521b\u5efa\u65f6\u95f4\uff08create_time\uff09",value:"create_time"},{label:"\u66f4\u65b0\u65f6\u95f4\uff08update_time\uff09",value:"update_time"}]}],placeholder:(null===(l=e.options)||void 0===l||null===(a=l.props)||void 0===a?void 0:a.placeholder)||"\u8bf7\u9009\u62e9",allowClear:!0,value:e.value,onChange:function(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];null===(t=e.onChange)||void 0===t||t.call(e,...o)}})})),nt=(0,ae.observer)((e=>{var t,n;const o=(0,$.useMemo)((()=>{var t,n,o;return null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n||null===(o=n.fields)||void 0===o?void 0:o.filter((t=>{var n,o;const l=(null===(n=e.options)||void 0===n||null===(o=n.props)||void 0===o?void 0:o.moduleTypes)||[];return!l.length||l.includes(t.moduleType)}))}),[null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.fields]);return J().createElement(M.Select,{style:{width:"100%"},options:null===o||void 0===o?void 0:o.map((e=>{var t,n,o,l;return{label:(null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.title)||e.name,value:(null===(o=e.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.fieldname)||e.moduleId}})),labelInValue:!0,placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t&&{label:t.label,value:t.value})})})),ot=(0,ae.observer)((e=>{var t,n,o,l,a;const i=Le.get("contexts.app"),{platformName:r,defaultUserAvatar:s,defaultSystemLogo:d,defaultPlatformLogo:u}=Le.get("datas.configs.project"),[c,m]=(0,$.useState)(!1),[p,_]=(0,$.useState)(!1),[v,b]=(0,$.useState)(),f=(0,$.useRef)(),E=(0,$.useRef)();async function g(){var e;m(!0);const t=await Le.xrequest.post("/api/core/server/wx/qrcode_create",{});m(!1),null!==t&&void 0!==t&&null!==(e=t.Avatardata)&&void 0!==e&&e.scene&&(f.current=null===t||void 0===t?void 0:t.data.scene,null!==t&&void 0!==t&&t.data.qrcode?(b(null===t||void 0===t?void 0:t.data.qrcode),y("start")):(M.message.error("\u4e8c\u7ef4\u7801\u83b7\u53d6\u5931\u8d25"),_(!0),y("stop")))}function y(t){"start"===t?E.current=setInterval((()=>{!async function(){const t=await Le.xrequest.post("/api/core/center/wx/qrcode_loop",{scene:f.current});if(0===t.errCode){var n;if(null!==t&&void 0!==t&&t.data)null===(n=e.success)||void 0===n||n.call(e,null===t||void 0===t?void 0:t.data),_(!0),y("stop")}}()}),1500):E.current&&(clearInterval(E.current),E.current=void 0)}return(0,$.useEffect)((()=>(g(),()=>{y("stop")})),[]),J().createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},J().createElement(M.Space,{direction:"vertical",size:20},J().createElement(M.QRCode,{value:v||"",status:p?"expired":c?"loading":"active",size:180,bordered:!0,icon:null===(t=(n=Le.handles).resourceUrl)||void 0===t?void 0:t.call(n,(null===(o=i.projectInfo)||void 0===o||null===(l=o.logo)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.url)||d||""),statusRender:e=>{var t;return"expired"===e.status?J().createElement("p",null,J().createElement(M.Button,{type:"link",icon:J().createElement(H.ReloadOutlined,null),onClick:e.onRefresh},null===(t=e.locale)||void 0===t?void 0:t.refresh)):void 0},onRefresh:()=>{g(),_(!1)}}),J().createElement("div",{style:{textAlign:"center"}},J().createElement(M.Space,null,J().createElement(H.WechatFilled,{style:{color:"#5fc157",fontSize:20,transform:"scale(1.1)"}}),J().createElement("span",{style:{lineHeight:"14px"}},e.remark||"\u4f7f\u7528\u5fae\u4fe1\u626b\u7801\u767b\u5f55")))))})),lt=_e,at=ve,it=Ae;var rt=__webpack_require__(3296),st={};st.styleTagTransform=q(),st.setAttributes=U(),st.insert=B().bind(null,"head"),st.domAPI=F(),st.insertStyleElement=z();A()(rt.A,st);const dt=rt.A&&rt.A.locals?rt.A.locals:void 0,ut=window.__app__,ct=(0,$.forwardRef)(((e,t)=>{var n,o;(0,$.useImperativeHandle)(t,(()=>({variable:a})));const l=(0,$.useMemo)((()=>{var t;return"variable"===(null===(t=e.value)||void 0===t?void 0:t.type)?{variable:!0,value:e.value.value}:{variable:!1,value:e.value}}),[e.value]);function a(e){i({type:"variable",value:l.value,variable:e})}function i(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return null!==(n=e.options)&&void 0!==n&&n.variable?J().createElement(J().Fragment,null,l.variable?J().createElement(M.Input,{value:" \u5df2\u7ed1\u5b9a",readOnly:!0,prefix:J().createElement(H.LinkOutlined,{style:{color:"#1890ff",fontWeight:700}}),suffix:J().createElement(H.CloseCircleFilled,{onClick:e=>{i(l.value)}}),onClick:t=>{var n,o;null===(n=e.modalRef)||void 0===n||null===(o=n.current)||void 0===o||o.open()}}):J().createElement("div",{className:dt.variable_box},"item"!==(null===(o=e.options)||void 0===o?void 0:o.target)&&J().createElement("div",{className:dt.popover},J().createElement(M.Button,{type:"default",icon:J().createElement(H.LinkOutlined,null),onClick:t=>{var n,o;null===(n=e.modalRef)||void 0===n||null===(o=n.current)||void 0===o||o.open()}})),J().createElement("div",{className:dt.content,onClick:t=>{var n,o,l;"item"===(null===(n=e.options)||void 0===n?void 0:n.target)&&(null===(o=e.modalRef)||void 0===o||null===(l=o.current)||void 0===l||l.open())}},e.children))):e.children})),mt=e=>{var t,n;ut.get("modules.components.basicWork");const o=ut.get("modules.components.basicCommon");return J().createElement(M.Input,{value:null===(t=e.module)||void 0===t?void 0:t.moduleId,readOnly:!0,style:{width:"100%"},suffix:J().createElement(o.Copy,{value:null===(n=e.module)||void 0===n?void 0:n.moduleId})})},pt=e=>{var t;return J().createElement("div",null,(null===(t=e.control)||void 0===t?void 0:t.mongoFieldType)||"")},_t=e=>{const[t,n]=(0,$.useState)([]);(0,$.useEffect)((()=>{n(e.value||[])}),[e.value]);const o=t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t&&t.filter((e=>![void 0,null].includes(e))).length?t:void 0)};return J().createElement(M.Space.Compact,{block:!0,className:dt.number_range,style:{...e.style||{}}},J().createElement(M.InputNumber,{className:dt.xinputnumber,placeholder:"\u533a\u95f4\u5c0f\u503c",value:t[0],onChange:e=>{const l=[e,t[1]];n(l),o(l)}}),J().createElement(M.Input,{className:dt.xinput,placeholder:"~",disabled:!0}),J().createElement(M.InputNumber,{className:Z()([dt.xinputnumber,dt.xright]),placeholder:"\u533a\u95f4\u5927\u503c",value:t[1],onChange:e=>{const l=[t[0],e];n(l),o(l)}}))},vt=e=>{var t,n,o,l;function a(t,n){var o;null===(o=e.onChange)||void 0===o||o.call(e,{...e.value,[n]:t})}return J().createElement(M.Row,{gutter:[10,0]},J().createElement(M.Col,{span:12},J().createElement(M.InputNumber,{value:"auto"===(null===(t=e.value)||void 0===t?void 0:t.unit)?null:null===(n=e.value)||void 0===n?void 0:n.value,disabled:"auto"===(null===(o=e.value)||void 0===o?void 0:o.unit),style:{width:"100%"},onChange:e=>{a(e,"value")}})),J().createElement(M.Col,{span:12},J().createElement(M.Select,{defaultValue:null===(l=e.value)||void 0===l?void 0:l.unit,style:{width:"100%"},onChange:e=>{a(e,"unit")}},[{LABEL:"%",VALUE:"%"},{LABEL:"px",VALUE:"px"},{LABEL:"mm",VALUE:"mm"},{LABEL:"auto",VALUE:"auto"}].map(((e,t)=>J().createElement(M.Select.Option,{key:t,value:e.VALUE},e.LABEL))))))},bt=e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_;return J().createElement(M.Select,{style:{width:"100%"},options:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.options)||[],placeholder:(null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.placeholder)||"\u8bf7\u9009\u62e9",allowClear:null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.allowClear,suffixIcon:null===(r=e.options)||void 0===r||null===(s=r.props)||void 0===s?void 0:s.suffixIcon,showSearch:null===(d=e.options)||void 0===d||null===(u=d.props)||void 0===u?void 0:u.showSearch,popupMatchSelectWidth:!1!==(null===(c=e.options)||void 0===c||null===(m=c.props)||void 0===m?void 0:m.popupMatchSelectWidth),mode:null===(p=e.options)||void 0===p||null===(_=p.props)||void 0===_?void 0:_.mode,value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)})},ft=e=>{var t,n,o,l,a;return J().createElement(M.Input,Object.assign({style:{width:"100%",...(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.style)||{}},placeholder:(null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.placeholder)||"\u8bf7\u8f93\u5165"},(null===(a=e.options)||void 0===a?void 0:a.props)||{},{value:e.value,onChange:t=>{var n;return function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(null===(n=t.target)||void 0===n?void 0:n.value)}}))},Et=e=>{var t,n;return J().createElement(M.Input.TextArea,{value:e.value,placeholder:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.placeholder)||"\u8bf7\u8f93\u5165",style:{width:"100%"},autoSize:{minRows:3,maxRows:3},onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t.target.value)})},gt=e=>{var t;return J().createElement(M.InputNumber,Object.assign({style:{width:"100%"}},(null===(t=e.options)||void 0===t?void 0:t.props)||{},{value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)}))},yt=e=>{var t,n,o,l,a,i;return J().createElement(M.DatePicker,{style:{width:"100%"},value:e.value,format:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.format)||"YYYY-MM-DD",showTime:null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.showTime,placeholder:(null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.placeholder)||"\u8bf7\u9009\u62e9",inputReadOnly:!0,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)})},ht=e=>{var t,n,o,l,a,i;return J().createElement(M.DatePicker,{style:{width:"100%"},format:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.format)||"YYYY-MM-DD HH:mm:ss",value:e.value&&re()(e.value),showTime:null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.showTime,placeholder:(null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.placeholder)||"\u8bf7\u9009\u62e9",inputReadOnly:!0,onChange:t=>function(t){var n;const o=t?re()(re()(t).format("YYYY-MM-DD HH:mm:ss")).valueOf():void 0;null===(n=e.onChange)||void 0===n||n.call(e,o)}(t)})},xt=e=>J().createElement(M.DatePicker,{style:{width:"100%"},format:"YYYY-MM-DD",placeholder:"\u8bf7\u9009\u62e9",inputReadOnly:!0,value:e.value&&re()(e.value),onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t&&t.startOf("day").add(1,"day").valueOf()-1)}}),wt=e=>{var t;return J().createElement(M.DatePicker.RangePicker,{style:{width:"100%"},value:e.value,format:(null===(t=e.module.data.attributes)||void 0===t?void 0:t.format)||"YYYY-MM-DD",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],inputReadOnly:!0,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)})},It=e=>{const[t,n]=(0,$.useState)([]);function o(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return(0,$.useEffect)((()=>{n(e.value||[])}),[e.value]),J().createElement(M.Row,{gutter:[10,0]},J().createElement(M.Col,{span:12},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165",value:e.value&&e.value[0],onChange:e=>{t[0]=e.target.value,o([...t])}})),J().createElement(M.Col,{span:12},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165",value:e.value&&e.value[1],onChange:e=>{t[1]=e.target.value,o([...t])}})))},Tt=e=>{const t=ut.get("modules.components.basicCommon");return J().createElement(t.RichEditor,Object.assign({},e,{buttonStyle:{width:"100%"},value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)}))},Ct=e=>{const t=ut.get("modules.components.basicCommon");return J().createElement(t.RichEditorModal,Object.assign({},e,{buttonStyle:{width:"100%"},value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)}))},St=e=>{var t,n;const o=ut.get("modules.components.basicCommon");return J().createElement(o.CodeEditor,Object.assign({},e,{language:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.language)||"javascript",style:e.style,value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)}))},Ot=e=>{var t,n,o;const l=ut.get("modules.components.basicCommon");return J().createElement(l.CodeEditorModal,Object.assign({language:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.language)||"javascript",buttonProps:{block:!0},modalProps:{}},e,(null===(o=e.options)||void 0===o?void 0:o.props)||{},{value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)}))},Pt=e=>{const t=ut.get("modules.components.basicCommon");return J().createElement(t.CodeEditorModal,Object.assign({language:"javascript",buttonProps:{block:!0}},e,{value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)}))},Mt=e=>{var t;const n=ut.get("modules.components.basicCommon");return J().createElement(n.CodeEditor,Object.assign({ref:e.ref,language:"javascript",buttonProps:{}},e,{value:(null===(t=e.value)||void 0===t?void 0:t.value)||e.value,onChange:t=>function(t){var n;const o=t&&{type:"js",value:t,transformCode:ut.transformScriptFunc(t)};null===(n=e.onChange)||void 0===n||n.call(e,o)}(t)}))},kt=e=>{var t;const n=ut.get("modules.components.basicCommon");return J().createElement(n.CodeEditorModal,Object.assign({ref:e.ref,language:"javascript",buttonProps:{block:!0}},e,{value:(null===(t=e.value)||void 0===t?void 0:t.value)||e.value,onChange:t=>function(t){var n;const o=t&&{type:"js",value:t,transformCode:ut.transformScriptFunc(t)};null===(n=e.onChange)||void 0===n||n.call(e,o)}(t)}))},Dt=e=>{const t=ut.get("modules.components.basicCommon");return J().createElement(t.CodeEditorModal,Object.assign({language:"json",buttonProps:{block:!0}},e,{value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)}))},Nt=e=>{const t=ut.get("modules.components.basicCommon");return J().createElement(t.CodeEditorModal,Object.assign({language:"json",buttonProps:{block:!0}},e,{value:e.value&&JSON.stringify(e.value,null,2),onChange:t=>function(t){try{var n;t&&(t=JSON.parse(t)),null===(n=e.onChange)||void 0===n||n.call(e,t)}catch(o){M.message.error("\u6570\u636e\u683c\u5f0f\u4e0d\u6b63\u786e"),console.error("\u683c\u5f0f\u9519\u8bef",o)}}(t)}))},At=e=>{const t=ut.get("modules.components.basicCommon");return J().createElement(t.CodeEditorModal,{language:"html",buttonProps:{block:!0},modalProps:{},value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)})},Lt=(0,$.memo)((e=>{var t,n;const o=ut.get("modules.components.basicCommon"),{iconListMap:l,iconGroupList:a}=ut.get("datas.configs.work"),i=e.value&&l[e.value],r=(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.exclude)||[];function s(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}const d=a.filter((e=>!r.length||!r.includes(e.key))).map(((t,n)=>{var a;return{key:n,label:t.title,children:J().createElement("div",{style:{maxHeight:410,overflow:"auto"}},null===(a=t.children)||void 0===a?void 0:a.map(((t,n)=>{var a;return J().createElement(o.Block,{key:n,title:t.title,border:!0},J().createElement(M.Space,{size:[10,10],wrap:!0,style:{width:287}},null===(a=t.children)||void 0===a?void 0:a.map(((t,n)=>{const o=l[t||"SmileOutlined"];return J().createElement(M.Button,{key:n,icon:o&&J().createElement(o,null),type:t===e.value?"primary":"default",onClick:e=>s(t)})}))))})))}}));return J().createElement(M.Popover,{placement:"leftTop",title:"\u56fe\u6807\u9009\u62e9",destroyTooltipOnHide:!0,trigger:"click",content:J().createElement(M.Tabs,{size:"small",tabBarStyle:{margin:0},tabBarGutter:20,items:d})},J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,5]},i&&J().createElement(i,null),J().createElement("div",null)),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},i&&J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:e=>s()}))),value:i?"\u5df2\u9009\u62e9":"\u8bf7\u9009\u62e9"}))})),Ft=e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p;return J().createElement(M.Radio.Group,{optionType:null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.optionType,buttonStyle:(null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.buttonStyle)||"solid",size:(null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.size)||"middle",disabled:null===(r=e.options)||void 0===r||null===(s=r.props)||void 0===s?void 0:s.disabled,value:e.value,onChange:t=>{var n;return function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(null===(n=t.target)||void 0===n?void 0:n.value)}},J().createElement(M.Space,{direction:null===(d=e.options)||void 0===d||null===(u=d.props)||void 0===u?void 0:u.direction,wrap:!0},null===(c=e.options)||void 0===c||null===(m=c.props)||void 0===m||null===(p=m.options)||void 0===p?void 0:p.map(((e,t)=>J().createElement(M.Radio,{key:e.value,value:e.value},e.label)))))},Rt=e=>{var t,n,o,l,a,i,r,s,d,u,c;return J().createElement(M.Radio.Group,{style:{width:"100%",display:"inline-flex",...(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.style)||{}},buttonStyle:(null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.buttonStyle)||"solid",size:(null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.size)||"middle",disabled:null===(r=e.options)||void 0===r||null===(s=r.props)||void 0===s?void 0:s.disabled,value:e.value,onChange:t=>{var n;return function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(null===(n=t.target)||void 0===n?void 0:n.value)}},null===(d=e.options)||void 0===d||null===(u=d.props)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.map(((e,t)=>J().createElement(M.Radio.Button,{style:{padding:0,textAlign:"center",flex:1},key:t,value:e.value},e.label))))},Bt=e=>{var t,n,o;return J().createElement(M.Radio.Group,{style:{width:"100%",display:"inline-flex"},buttonStyle:"solid",value:e.value,onChange:t=>{var n;return function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(null===(n=t.target)||void 0===n?void 0:n.value)}},null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n||null===(o=n.options)||void 0===o?void 0:o.map(((e,t)=>J().createElement(M.Tooltip,{key:t,title:e.label},J().createElement(M.Radio.Button,{style:{padding:0,textAlign:"center",flex:1},value:e.value},e.icon)))))},Vt=e=>{var t,n,o,l,a,i,r,s,d,u,c,m;function p(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return J().createElement(M.Row,{gutter:[10,0]},J().createElement(M.Col,{span:12},J().createElement(M.InputNumber,{value:e.value,style:{width:"100%"},min:null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.min,max:null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.max,step:null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.step,onChange:e=>p(e)})),J().createElement(M.Col,{span:12},J().createElement(M.Slider,{value:e.value,min:null===(r=e.options)||void 0===r||null===(s=r.props)||void 0===s?void 0:s.min,max:null===(d=e.options)||void 0===d||null===(u=d.props)||void 0===u?void 0:u.max,step:null===(c=e.options)||void 0===c||null===(m=c.props)||void 0===m?void 0:m.step,onChange:e=>p(e)})))},Ut=e=>{var t,n,o,l,a,i,r,s;return J().createElement(M.Slider,{style:{width:"100%"},value:e.value,min:null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.min,max:null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.max,step:null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.step,tooltip:null===(r=e.options)||void 0===r||null===(s=r.props)||void 0===s?void 0:s.tooltip,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)})},Yt=e=>{var t;const n=ut.get("modules.components.basicCommon");function o(t,n){var o;let l={...e.value||{}};"rgba"===n?l=t:"a"===n&&(l.a=t),null===(o=e.onChange)||void 0===o||o.call(e,l)}return J().createElement(M.Row,{gutter:[10,0]},J().createElement(M.Col,{span:12},J().createElement(n.ColorPicker,{value:e.value,style:{width:"100%"},onChange:e=>o(e,"rgba")})),J().createElement(M.Col,{span:12},J().createElement(M.Slider,{min:0,max:1,step:.01,tooltip:{formatter:e=>"\u900f\u660e\u5ea6\uff1a".concat((100*e).toFixed(0),"%")},value:null===(t=e.value)||void 0===t?void 0:t.a,onChange:e=>o(e,"a")})))},zt=e=>{var t,n,o,l,a,i,r,s,d,u;return J().createElement(M.Row,{gutter:[10,0]},J().createElement(M.Col,{span:12},J().createElement(M.InputNumber,{min:null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.min,max:null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.max,step:null===(a=e.options)||void 0===a||null===(i=a.props)||void 0===i?void 0:i.step,value:e.value,style:{width:"100%"},onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)})),J().createElement(M.Col,{span:12},J().createElement(M.Select,{defaultValue:null===(r=e.options)||void 0===r||null===(s=r.props)||void 0===s?void 0:s.selectDefaultValue,options:null===(d=e.options)||void 0===d||null===(u=d.props)||void 0===u?void 0:u.selectOptions,style:{width:"100%"},onChange:e=>{}})))},jt=e=>{var t,n,o,l;return J().createElement(M.Checkbox.Group,{options:(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.options)||[],value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t),disabled:null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.disabled})},qt=e=>{var t,n,o;return J().createElement(M.Button.Group,{style:{width:"100%"}},null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n||null===(o=n.options)||void 0===o?void 0:o.map(((t,n)=>{var o;return J().createElement(M.Tooltip,{key:n,title:t.label},J().createElement(M.Button,{style:{width:"100%"},type:null!==(o=e.value)&&void 0!==o&&o.includes(t.value)?"primary":"default",icon:t.icon,onClick:n=>{let o=JSON.parse(JSON.stringify(e.value||[])),l=o.indexOf(t.value);l>-1?o.splice(l,1):o.push(t.value),function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(o)}}))})))},Xt=e=>{const[t,n]=(0,$.useState)(!1),o=t=>{var o,l;null===(o=e.onChange)||void 0===o||o.call(e,null===(l=t.target)||void 0===l?void 0:l.value),n(!1)};return t?J().createElement(M.Input,{autoFocus:!0,defaultValue:e.value,onPressEnter:e=>o(e),onBlur:e=>o(e)}):J().createElement(M.Button,{type:"text",onClick:e=>n(!0)},e.value,J().createElement(H.EditOutlined,null))},Wt=ReactRouterDOM,Kt=(0,$.createContext)(),$t=window.__app__;function Jt(e,t){let n=null,o=null,l=null;return function e(a,i,r){a.moduleId===t?(n=a,o=i,l=r):a.children&&a.children.forEach(((t,n)=>{e(t,a,n)}))}(e),{moduleInfo:n,parentInfo:o,parentIndex:l}}function Ht(e,t,n,o){let l=Jt(e=JSON.parse(JSON.stringify(e)),t);return l.parentInfo&&l.parentInfo.children.splice(l.parentIndex+o,0,n),e}function Gt(e,t){e=JSON.parse(JSON.stringify(e));let{moduleInfo:n,parentInfo:o,parentIndex:l}=Jt(e,t);return o.children.splice(l,1),{customData:e,moduleInfo:n}}const Qt={findModuleFunc:Jt,removeModuleFunc:Gt,moveModuleFunc:function(e,t,n,o){if(t===n)return e;let l=Gt(e=JSON.parse(JSON.stringify(e)),t);return e=Ht(l.customData,n,l.moduleInfo,o||0)},appendModuleFunc:Ht,removeAndAppendChildrenFunc:function(e,t,n){let o=Gt(e,t);return Jt(o.customData,n).moduleInfo.children.push(o.moduleInfo),o.customData},appendChildrenFunc:function(e,t,n){let o=Jt(e=JSON.parse(JSON.stringify(e)),t);return o.moduleInfo&&o.moduleInfo.children.push(n),e},cloneAndUpdateModuleIdFunc:function(e){return function e(t,n){n(t),t.children&&t.children.forEach(((t,o)=>{e(t,n)}))}(e=JSON.parse(JSON.stringify(e)),(e=>{const t=$t.uuid(e.moduleType+"_");e.moduleId=t})),e},updateTableColumnModuleIdFunc:function(e){return e=e.map((e=>{e.key=$t.uuid();const t=$t.uuid(e.module.moduleType+"_");return e.module.moduleId=t,e}))},findModuleParentsFunc:function(e,t){(function e(t,n){t.parents=n?[...n.parents,n]:[],t.children&&t.children.forEach(((n,o)=>{e(n,t)}))})(e=JSON.parse(JSON.stringify(e)));let{moduleInfo:n}=Jt(e,t);return{moduleInfo:n,parents:n.parents}}};var Zt=__webpack_require__(3524),en={};en.styleTagTransform=q(),en.setAttributes=U(),en.insert=B().bind(null,"head"),en.domAPI=F(),en.insertStyleElement=z();A()(Zt.A,en);const tn=Zt.A&&Zt.A.locals?Zt.A.locals:void 0;const nn=function(e){var t,n;const{XinFormEditorModulesMap:o,XinCoverView:l,customData:a,setcustomData:i,activeInfo:r,setactiveInfo:s,core:d,config:u}=(0,$.useContext)(Kt);return J().createElement("div",{className:Z()([tn.cover,{[tn.active]:r&&(null===(t=e.module)||void 0===t?void 0:t.moduleId)===r.moduleId}]),onClick:t=>s(e.module)},J().createElement("div",{className:tn.control},J().createElement(M.Space,null,(null===(n=e.config)||void 0===n?void 0:n.copyable)&&J().createElement(M.Tooltip,{title:"\u590d\u5236"},J().createElement(M.Button,{type:"primary",size:"small",icon:J().createElement(H.CopyOutlined,null),onClick:t=>function(t){var n,l;t.stopPropagation&&t.stopPropagation();const r=o[null===(n=e.module)||void 0===n?void 0:n.moduleType].createFunc(),u=JSON.parse(JSON.stringify(e.module.data));"table"===e.module.moduleType&&(u.attributes.columns=d.updateTableColumnModuleIdFunc(u.attributes.columns||[])),r.data=u;const c=a.map((e=>e.moduleId)).indexOf(null===(l=e.module)||void 0===l?void 0:l.moduleId);let m=JSON.parse(JSON.stringify(a));m.splice(c+1,0,r),i(m),s(r)}(t)})),J().createElement(M.Popconfirm,{title:"\u786e\u8ba4\u5220\u9664\uff1f",placement:"topRight",overlayStyle:{minWidth:160},onConfirm:t=>function(t){var n;t.stopPropagation&&t.stopPropagation(),r&&r.moduleId===(null===(n=e.module)||void 0===n?void 0:n.moduleId)&&s();let o=JSON.parse(JSON.stringify(a));o=o.filter((t=>{var n;return(null===(n=e.module)||void 0===n?void 0:n.moduleId)!==t.moduleId})),i(o)}(t)},J().createElement(M.Tooltip,{title:"\u5173\u95ed"},J().createElement(M.Button,{danger:!0,type:"primary",size:"small",icon:J().createElement(H.CloseOutlined,null)}))))))},on=(0,$.memo)((e=>{var t;const n=(0,$.useMemo)((()=>{var t,n,o,l,a;const i=(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fieldname)||(null===(l=e.module)||void 0===l?void 0:l.moduleId),r=null===(a=e.funcs)||void 0===a?void 0:a.formatTableFunc;if(r){var s,d;return r(e.value||(null===(s=e.contexts)||void 0===s?void 0:s.moduleValue),{moduleinfo:e.module,fieldname:i,recordInfo:null===(d=e.contexts)||void 0===d?void 0:d.record},"detail")}return e.value}),[e.value,null===(t=e.contexts)||void 0===t?void 0:t.moduleValue,e.module]);return J().createElement("div",{className:Z()([tn.detail_text,!["upload","json","richText"].includes(e.module.moduleType)&&tn.border])},null!==n&&void 0!==n?n:"-")})),ln=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C,S,O,P,k,D,N,A,L,F;const{XinFormEditorModulesMap:R,XinCoverView:B,XinTypeView:V,XinModuleView:U,customData:Y,core:z,addFunc:j,config:q}=(0,$.useContext)(Kt);return(null===(t=e.permissions)||void 0===t?void 0:t.includes("show"))&&J().createElement(M.Col,{span:"pc"===q.deviceType&&(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.span)||24,className:Z()([tn[null===(l=e.module)||void 0===l?void 0:l.moduleType],tn.common,{[tn.hidden]:"editor"!==q.mode&&(null===(a=e.permissions)||void 0===a?void 0:a.includes("hidden")),[tn.edit]:"editor"===q.mode}])},"editor"===q.mode&&!e.contexts.intable&&J().createElement(B,e),J().createElement(M.Form.Item,Object.assign({name:(null===(i=e.module)||void 0===i||null===(r=i.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.fieldname)||(null===(d=e.module)||void 0===d?void 0:d.moduleId),label:J().createElement(J().Fragment,null,J().createElement("span",null,(null===(u=e.module)||void 0===u||null===(c=u.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.title)||(null===(p=e.module)||void 0===p?void 0:p.name)),J().createElement("span",null,null!==(_=e.module)&&void 0!==_&&null!==(v=_.data)&&void 0!==v&&null!==(b=v.attributes)&&void 0!==b&&b.unit?"\uff08".concat((null===(f=e.module)||void 0===f||null===(E=f.data.attributes)||void 0===E?void 0:E.unit)||"","\uff09"):""),"editor"===q.mode&&J().createElement("span",{style:{color:"#aaaaaa",marginLeft:5}},"(",(null===(g=e.module)||void 0===g||null===(y=g.data)||void 0===y||null===(h=y.attributes)||void 0===h?void 0:h.fieldname)||"-",")")),rules:[{required:null===(x=e.module)||void 0===x||null===(w=x.data)||void 0===w||null===(I=w.attributes)||void 0===I?void 0:I.required,message:(null===(T=e.module)||void 0===T||null===(C=T.data)||void 0===C||null===(S=C.attributes)||void 0===S?void 0:S.requiredText)||"\u8bf7\u8f93\u5165"}],style:{margin:"editor"===q.mode||"view"===q.mode&&e.contexts.intable?0:void 0},tooltip:null===(O=e.module)||void 0===O||null===(P=O.data)||void 0===P||null===(k=P.attributes)||void 0===k?void 0:k.tooltip,initialValue:null!==(D=null===(N=e.contexts)||void 0===N?void 0:N.moduleValue)&&void 0!==D?D:null===(A=e.module)||void 0===A||null===(L=A.data)||void 0===L||null===(F=L.attributes)||void 0===F?void 0:F.defaultValue},e.formItemProps||{}),"view"!==q.mode||!e.permissions.includes("readOnly")&&"detail"!==e.contexts.scene?e.children:J().createElement(on,e)))}));var an=__webpack_require__(6273),rn={};rn.styleTagTransform=q(),rn.setAttributes=U(),rn.insert=B().bind(null,"head"),rn.domAPI=F(),rn.insertStyleElement=z();A()(an.A,rn);const sn=an.A&&an.A.locals?an.A.locals:void 0,dn=e=>({title:"\u8868\u5b57\u6bb5\u5c5e\u6027",children:[{component:"MongoFieldType",formItemProps:{label:"\u5b57\u6bb5\u7c7b\u578b"}},{hidden:()=>!0,component:"BasicInput",formItemProps:{label:"\u5b57\u6bb5\u7c7b\u578b",name:["attributes","fieldtype"]}},{component:"BasicInput",formItemProps:{label:"\u5b57\u6bb5\u540d",name:["attributes","fieldname"],tooltip:"\u5b57\u6bb5\u540d\u53ea\u80fd\u5305\u542b\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u4e0d\u80fd\u4ee5\u6570\u5b57\u6216 xin_ \u5f00\u5934\uff0c\u4e14\u4e0d\u80fd\u4ee5\u4e0b\u5212\u7ebf\u7ed3\u5c3e\u3002"}}].concat(e.children).filter(Boolean)}),un=e=>({title:"\u57fa\u7840\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u6807\u9898",name:["attributes","title"]}},{component:"BasicInput",formItemProps:{label:"\u8bf4\u660e",name:["attributes","tooltip"]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u662f\u5426\u5fc5\u586b",name:["attributes","required"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.required)},component:"BasicInput",formItemProps:{label:"\u5fc5\u586b\u63d0\u9192\u8bed",name:["attributes","requiredText"],tooltip:"\u8868\u5355\u63d0\u4ea4\u524d\u89e6\u53d1\u89c4\u5219\u624d\u4f1a\u663e\u793a"}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u5bbd\u5ea6\u5360\u6bd4",name:["attributes","span"]},props:{options:[{label:"1/4",value:6},{label:"1/3",value:8},{label:"1/2",value:12},{label:"2/3",value:16},{label:"3/4",value:18},{label:"1/1",value:24}]}}]}),cn=e=>({title:"\u5217\u5c5e\u6027",children:[{component:"BasicInputNumber",formItemProps:{label:"\u5bbd\u5ea6\uff08px\uff09",name:["attributes","width"]}}]}),mn=e=>({title:"\u6743\u9650\u5c5e\u6027",children:[{component:"BasicCheckboxGroup",formItemProps:{label:"\u521b\u5efa\u65f6",name:["attributes","createPermission"]},props:{options:[{label:"\u663e\u793a",value:"show"},{label:"\u7981\u7528",value:"disabled"},{label:"\u53ea\u8bfb",value:"readOnly"}]}},{component:"BasicCheckboxGroup",formItemProps:{label:"\u7f16\u8f91\u65f6",name:["attributes","editPermission"]},props:{options:[{label:"\u663e\u793a",value:"show"},{label:"\u7981\u7528",value:"disabled"},{label:"\u53ea\u8bfb",value:"readOnly"}]}},{component:"BasicCheckboxGroup",formItemProps:{label:"\u8be6\u60c5\u65f6",name:["attributes","detailPermission"]},props:{options:[{label:"\u663e\u793a",value:"show"}]}},{component:"BasicCheckboxGroup",formItemProps:{label:"\u5217\u8868\u65f6",name:["attributes","listPermission"]},props:{options:[{label:"\u663e\u793a",value:"show"},{label:"\u590d\u5236",value:"copy"}]}},(!e.exclude||!e.exclude.includes("searchPermission"))&&{component:"BasicCheckboxGroup",formItemProps:{label:"\u67e5\u8be2\u65f6",name:["attributes","searchPermission"]},props:{disabled:e.disabled&&e.disabled.includes("searchPermission"),options:[{label:"\u663e\u793a",value:"show"}]}}].filter(Boolean)}),pn=e=>({title:"\u9ad8\u7ea7\u5c5e\u6027",children:[{component:"CodeEditorModal",formItemProps:{label:"\u5b57\u6bb5\u811a\u672c",name:["attributes","code"],initialValue:"\n({\n  main: function (contexts, data) {\n    // contexts \u4e3a\u4e0a\u4e0b\u6587\uff0c\u5176\u4e2d contexts.values \u4e3a\u6240\u6709\u8868\u5355\u9879\u503c\u3002\n    // data \u4e3a\u5f53\u524d\u8868\u5355\u9879\u503c\u3002\n    return data\n  },\n})\n"}}].filter(Boolean)}),_n=e=>({title:"\u901a\u7528\u5c5e\u6027",children:[{component:"UniqueId",formItemProps:{label:"\u552f\u4e00\u6807\u8bc6"}}]}),vn=async function(e){var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b;let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const E=null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n||null===(o=n.tableInfo)||void 0===o?void 0:o._id,g=(null===(l=e.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.filters)||[],y=(null===(i=e.data)||void 0===i||null===(r=i.attributes)||void 0===r||r.rows,(null===(s=e.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.columns)||[]),h=(null===(u=e.data)||void 0===u||null===(c=u.attributes)||void 0===c||c.targets,(null===(m=e.data)||void 0===m||null===(p=m.attributes)||void 0===p?void 0:p.sorts)||[]),x=await vn(g),w={$and:[(null===(_=x.$or)||void 0===_?void 0:_.length)&&x,(null===f||void 0===f||null===(v=f.customMatchs)||void 0===v||null===(b=v.$or)||void 0===b?void 0:b.length)&&f.customMatchs].filter(Boolean)};return{collection:"TableRecord",function:"find",params:[{table_id:E,...w.$and.length?w:{}}],select:Object.fromEntries(y.map((e=>["values.".concat(e.moduleId),1]))),populate:[],sort:{...Object.fromEntries(h.map((e=>{var t;return["values.".concat(null===(t=e.fieldInfo)||void 0===t?void 0:t.moduleId),"asc"===e.symbol?1:-1]})))}}};const bn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",t=arguments.length>1?arguments[1]:void 0;t=t||[];const n=t.filter((e=>"unique_id"===e.moduleType)).length,o="add"===e?n>=1:n>1;return o&&M.message.warning("\u552f\u4e00\u6807\u8bc6\u7ec4\u4ef6\u6700\u591a\u4e00\u4e2a"),o},fn=window.__app__,En=(0,ae.observer)((0,$.forwardRef)(((e,t)=>{(0,$.useImperativeHandle)(t,(()=>({getValues:g,setValues:y})));const n=fn.get("contexts.app"),o=fn.get("hooks.useStateWithRef"),l=fn.get("modules.formEditor.modules"),a=fn.get("modules.components.basicCommon"),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)(),[u,c]=(0,$.useState)(!1),[m,p]=(0,$.useState)(!1),[_,v,b]=o();(0,$.useEffect)((()=>{r(e.customData||[])}),[e.customData]),(0,$.useEffect)((()=>{E()}),[e._id]);const f=(0,$.useMemo)((()=>{const e=i.map((e=>{var t,n;return[e.moduleId,(null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.createPermission)||["edit"]]}));return Object.fromEntries(e)}),[i]),E=async()=>{await async function(){const t=await fn.xrequest.post("/api/core/table/detail",{_id:e._id});v(null===t||void 0===t?void 0:t.data)}(),async function(){const t=await fn.xrequest.post("/api/core/table/draft/last",{_id:void 0,table_id:e._id});y((null===t||void 0===t?void 0:t.data)||b.current||{})}()};function g(){return{fields:i}}function y(e){null!==e&&void 0!==e&&e.fields&&r(e.fields||[])}async function h(){if(!n.checkPermission("table_publish"))return void M.message.warning("\u65e0\u6743\u9650\u6267\u884c\u8be5\u64cd\u4f5c");const t=i.filter((e=>{var t,n;return!(null!==(t=e.data)&&void 0!==t&&null!==(n=t.attributes)&&void 0!==n&&n.fieldname)})).filter(Boolean);if(t.length)return void M.Modal.warning({title:"\u5b57\u6bb5\u540d\u4e3a\u7a7a\u63d0\u9192",width:600,maskClosable:!0,content:J().createElement(J().Fragment,null,J().createElement("p",null,t.map(((e,t)=>"\u3010".concat(e.data.attributes.title||e.name,"\u3011")))),J().createElement("p",{style:{marginTop:20,color:"red"}},"\u5b57\u6bb5\u540d\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u8865\u5145\u540e\u518d\u53d1\u5e03\uff01"))});const o=function(e){const t=e.reduce(((e,t)=>(e[t.data.attributes.fieldname]||(e[t.data.attributes.fieldname]=[]),e[t.data.attributes.fieldname].push(t),e)),{});return Object.values(t).filter((e=>e.length>1))}(i);if(o.length)return void M.Modal.warning({title:"\u5b57\u6bb5\u540d\u91cd\u590d\u63d0\u9192",width:600,maskClosable:!0,content:J().createElement(J().Fragment,null,o.map(((e,t)=>J().createElement("p",{style:{margin:"10px"},key:t},e.map(((e,t)=>"".concat(e.data.attributes.title||e.name,"(").concat(e.data.attributes.fieldname,")"))).join(" \u548c ")+" \u91cd\u590d"))),J().createElement("p",{style:{marginTop:20,color:"red"}},"\u5b57\u6bb5\u540d\u4e0d\u53ef\u91cd\u590d\uff0c\u8bf7\u4fee\u6539\u540e\u518d\u53d1\u5e03\uff01"))});const l=function(e){const t=["table_id","tablename","type","project_id","status","create_user_id","create_time","update_time","comment"].filter(Boolean);return e.filter((e=>{var n,o;return t.includes(null===(n=e.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fieldname)})).filter(Boolean)}(i);if(l.length)return void M.Modal.warning({title:"\u9ed8\u8ba4\u5b57\u6bb5\u540d\u91cd\u590d\u63d0\u9192",width:600,maskClosable:!0,content:J().createElement(J().Fragment,null,l.map(((e,t)=>J().createElement("p",{key:t},"".concat(e.data.attributes.title||e.name,"\uff1a").concat(e.data.attributes.fieldname)))),J().createElement("p",{style:{marginTop:20,color:"red"}},"\u4ee5\u4e0a\u5b57\u6bb5\u540d\u4e0e\u9ed8\u8ba4\u503c\u91cd\u590d\uff0c\u8bf7\u4fee\u6539\u540e\u518d\u53d1\u5e03\uff01"))});const a=function(e){const t=fn.get("datas.regex.fieldname.pattern");return e.filter((e=>{var n,o;return!t.test(null===(n=e.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fieldname)})).filter(Boolean)}(i);a.length?M.Modal.warning({title:"\u5b57\u6bb5\u540d\u4e0d\u7b26\u5408\u89c4\u5219",width:600,maskClosable:!0,content:J().createElement(J().Fragment,null,a.map(((e,t)=>J().createElement("p",{key:t},"".concat(e.data.attributes.title||e.name,"\uff1a").concat(e.data.attributes.fieldname)))),J().createElement("p",{style:{marginTop:20,color:"red"}},"\u4ee5\u4e0a\u5b57\u6bb5\u540d\u4e0d\u7b26\u5408\u89c4\u5219\uff0c\u8bf7\u4fee\u6539\u540e\u518d\u53d1\u5e03\uff01"),J().createElement("p",{style:{marginTop:20,color:"red"}},fn.get("datas.regex.fieldname.message")))}):M.Modal.confirm({title:"\u53d1\u5e03\u786e\u8ba4",content:"\u53d1\u5e03\u540e\u5c06\u4f1a\u8986\u76d6\u73b0\u6709\u7248\u672c\uff0c\u662f\u5426\u53d1\u5e03\uff1f",okText:"\u53d1\u5e03",cancelText:"\u53d6\u6d88",onOk:()=>new Promise((async(t,n)=>{await fn.xrequest.post("/api/core/table/publish",{_id:e._id})&&M.message.success("\u53d1\u5e03\u6210\u529f"),t()}))})}return J().createElement(Kt.Provider,{value:{XinFormEditorModulesMap:l,XinCoverView:nn,XinModuleView:ln,customData:i,setcustomData:r,activeInfo:s,setactiveInfo:d,core:Qt,XinCommon:a,config:{mode:"editor",deviceType:"pc",scene:"create"}}},J().createElement("div",{className:sn.editor},J().createElement("div",{className:sn.header},J().createElement("div",{className:sn.header_box},J().createElement("div",{className:sn.header_left},J().createElement(M.Space,null,J().createElement(M.Tooltip,{title:"\u8fd4\u56de"},J().createElement(M.Button,{type:"link",icon:J().createElement(H.LeftOutlined,null),onClick:e=>{var t;null===(t=fn.history)||void 0===t||t.go(-1)}})),J().createElement("span",null,null===_||void 0===_?void 0:_.name),J().createElement(M.Tag,{color:"#1677ff",bordered:!1},"\u6570\u636e\u8868"))),J().createElement("div",{className:sn.header_right},J().createElement(M.Space,null,n.checkPermission("table_script_edit")&&J().createElement(a.CodeEditorModal,{language:"json",buttonProps:{type:"default",icon:J().createElement(H.CodeOutlined,null)},modalProps:{title:"\u8868\u5355\u6e90\u4ee3\u7801",width:900},value:JSON.stringify(i,null,2),onChange:e=>{r(JSON.parse(e))}}),J().createElement(M.Tooltip,{title:"\u9884\u89c8"},J().createElement(M.Button,{type:"default",icon:J().createElement(H.EyeOutlined,null),onClick:e=>p(!0)})),J().createElement(M.Button,{type:"primary",loading:u,onClick:t=>{!async function(){if(!n.checkPermission("table_draft"))return void M.message.warning("\u65e0\u6743\u9650\u6267\u884c\u8be5\u64cd\u4f5c");if(bn("save",i))return;c(!0);const t=await fn.xrequest.post("/api/core/table/draft/add",{table_id:e._id,fields:i});c(!1),t&&M.message.success("\u4fdd\u5b58\u6210\u529f")}()}},"\u4fdd\u5b58\u8349\u7a3f"),J().createElement(M.Button,{type:"primary",onClick:e=>h()},"\u53d1\u5e03"),J().createElement(M.Tooltip,{title:"\u53d1\u5e03\u524d\u8bf7\u5148\u4fdd\u5b58\u8349\u7a3f\uff1b\u53d1\u5e03\u64cd\u4f5c\u662f\u6307\uff1a\u53d1\u5e03\u6700\u540e\u4e00\u6b21\u4fdd\u5b58\u7684\u8349\u7a3f\u3002"},J().createElement(M.Button,{type:"text",icon:J().createElement(H.QuestionCircleOutlined,null)})))))),J().createElement("div",{className:sn.main},J().createElement(a.AsideFolder,{foldable:!0,direction:"left",width:300},J().createElement(On,null)),J().createElement("div",{className:sn.body},J().createElement("div",{className:sn.content},J().createElement(xn,null))),J().createElement(a.AsideFolder,{foldable:!0,direction:"right",width:350},J().createElement(Pn,null)))),J().createElement(M.Modal,{title:"\u9884\u89c8",width:800,destroyOnClose:!0,open:m,onCancel:e=>p(!1),footer:!1},J().createElement(Tn,{_id:e._id,customData:i,scene:"create",permissions:f,footer:!1,debug:!0})))}))),gn=En,yn=ReactSortable;function hn(e,t){(0,$.useImperativeHandle)(t,(()=>({getValues:c})));const{XinFormEditorModulesMap:n,XinCoverView:o,XinTypeView:l,customData:a,setcustomData:i,core:r,addFunc:s,config:d}=(0,$.useContext)(Kt),[u]=M.Form.useForm();function c(){}return(0,$.useEffect)((()=>{let e={};a.forEach((t=>{var n,o;e[(null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fieldname)||t.moduleId]=t.data.attributes.defaultValue})),u.setFieldsValue(e)}),[a]),J().createElement(M.Alert.ErrorBoundary,null,J().createElement(M.Card,null,J().createElement(M.Form,{form:u,layout:"vertical"},J().createElement(yn.ReactSortable,{list:a,setList:e=>{i(e)},animation:150,style:{display:"flex",flexFlow:"row wrap",marginLeft:-5,marginRight:-5}},a.map(((e,t)=>{const o=n[e.moduleType];return J().createElement(o.View,{key:e.moduleId,module:e,control:o.control,config:o.config,contexts:{form:u},permissions:["show"]})}))),!a.length&&J().createElement(M.Row,null,J().createElement(M.Col,{span:24},J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u70b9\u51fb\u5de6\u4fa7\u5b57\u6bb5\u521b\u5efa\u8868\u5355"}))))))}const xn=(0,$.forwardRef)(hn);window.__app__;const wn=window.__app__,In=(e,t)=>{(0,$.useImperativeHandle)(t,(()=>({getValues:_,setValues:v,resetFields:f,getForm:b,form:a})));const n=wn.get("contexts.app"),o=wn.get("modules.formEditor.modules"),l=wn.get("modules.components.basicCommon"),[a]=M.Form.useForm(),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)(),[u,c]=(0,$.useState)(),[m,p]=(0,$.useState)(!1);(0,$.useEffect)((()=>{r(e.customData||[])}),[e.customData]),(0,$.useEffect)((()=>{d(e.initialValues)}),[e.initialValues]);const _=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise(((e,n)=>{a.validateFields(...t).then((t=>{e(t)})).catch((e=>{n(e)}))}))},v=e=>new Promise(((t,n)=>{const o=Object.assign(s||{},e||{});d(o),a.setFieldsValue(o),t(o)})),b=e=>(null===e||void 0===e||e(a),a),f=e=>{d(e),a.resetFields(e)};const E=()=>{a.resetFields(),e.onCancel&&e.onCancel()},g=()=>{_().then((async t=>{!function(t){new Promise((async(n,o)=>{p(!0);const l=await wn.xrequest.post("/api/core/table/record/add",{table_id:e._id,...t||{}});p(!1),l&&(M.message.success("\u4fdd\u5b58\u6210\u529f"),E()),n(l)}))}(t)}))};return J().createElement(Kt.Provider,{value:{XinFormEditorModulesMap:o,XinCoverView:nn,XinModuleView:ln,customData:i,setcustomData:r,activeInfo:u,setactiveInfo:c,XinCommon:l,values:s,config:{mode:"view",deviceType:n.deviceType}}},J().createElement(M.Form,{form:a,layout:"vertical",initialValues:e.initialValues,onValuesChange:(t,n)=>function(t){e.debug&&console.log(t),d({...t})}(n)},J().createElement(M.Row,{gutter:[10,0]},i.map(((t,n)=>{const l=o[t.moduleType],i=(e.permissions||{})[t.moduleId]||["readOnly"];return l&&J().createElement(l.View,{key:t.moduleId,module:t,control:l.control,contexts:{form:a,scene:e.scene,moduleValue:null===s||void 0===s?void 0:s[t.moduleId],setValues:v,record:e.record},customContexts:{},funcs:l.funcs,permissions:i})}))),!i.length&&J().createElement(M.Row,null,J().createElement(M.Col,{span:24},J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u5f53\u524d\u6570\u636e\u8868\u6ca1\u6709\u8bbe\u7f6e\u5b57\u6bb5"}))),!1!==e.footer&&J().createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},J().createElement(M.Space,null,J().createElement(M.Button,{type:"default",onClick:e=>E()},"\u53d6\u6d88"),J().createElement(M.Button,{type:"primary",loading:m,onClick:e=>g()},"\u63d0\u4ea4")))))},Tn=(0,ae.observer)((0,$.forwardRef)(In)),Cn=[{name:"\u57fa\u7840\u5b57\u6bb5",level:1},{name:"\u9ad8\u7ea7\u5b57\u6bb5",level:2},{name:"\u4e1a\u52a1\u5b57\u6bb5",tooltip:"\u975e\u57fa\u7840\u6570\u636e\u5b57\u6bb5\uff0c\u4e00\u822c\u8ddf\u4e1a\u52a1\u4f7f\u7528\u573a\u666f\u6709\u5173\uff0c\u65e0\u6cd5\u6ee1\u8db3\u6240\u6709\u9700\u6c42\uff0c\u8bf7\u614e\u91cd\u4f7f\u7528\u3002",level:3},{name:"\u5176\u5b83\u5b57\u6bb5",level:4}],Sn=window.__app__;const On=function(e){const t=Sn.get("modules.components.basicCommon"),{XinFormEditorModulesMap:n,XinCoverView:o,customData:l,setcustomData:a,activeInfo:i,setactiveInfo:r}=(0,$.useContext)(Kt),s=e=>{let{item:t}=e;return J().createElement(M.Col,{span:12},J().createElement(M.Button,{style:{textAlign:"left"},block:!0,icon:t.icon,moduletype:t.moduleType,onClick:e=>{d(t)}},t.name))},d=e=>{if("unique_id"===e.moduleType){if(bn("add",l))return}const t=e.createFunc();if(i){const e=l.map((e=>e.moduleId)).indexOf(i.moduleId);l.splice(e+1,0,t),r(t),a([...l])}else r(t),a([...l,t])};return J().createElement("div",{className:sn.buttons},J().createElement("div",{className:sn.buttons_box},Cn.map(((e,o)=>J().createElement($.Fragment,{key:o},J().createElement(t.Block,{title:e.name,tooltip:e.tooltip},J().createElement(M.Row,{style:{marginTop:20},gutter:[10,10],type:"flex",align:"top"},Object.values(n).filter((e=>e.config.button)).map(((t,n)=>"\u5176\u5b83\u5b57\u6bb5"===e.name?!Cn.map((e=>e.name)).includes(t.type)&&J().createElement(s,{key:n,item:t}):e.name===t.type&&J().createElement(s,{key:n,item:t}))))))))))};const Pn=function(e){const{XinFormEditorModulesMap:t,XinCoverView:n,customData:o,setcustomData:l,activeInfo:a,XinTabs:i,XinBlock:r,config:s}=(0,$.useContext)(Kt);return o.map(((e,n)=>{const i=t[e.moduleType];return i&&i.Setting&&a&&e.moduleId===a.moduleId&&J().createElement($.Fragment,{key:e.moduleId},J().createElement(i.Setting,{module:e,control:i.control,contexts:{intable:"table"===e.moduleType},funcs:i.funcs,onChange:e=>function(e){let{values:t,moduleId:n}=e,a=JSON.parse(JSON.stringify(o));a=a.map((e=>(e.moduleId===n&&(e.data=t),e))),l(a)}(e)}))}))},Mn=(0,$.memo)((e=>{var t,n,o,l,a,i,r;return J().createElement(M.Input,{placeholder:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.placeholder,maxLength:null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.maxLength,allowClear:!0,disabled:null===(r=e.permissions)||void 0===r?void 0:r.includes("disabled"),value:e.value,onChange:t=>{var n;const o=t.target.value;null===(n=e.onChange)||void 0===n||n.call(e,null!==o&&void 0!==o?o:null)}})})),kn=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(Mn,e))};var Dn=__webpack_require__(9702),Nn={};Nn.styleTagTransform=q(),Nn.setAttributes=U(),Nn.insert=B().bind(null,"head"),Nn.domAPI=F(),Nn.insertStyleElement=z();A()(Dn.A,Nn);const An=Dn.A&&Dn.A.locals?Dn.A.locals:void 0,Ln=window.__app__,Fn=e=>"\u7ec4\u4ef6\u4e0d\u5b58\u5728",Rn=e=>J().createElement(M.Row,{gutter:[10,10]},(e.value||[]).map(((t,n)=>J().createElement(M.Col,{span:24,key:t.value},J().createElement(M.Input,{addonBefore:"@",placeholder:"\u8bf7\u8f93\u5165",suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(n)}))),value:t.label,onChange:t=>function(t,n){var o;let l=JSON.parse(JSON.stringify(e.value||[]));l[n].label=t,null===(o=e.onChange)||void 0===o||o.call(e,l)}(t.target.value,n)})))),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{let n=[...e.value||[],e.funcs.createItemFunc()];e.onChange(n)}},"\u65b0\u589e\u4e00\u9879"))),Bn=e=>J().createElement(M.Row,{gutter:[10,10]},(e.value||[]).map(((t,n)=>J().createElement(M.Col,{span:24,key:t.value},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165",value:t.label,addonAfter:t.tooltip,onChange:t=>function(t,n){var o;let l=JSON.parse(JSON.stringify(e.value||[]));l[n].label=t,null===(o=e.onChange)||void 0===o||o.call(e,l)}(t.target.value,n)}))))),Vn=e=>J().createElement(M.Row,{gutter:[10,10]},"121"),Un=e=>{var t,n;const o=Ln.get("modules.components.basicForm"),l=Ln.get("modules.components.basicCommon"),a=(0,$.useMemo)((()=>{var t,n;return(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.attributes)||{}}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.attributes]);return J().createElement(M.Row,{gutter:[10,10]},J().createElement(l.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{var n,i,r,s,d,u,c;let{item:m,index:p,itemProps:_,handleProps:v}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},_),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u5217 ".concat(p+1),trigger:"click",content:J().createElement(M.Form,{className:An.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:m,onValuesChange:(t,n)=>function(t,n,o){var l;let a=JSON.parse(JSON.stringify(e.value||[]));a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,p)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"KEY",name:"key"},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165"}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u9009\u9879",name:"label"},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165"}))),J().createElement(M.Col,{span:null!==(n=e.module)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&null!==(r=i.attributes)&&void 0!==r&&r.itemHasValue?24:0},J().createElement(M.Form.Item,{label:"\u9009\u9879\u503c",name:"value",tooltip:"\u5982\u679c\u60f3\u652f\u6301\u7efc\u5408\u641c\u7d22\uff0c\u9009\u9879\u503c\u548c\u9009\u9879\u540d\u79f0\u8bbe\u7f6e\u4e00\u81f4\u5373\u53ef"},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165"}))),J().createElement(M.Col,{span:a.itemHasColor?24:0},J().createElement(M.Form.Item,{label:"\u989c\u8272",name:"color"},J().createElement(l.ColorPicker,{style:{width:"100%"}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u7981\u7528\u9009\u9879",name:"disabled",tooltip:"\u7981\u7528\u540e\u9009\u9879\u5c06\u4e0d\u663e\u793a"},J().createElement(o.RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}})))))},J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[5,10],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},v,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)})),J().createElement(l.ColorPicker,{placement:"left",style:{width:"100%"},disabled:m.disabled,value:m.color,onChange:t=>function(t,n){var o;let l=JSON.parse(JSON.stringify(e.value||[]));l[n].color=t,null===(o=e.onChange)||void 0===o||o.call(e,l)}(t,p)},J().createElement("div",{className:"flex-center",style:{paddingLeft:10,marginLeft:-10}},J().createElement("div",{className:Z()([An.color_dot,{[An.show]:a.itemHasColor}]),style:{background:"rgba(".concat((null===(s=m.color)||void 0===s?void 0:s.r)||230,", ").concat((null===(d=m.color)||void 0===d?void 0:d.g)||230,", ").concat((null===(u=m.color)||void 0===u?void 0:u.b)||230,", ").concat((null===(c=m.color)||void 0===c?void 0:c.a)||0,")"),opacity:m.disabled?.2:1}})))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:m.disabled?"\u6fc0\u6d3b\u9009\u9879":"\u7981\u7528\u9009\u9879"},J().createElement(M.Button,{type:"text",size:"small",icon:m.disabled?J().createElement(H.EyeOutlined,null):J().createElement(H.EyeInvisibleOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o[t].disabled=!o[t].disabled,null===(n=e.onChange)||void 0===n||n.call(e,o)}(p)})),J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(p)}))),disabled:m.disabled,value:m.label})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{const n=[...e.value,e.funcs.createItemFunc()];e.onChange(n)}},"\u65b0\u589e\u4e00\u9879")))},Yn=e=>{const t=Ln.get("modules.formEditor.modules"),n=Ln.get("modules.components.basicCommon"),o=(0,$.useMemo)((()=>Object.values(t).filter((e=>{var t;return null===(t=e.config)||void 0===t?void 0:t.intable})).map((e=>({label:e.name,key:e.moduleType,icon:J().createElement("span",{style:{width:14,display:"inline-block"}},e.icon)})))),[t]);return J().createElement(M.Row,{gutter:[10,10]},J().createElement(n.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:n=>{var o,l,a,i;let{item:r,index:s,itemProps:d,handleProps:u}=n;const c=t[null===(o=r.module)||void 0===o?void 0:o.moduleType];return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},d),J().createElement(M.Popover,{placement:"left",destroyTooltipOnHide:!0,title:"\u5217 ".concat(s+1),trigger:"click",content:J().createElement(M.Form,{className:An.form,style:{width:320},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:null===(l=r.module)||void 0===l?void 0:l.data,onValuesChange:(t,n)=>function(t,n,o){var l,a,i;let r=JSON.parse(JSON.stringify(e.value||[]));null!==(l=r[o])&&void 0!==l&&null!==(a=l.module)&&void 0!==a&&a.data&&(r[o].module.data=n),null===(i=e.onChange)||void 0===i||i.call(e,r)}(0,n,s)},J().createElement(M.Row,{gutter:10},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"ID",name:"key"},J().createElement(M.Input,{disabled:!0})))),J().createElement("div",{style:{maxHeight:730,overflow:"auto"}},J().createElement(uo,{contexts:e.contexts,module:r.module,control:null===c||void 0===c?void 0:c.control,funcs:null===c||void 0===c?void 0:c.funcs,attributeFieldName:"tableAttributes"}),J().createElement(uo,{contexts:e.contexts,module:r.module,control:null===c||void 0===c?void 0:c.control,funcs:null===c||void 0===c?void 0:c.funcs,attributeFieldName:"attributes"})))},J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},u,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(s)}))),value:(null===(a=r.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.title)||r.module.name||""})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Dropdown,{menu:{items:o,onClick:t=>{const n=[...e.value||[],e.funcs.createColumnItemFunc(t.key)];e.onChange(n)},style:{maxHeight:405,overflowY:"scroll"}},trigger:["click"],placement:"bottom"},J().createElement(M.Button,{type:"primary",block:!0},"\u65b0\u589e\u4e00\u5217"))))},zn=e=>{var t,n,o,l;const a=Ln.get("modules.components.basicWork"),[i,r]=(0,$.useState)(),s=(0,$.useMemo)((()=>(null===i||void 0===i?void 0:i.fields)||[]),[i]);(0,$.useEffect)((()=>{var t,n,o;(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.table_id)&&d()}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.table_id]);const d=async()=>{var t,n,o;const l=await Ln.xrequest.post("/api/core/table/detail",{_id:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.table_id}),a=null===l||void 0===l?void 0:l.data;r(a)};return J().createElement(a.TableFieldSelect,{options:{props:{fields:s,moduleTypes:["input","inputNumber","datePicker","email","radio","rate","select","slider","switch","url","userSelect","textarea"],...(null===(l=e.options)||void 0===l?void 0:l.props)||{}}},value:e.value,onChange:e.onChange})},jn=e=>{var t,n,o,l;const a=Ln.get("modules.components.basicWork"),[i,r]=(0,$.useState)([]);(0,$.useEffect)((()=>{var t,n,o;(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.tablename)&&s()}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.tablename]);const s=async()=>{var t,n,o,l;const a=await Ln.xrequest.post("/api/core/table/schema",{tablename:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.tablename});r((null===(l=a.data)||void 0===l?void 0:l.fields)||[])};return J().createElement(a.TableFieldSelect,{options:{props:{fields:i.map((e=>({label:"".concat(e.name,"\uff08").concat(e.fieldname,"\uff09"),value:e.fieldname}))),...(null===(l=e.options)||void 0===l?void 0:l.props)||{}}},value:e.value,onChange:e.onChange})},qn=e=>{var t,n,o;Ln.get("modules.components.basicWork");const[l,a]=(0,$.useState)(),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)([]);(0,$.useEffect)((()=>{}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.table_id]);const u=t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)};return J().createElement(J().Fragment,null,J().createElement(M.Tooltip,{title:""},J().createElement(M.Button,{type:"default",onClick:e=>{}},"\u8bf7\u9009\u62e9")),J().createElement(M.Modal,{title:"\u663e\u793a\u5b57\u6bb5",width:800,destroyOnClose:!0,onOk:onOk,onCancel:onCancel},J().createElement(M.Row,{gutter:[10,10]},J().createElement(XinCommon.Sortable,{value:s,onChange:e=>{d(e);let t=e.filter((e=>i.includes(e.value)));t=t.map((e=>e.value)),u(t)},itemKeyName:"value",itemRender:e=>{let{item:t,index:n,itemProps:o,handleProps:l}=e;return J().createElement(M.Col,Object.assign({span:4},o),J().createElement(M.Button,Object.assign({},l,{block:!0,type:i.includes(t.value)?"primary":"default",onClick:e=>{let n=i.includes(t.value)?i.filter((e=>e!==t.value)):[...i,t.value];r(n),u(n)}}),t.label||""))}}))))},Xn=e=>{var t,n,o;const l=Ln.get("modules.components.basicWork"),[a,i]=(0,$.useState)();(0,$.useEffect)((()=>{var t,n,o;(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.table_id)&&r()}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.table_id]);const r=async()=>{var t,n,o;const l=await Ln.xrequest.post("/api/core/table/detail",{_id:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.table_id}),a=null===l||void 0===l?void 0:l.data;i(a)};return J().createElement(M.Row,{gutter:[10,10],className:An.table_filter},(e.value||[]).map(((e,t)=>J().createElement(M.Col,{span:24,key:t},J().createElement("div",{className:An.table_area},e.map(((e,t)=>{var n,o,l;return J().createElement("div",{className:An.table_line,key:t},J().createElement("div",{style:{flex:5,textAlign:"left"}},null===(n=e.field)||void 0===n?void 0:n.label),J().createElement("div",{style:{flex:4,textAlign:"center"}},null===(o=e.symbol)||void 0===o?void 0:o.label),J().createElement("div",{style:{flex:4,textAlign:"right"}},null===(l=e.value)||void 0===l?void 0:l.label))})))))),J().createElement(M.Col,{span:24},J().createElement(l.ConditionEditorModal,{buttonProps:{disabled:!a},modalProps:{},fields:(null===a||void 0===a?void 0:a.fields)||[],defaultModuleIds:["create_time"],value:e.value,onChange:e.onChange})))},Wn=e=>{const[t,n]=(0,$.useState)(!1),[o,l]=(0,$.useState)(!1),[a,i]=(0,$.useState)([]),[r,s]=(0,$.useState)([]),[d,u]=(0,$.useState)("create"),[c]=M.Form.useForm(),m=(0,$.useMemo)((()=>{const e=JSON.parse(JSON.stringify(r)),t=Ln.listToTree(e,void 0,{parent_field:"parent_id",unique_field:"value"}),n=[t];let o=t;return a.forEach((e=>{const[t]=o.filter((t=>t.value===e));o=(null===t||void 0===t?void 0:t.children)||[],n.push((null===t||void 0===t?void 0:t.children)||[])})),n}),[r,a]);function p(){n(!1)}function _(){l(!1),c.resetFields()}return(0,$.useEffect)((()=>{s(e.value||[])}),[e.value]),J().createElement(J().Fragment,null,J().createElement(M.Button,{type:"primary",block:!0,onClick:e=>{n(!0)}},"\u70b9\u51fb\u8bbe\u7f6e\u9009\u9879"),J().createElement(M.Modal,{title:"create"===d?"\u65b0\u589e\u9009\u9879":"\u7f16\u8f91\u9009\u9879",width:300,open:o,onOk:function(){c.validateFields().then((e=>{if(console.log(e),"create"===d)s(r.concat([e]));else{const t=r.map((e=>e.value)).indexOf(e.value);r.splice(t,1,e),s(r.concat([]))}_()}))},onCancel:_},J().createElement(M.Form,{form:c,layout:"horizontal",labelCol:{span:5}},J().createElement(M.Form.Item,{label:"\u7236\u8282\u70b9",name:"parent_id",hidden:!0},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165",readOnly:!0})),J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"label",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165"}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u503c",name:"value",tooltip:"\u503c\u987b\u552f\u4e00\u3002\u5982\u679c\u60f3\u652f\u6301\u7efc\u5408\u641c\u7d22\uff0c\u9009\u9879\u503c\u548c\u9009\u9879\u540d\u79f0\u8bbe\u7f6e\u4e00\u81f4\u5373\u53ef",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165"})))))),J().createElement(M.Modal,{title:"\u8bbe\u7f6e\u9009\u9879",width:900,destroyOnClose:!0,open:t,onOk:function(){!function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(r.map((e=>({label:e.label,value:e.value,parent_id:e.parent_id})))),p()},onCancel:p},J().createElement("div",{className:An.cascader_box},J().createElement("div",{className:An.items_box,style:{width:230*m.length+"px"}},m.map(((e,t)=>J().createElement("div",{className:An.columns,key:t},J().createElement(M.Row,{gutter:[10,5]},J().createElement(M.Col,{span:24},J().createElement("div",{className:An.level},"\u5c42\u7ea7",t+1)),e.map(((e,n)=>J().createElement(M.Col,{span:24,key:n},J().createElement("div",{className:Z()([An.item,a[t]===e.value&&An.active]),onClick:n=>{const o=[].concat(a).slice(0,t+1);o[t]=e.value,i(o)}},J().createElement("div",{className:An.prefix,onClick:e=>{e.stopPropagation()}},J().createElement(H.MenuOutlined,null)),J().createElement("div",{className:Z()([An.text,"ellipsis"])},e.label),J().createElement("div",{className:An.suffix,onClick:e=>{e.stopPropagation()}},J().createElement(M.Space,{size:[0,0],style:{margin:"0 -5px"}},J().createElement(M.Tooltip,{title:"\u7f16\u8f91"},J().createElement(M.Button,{type:"text",size:"small",icon:J().createElement(H.EditOutlined,null),onClick:t=>{u("edit"),l(!0),c.setFieldsValue(e)}})),J().createElement(M.Popconfirm,{key:"delete",title:"\u5220\u9664\u786e\u8ba4",description:"\u60a8\u786e\u8ba4\u5220\u9664\u5f53\u524d\u6240\u9009\u7684\u6570\u636e\uff1f",onConfirm:async t=>{const n=r.filter((t=>t.value!==e.value));s(n)},placement:"topRight",overlayInnerStyle:{width:270},onCancel:e=>{},okText:"\u5220\u9664",okButtonProps:{danger:!0},cancelText:"\u53d6\u6d88"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null)})))))))),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"default",style:{marginTop:0},block:!0,onClick:e=>{u("create"),l(!0),c.setFieldsValue({value:Ln.uuid("uid_"),parent_id:a[t-1]})}},"\u65b0\u589e\u4e00\u9879"))))))))))},Kn=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").multipleSelect)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},$n=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").select)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},Jn=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").datePicker)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},Hn=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").input)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},Gn=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").textarea)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},Qn=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").inputNumber)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},Zn=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").cascader)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},eo=e=>{const t=Ln.get("modules.components.basicCommon");return J().createElement(t.RichEditorModal,Object.assign({},e,{buttonStyle:{width:"100%"}}))},to=e=>{var t,n;return J().createElement(M.Radio.Group,{style:{width:"100%",display:"inline-flex"},buttonStyle:"solid",value:e.value,onChange:t=>{var n;const o=t.target.value;null===(n=e.onChange)||void 0===n||n.call(e,o)}},null===(t=e.options.props)||void 0===t||null===(n=t.options)||void 0===n?void 0:n.map(((e,t)=>J().createElement(M.Radio.Button,{style:{padding:0,textAlign:"center",flex:1},key:t,value:e.value},e.label))))},no=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").userSelect)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},oo=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").userChoose)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},lo=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").organizationSelect)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},ao=e=>{var t;const n=(null===(t=Ln.get("modules.formEditor.modules").json)||void 0===t?void 0:t.Component)||Fn;return J().createElement(n,e)},io=window.__app__,ro=e=>React.createElement(M.Form.Item,{label:e.label,tooltip:e.tooltip,name:e.name,noStyle:e.noStyle,hidden:e.hidden,required:e.required},e.children),so=window.__app__;const uo=function(e){const t=so.get("modules.components.basicCommon"),n=(0,$.useMemo)((()=>{let t=e.attributeFieldName||"attributes";return e.control&&e.control[t]}),[e.control]);return null===n||void 0===n?void 0:n.map(((n,o)=>J().createElement($.Fragment,{key:o},J().createElement(t.Block,{title:n.title,tooltip:n.tooltip,border:!0},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=io.get("modules.components.basicForm"),o=io.get("modules.components.basicWork");return React.createElement(M.Row,{gutter:[10,10]},t.map(((t,l)=>{var a;const r="function"===typeof t?t(e):t;let s=r.component;if("string"===typeof r.component){const e=r.component;s=i[e]||o[e]||n[e]}return s?React.createElement(M.Col,{key:l,span:24,style:{display:r.hidden&&r.hidden(e)&&"none"}},React.createElement(ro,(null===r||void 0===r?void 0:r.formItemProps)||{},React.createElement(s,Object.assign({},e,{options:r})))):React.createElement("div",{key:l,style:{color:"red",fontSize:12}},"\u914d\u7f6e\u9879\u3010",null===(a=r.formItemProps)||void 0===a?void 0:a.label,": ",r.component,"\u3011\u7f3a\u5931\u6216\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458")})))}(e,n.children)))))};const co=function(e){const[t]=M.Form.useForm();return(0,$.useEffect)((()=>{t.setFieldsValue(e.module.data)}),[e.module.data]),J().createElement(M.Form,{className:An.form,form:t,labelCol:{span:8},wrapperCol:{span:16},layout:"horizontal",labelAlign:"left",colon:!1,initialValues:e.module.data,onValuesChange:(t,n)=>function(t,n){var o,l;null===(o=e.onChange)||void 0===o||o.call(e,{values:n,moduleId:null===(l=e.module)||void 0===l?void 0:l.moduleId})}(0,n)},J().createElement("div",{style:{padding:"20px 10px",height:"100%",overflow:"auto"}},J().createElement(uo,Object.assign({},e,{onChange:void 0}))))},mo=window.__app__,po={TYPE:"\u57fa\u7840\u5b57\u6bb5",MODULE_TYPE:"input",NAME:"\u5355\u884c\u6587\u5b57",ICON:J().createElement(H.FontColorsOutlined,null)},_o={attributes:{fieldname:void 0,trim:!1,unique:!1,title:po.NAME,tooltip:void 0,placeholder:"\u8bf7\u8f93\u5165",defaultValue:void 0,maxLength:void 0,required:!1,requiredText:"\u8bf7\u8f93\u5165",span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:["show"]}},vo={valueType:"string",mongoFieldType:"String",attributes:[dn({moduleType:po.MODULE_TYPE,children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u4e0d\u5141\u8bb8\u91cd\u590d",name:["attributes","unique"],tooltip:"\u5f00\u542f\u540e\uff0c\u5f53\u524d\u6570\u636e\u8868\u5185\u8be5\u5b57\u6bb5\u503c\u552f\u4e00\uff0c\u91cd\u590d\u503c\u65e0\u6cd5\u63d0\u4ea4"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u53bb\u9664\u7a7a\u683c",name:["attributes","trim"],tooltip:"\u53bb\u9664\u5b57\u7b26\u4e32\u524d\u540e\u7684\u7a7a\u683c\uff0c\u540c String.trim() \u65b9\u6cd5."},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]}),un({moduleType:po.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"InputDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}},{component:"BasicInputNumber",formItemProps:{label:"\u8f93\u5165\u957f\u5ea6",name:["attributes","maxLength"]},props:{min:0,step:1}}]},_n({moduleType:po.MODULE_TYPE}),mn({moduleType:po.MODULE_TYPE})],tableAttributes:[cn({moduleType:po.MODULE_TYPE})]};const bo={type:po.TYPE,moduleType:po.MODULE_TYPE,name:po.NAME,icon:po.ICON,data:_o,control:vo,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"value",symbols:["$eq","$ne","$includes","$notincludes","$in","$nin"]},View:kn,Setting:co,Component:Mn,funcs:{},createFunc:function(){const e=mo.uuid(po.MODULE_TYPE+"_"),t={type:po.TYPE,moduleType:po.MODULE_TYPE,moduleId:e,name:po.NAME,data:_o};return JSON.parse(JSON.stringify(t))}},fo=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s,d,u;return J().createElement(M.Input.TextArea,{placeholder:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.placeholder,rows:(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.rows)||4,maxLength:null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.maxLength,allowClear:!0,disabled:null===(u=e.permissions)||void 0===u?void 0:u.includes("disabled"),value:e.value,onChange:t=>{var n;const o=t.target.value;null===(n=e.onChange)||void 0===n||n.call(e,null!==o&&void 0!==o?o:null)}})})),Eo=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(fo,e))},go=(0,$.memo)(Eo),yo=window.__app__,ho={TYPE:"\u57fa\u7840\u5b57\u6bb5",MODULE_TYPE:"textarea",NAME:"\u591a\u884c\u6587\u672c",ICON:J().createElement(H.AlignLeftOutlined,null)},xo={attributes:{fieldname:void 0,unique:!1,title:ho.NAME,tooltip:void 0,placeholder:"\u8bf7\u9009\u62e9",defaultValue:void 0,maxLength:void 0,rows:4,required:!1,requiredText:"\u8bf7\u8f93\u5165",span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},wo={valueType:"string",mongoFieldType:"String",attributes:[dn({moduleType:ho.MODULE_TYPE,children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u4e0d\u5141\u8bb8\u91cd\u590d",name:["attributes","unique"],tooltip:"\u5f00\u542f\u540e\uff0c\u5f53\u524d\u6570\u636e\u8868\u5185\u8be5\u5b57\u6bb5\u503c\u552f\u4e00\uff0c\u91cd\u590d\u503c\u65e0\u6cd5\u63d0\u4ea4"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]}),un({moduleType:ho.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"TextareaDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}},{component:"BasicInputNumber",formItemProps:{label:"\u8f93\u5165\u957f\u5ea6",name:["attributes","maxLength"]},props:{min:0,step:1}},{component:"BasicInputNumber",formItemProps:{label:"\u6700\u5927\u884c\u6570",name:["attributes","rows"]},props:{min:0,step:1}}]},_n({moduleType:ho.MODULE_TYPE}),mn({moduleType:ho.MODULE_TYPE})],tableAttributes:[cn({moduleType:ho.MODULE_TYPE})]};const Io={type:ho.TYPE,moduleType:ho.MODULE_TYPE,name:ho.NAME,icon:ho.ICON,data:xo,control:wo,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"value",symbols:["$eq","$ne","$includes","$notincludes"]},View:go,Setting:co,Component:fo,funcs:{formatTableFunc:function(e,t,n,o){let{moduleinfo:l}=t;return"list"===n?o:e?J().createElement("div",{style:{whiteSpace:"pre-wrap"}},e):"-"}},createFunc:function(){const e=yo.uuid(ho.MODULE_TYPE+"_"),t={type:ho.TYPE,moduleType:ho.MODULE_TYPE,moduleId:e,name:ho.NAME,data:xo};return JSON.parse(JSON.stringify(t))}},To=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b;return J().createElement(M.InputNumber,{style:{width:"100%"},placeholder:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.placeholder,min:null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.min,max:null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.max,step:null===(u=e.module)||void 0===u||null===(c=u.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.step,suffix:null===(p=e.module)||void 0===p||null===(_=p.data)||void 0===_||null===(v=_.attributes)||void 0===v?void 0:v.unit,disabled:null===(b=e.permissions)||void 0===b?void 0:b.includes("disabled"),value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)}})})),Co=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(To,e))},So=(0,$.memo)(Co),Oo=window.__app__;function Po(e){const t=Oo.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-number"})}const Mo={TYPE:"\u57fa\u7840\u5b57\u6bb5",MODULE_TYPE:"inputNumber",NAME:"\u6570\u5b57\u8f93\u5165",ICON:J().createElement(Po,null)},ko={attributes:{fieldname:void 0,unique:!1,title:Mo.NAME,tooltip:void 0,placeholder:"\u8bf7\u8f93\u5165",unit:void 0,defaultValue:void 0,required:!1,requiredText:"\u8bf7\u8f93\u5165",span:24,width:150,min:void 0,max:void 0,step:1,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:["show"]}},Do={valueType:"number",mongoFieldType:"Number",attributes:[dn({moduleType:Mo.MODULE_TYPE,children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u4e0d\u5141\u8bb8\u91cd\u590d",name:["attributes","unique"],tooltip:"\u5f00\u542f\u540e\uff0c\u5f53\u524d\u6570\u636e\u8868\u5185\u8be5\u5b57\u6bb5\u503c\u552f\u4e00\uff0c\u91cd\u590d\u503c\u65e0\u6cd5\u63d0\u4ea4"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]}),un({moduleType:Mo.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"InputNumberDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}},{component:"BasicInputNumber",formItemProps:{label:"\u6700\u5c0f\u503c",name:["attributes","min"]}},{component:"BasicInputNumber",formItemProps:{label:"\u6700\u5927\u503c",name:["attributes","max"]}},{component:"BasicInputNumber",formItemProps:{label:"\u6b65\u957f\u503c",name:["attributes","step"]}},{component:"BasicInput",formItemProps:{label:"\u5355\u4f4d",name:["attributes","unit"]},props:{placeholder:"\u4f8b\u5982\uff1a\u5143"}}]},_n({moduleType:Mo.MODULE_TYPE}),mn({moduleType:Mo.MODULE_TYPE})],tableAttributes:[cn({moduleType:Mo.MODULE_TYPE})]};const No={type:Mo.TYPE,moduleType:Mo.MODULE_TYPE,name:Mo.NAME,icon:Mo.ICON,data:ko,control:Do,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"",symbols:["$eq","$ne","$gt","$gte","$lt","$lte"]},View:So,Setting:co,Component:To,funcs:{},createFunc:function(){const e=Oo.uuid(Mo.MODULE_TYPE+"_"),t={type:Mo.TYPE,moduleType:Mo.MODULE_TYPE,moduleId:e,name:Mo.NAME,data:ko};return JSON.parse(JSON.stringify(t))}},Ao=(0,$.memo)((e=>{var t;return J().createElement(M.Switch,{disabled:null===(t=e.permissions)||void 0===t?void 0:t.includes("disabled"),checked:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)}})})),Lo=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(Ao,e))},Fo=(0,$.memo)(Lo),Ro=window.__app__;function Bo(e){const t=Ro.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-switch"})}const Vo={TYPE:"\u57fa\u7840\u5b57\u6bb5",MODULE_TYPE:"switch",NAME:"\u5f00\u5173",ICON:J().createElement(Bo,null)},Uo={attributes:{fieldname:void 0,title:Vo.NAME,tooltip:void 0,defaultValue:!1,required:!1,requiredText:"\u8bf7\u9009\u62e9",items:[{label:"\u5f00",value:!0,tooltip:"\u6253\u5f00\u72b6\u6001"},{label:"\u5173",value:!1,tooltip:"\u5173\u95ed\u72b6\u6001"}],span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:["show"]}},Yo={valueType:"boolean",mongoFieldType:"Boolean",attributes:[dn({moduleType:Vo.MODULE_TYPE,children:[]}),un({moduleType:Vo.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"SwitchItems",formItemProps:{label:"\u663e\u793a\u6587\u5b57",tooltip:"\u5728\u8be6\u60c5\u3001\u5217\u8868\u4e2d\u663e\u793a\u7684\u6587\u5b57",name:["attributes","items"]}},{component:"SwitchDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]},props:{options:[{label:"\u5f00",value:!0},{label:"\u5173",value:!1}]}}]},_n({moduleType:Vo.MODULE_TYPE}),mn({moduleType:Vo.MODULE_TYPE})],tableAttributes:[cn({moduleType:Vo.MODULE_TYPE})]};const zo={type:Vo.TYPE,moduleType:Vo.MODULE_TYPE,name:Vo.NAME,icon:Vo.ICON,data:Uo,control:Yo,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"",symbols:["$eq","$ne"]},View:Fo,Setting:co,Component:Ao,funcs:{formatTableFunc:function(e,t){var n,o,l,a,i,r,s,d;let{moduleinfo:u}=t;const c=null===(n=u.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(l=o.items)||void 0===l||null===(a=l[0])||void 0===a?void 0:a.label,m=null===(i=u.data)||void 0===i||null===(r=i.attributes)||void 0===r||null===(s=r.items)||void 0===s||null===(d=s[1])||void 0===d?void 0:d.label;return e?J().createElement(M.Badge,{status:"success",text:c}):J().createElement(M.Badge,{status:"error",text:m})},formatTextFunc:function(e,t){var n,o,l,a,i,r,s,d;let{moduleinfo:u}=t;const c=null===(n=u.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(l=o.items)||void 0===l||null===(a=l[0])||void 0===a?void 0:a.label,m=null===(i=u.data)||void 0===i||null===(r=i.attributes)||void 0===r||null===(s=r.items)||void 0===s||null===(d=s[1])||void 0===d?void 0:d.label;return e?c:m}},createFunc:function(){const e=Ro.uuid(Vo.MODULE_TYPE+"_"),t={type:Vo.TYPE,moduleType:Vo.MODULE_TYPE,moduleId:e,name:Vo.NAME,data:Uo};return JSON.parse(JSON.stringify(t))}},jo=window.__app__,qo=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s;return J().createElement("div",{className:Z()([tn.checkbox_color_btn,{[tn.show]:e.itemHasColor}]),style:{background:e.itemHasColor&&"rgba(".concat((null===(t=e.color)||void 0===t?void 0:t.r)||230,", ").concat((null===(n=e.color)||void 0===n?void 0:n.g)||230,", ").concat((null===(o=e.color)||void 0===o?void 0:o.b)||230,", ").concat((null===(l=e.color)||void 0===l?void 0:l.a)||.2,")"),color:e.itemHasColor&&((null===(a=e.color)||void 0===a?void 0:a.a)>.5?"#ffffff":"rgba(".concat((null===(i=e.color)||void 0===i?void 0:i.r)||230,", ").concat((null===(r=e.color)||void 0===r?void 0:r.g)||230,", ").concat((null===(s=e.color)||void 0===s?void 0:s.b)||230,", 1)"))}},e.label)||"-"})),Xo=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s;const{defaultUserAvatar:d,defaultUserCardBg:u}=jo.get("datas.configs.project"),[c,m]=(0,$.useState)(),[p,_]=(0,$.useState)(!1);return(0,$.useEffect)((()=>{!async function(){_(!0);const t=await jo.xrequest.post("/api/core/user/detail",{_id:e._id});_(!1),m(null===t||void 0===t?void 0:t.data)}()}),[]),J().createElement(M.Spin,{spinning:p},J().createElement("div",{className:tn.userSelect_user_card},J().createElement("div",{className:tn.card_bg,style:{backgroundImage:"url(".concat(null===(t=(n=jo.handles).resourceUrl)||void 0===t?void 0:t.call(n,u),")")}}),J().createElement("div",{className:tn.card_body},J().createElement(M.Avatar,{className:tn.user_avatar,size:80,draggable:!1,src:null===(o=(l=jo.handles).resourceUrl)||void 0===o?void 0:o.call(l,(null===c||void 0===c||null===(a=c.avatar)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.url)||d)}),J().createElement("div",{className:tn.user_title},null===c||void 0===c?void 0:c.name),J().createElement("div",{className:tn.user_content},J().createElement("div",{className:tn.user_line},J().createElement("div",{className:tn.line_label},J().createElement(M.Space,{size:5},J().createElement(H.BankOutlined,null),J().createElement("span",null,"\u90e8\u95e8"))),J().createElement("div",{className:tn.line_value},Array.isArray(null===c||void 0===c?void 0:c.organizationInfos)&&null!==c&&void 0!==c&&c.organizationInfos.length?J().createElement(M.Space,{size:[0,5],wrap:!0},null===c||void 0===c||null===(r=c.organizationInfos)||void 0===r?void 0:r.map(((e,t)=>J().createElement(M.Tag,{key:t,bordered:!1,color:"#13abff"},e.name)))):"-")),J().createElement("div",{className:tn.user_line},J().createElement("div",{className:tn.line_label},J().createElement(M.Space,{size:5},J().createElement(H.SafetyCertificateOutlined,null),J().createElement("span",null,"\u804c\u52a1"))),J().createElement("div",{className:tn.line_value},(null===c||void 0===c?void 0:c.position)||"-")),J().createElement("div",{className:tn.user_line},J().createElement("div",{className:tn.line_label},J().createElement(M.Space,{size:5},J().createElement(H.MobileOutlined,null),J().createElement("span",null,"\u624b\u673a\u53f7"))),J().createElement("div",{className:tn.line_value},(null===c||void 0===c?void 0:c.mobile)||"-")),J().createElement("div",{className:tn.user_line},J().createElement("div",{className:tn.line_label},J().createElement(M.Space,{size:5},J().createElement(H.TagOutlined,null),J().createElement("span",null,"\u89d2\u8272"))),J().createElement("div",{className:tn.line_value},Array.isArray(null===c||void 0===c?void 0:c.roleInfos)&&null!==c&&void 0!==c&&c.roleInfos.length?J().createElement(M.Space,{size:[0,5],wrap:!0},null===c||void 0===c||null===(s=c.roleInfos)||void 0===s?void 0:s.map(((e,t)=>J().createElement(M.Tag,{key:t,bordered:!1,color:"#52c41a"},e.name)))):"-"))))))})),Wo=(0,ae.observer)((e=>{var t,n,o,l;const a=jo.get("contexts.app"),{defaultUserAvatar:i}=jo.get("datas.configs.project"),[r,s]=(0,$.useState)(!1),d=J().createElement(M.Space,{size:5,className:Z()([tn.userSelect_btn]),onClick:e=>{"mobile"===a.deviceType&&s(!0)}},J().createElement(M.Avatar,{style:{verticalAlign:"middle"},size:20,src:null===(t=(n=jo.handles).resourceUrl)||void 0===t?void 0:t.call(n,(null===e||void 0===e||null===(o=e.avatar)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.url)||i)}),J().createElement("span",{style:{verticalAlign:"middle"}},e.name));return e._id?J().createElement(J().Fragment,null,"pc"===a.deviceType?J().createElement(M.Popover,{placement:"right",title:"",content:J().createElement(Xo,e),trigger:"click",destroyTooltipOnHide:!0,overlayInnerStyle:{padding:0},arrow:!1},d):J().createElement(J().Fragment,null,d,J().createElement(M.Modal,{width:300,size:"small",styles:{content:{padding:0}},destroyOnClose:!0,open:r,footer:null,onCancel:e=>s(!1)},J().createElement(Xo,e)))):"-"})),Ko=window.__app__,$o=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b;const[f,E]=(0,$.useState)(!1),[g,y]=(0,$.useState)([]),h=(0,$.useMemo)((()=>{var t,n,o,l,a,i,r,s,d;return["item",void 0].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)?(null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.items)||[]:"dictionary"===(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.fromType)&&g||[]}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType,g]);(0,$.useEffect)((()=>{var t,n,o;(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dictionary_id)&&x()}),[null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.dictionary_id]);const x=async()=>{var t,n,o,l;E(!0);const a=await Ko.xrequest.post("/api/core/business/dictionary/list",{filter:{dictionary_id:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dictionary_id,status:!0,state:0},current:1,pageSize:200,sort:{sort:1,create_time:1}});E(!1);const i=((null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.data)||[]).map((e=>({key:e._id,label:e.name,value:e._id,color:e.color,disabled:!1})));y(i)};return J().createElement(M.Spin,{spinning:f},J().createElement(M.Radio.Group,{optionType:null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.optionType,buttonStyle:null===(u=e.module)||void 0===u||null===(c=u.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.buttonStyle,disabled:null===(p=e.permissions)||void 0===p?void 0:p.includes("disabled"),value:e.value,onChange:t=>{var n;const o=t.target.value;null===(n=e.onChange)||void 0===n||n.call(e,null!==o&&void 0!==o?o:null)}},J().createElement(M.Space,{direction:null===(_=e.module)||void 0===_||null===(v=_.data)||void 0===v||null===(b=v.attributes)||void 0===b?void 0:b.direction,wrap:!0},null===h||void 0===h?void 0:h.map(((t,n)=>{var o,l,a;return J().createElement(M.Radio,{value:t.value,key:n},J().createElement(qo,{color:t.color,label:t.label,itemHasColor:null===(o=e.module)||void 0===o||null===(l=o.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.itemHasColor}))})))))})),Jo=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement($o,e))},Ho=(0,$.memo)(Jo),Go=window.__app__,Qo={TYPE:"\u57fa\u7840\u5b57\u6bb5",MODULE_TYPE:"radio",NAME:"\u5355\u9009",ICON:J().createElement(H.CheckCircleOutlined,null)};const Zo={attributes:{fieldname:void 0,title:Qo.NAME,tooltip:void 0,defaultValue:void 0,fromType:"dictionary",itemHasColor:!1,optionType:"default",buttonStyle:"outline",required:!1,requiredText:"\u8bf7\u9009\u62e9",span:24,width:150,direction:"horizontal",dictionary_id:void 0,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:["show"]}},el={valueType:"string",mongoFieldType:"ObjectId",attributes:[dn({moduleType:Qo.MODULE_TYPE,children:[]}),un({moduleType:Qo.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u9009\u9879\u7c7b\u578b",name:["attributes","optionType"]},props:{options:[{label:"\u9ed8\u8ba4",value:"default"},{label:"\u6309\u94ae",value:"button"}]}},{hidden:e=>{var t,n,o;return"default"===(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.optionType)},component:"RadioButtonGroupInLine",formItemProps:{label:"\u9009\u9879\u6837\u5f0f",name:["attributes","buttonStyle"]},props:{options:[{label:"\u9ed8\u8ba4",value:"outline"},{label:"\u586b\u5145",value:"solid"}]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u5e03\u5c40\u65b9\u5f0f",name:["attributes","direction"]},props:{options:[{label:"\u6c34\u5e73\u5e03\u5c40",value:"horizontal"},{label:"\u5782\u76f4\u5e03\u5c40",value:"vertical"}]}},{component:"BasicSelect",formItemProps:{label:"\u6570\u636e\u6765\u6e90",name:["attributes","fromType"]},props:{options:[{label:"\u6570\u636e\u5b57\u5178",value:"dictionary"}]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u591a\u5f69\u9009\u9879",name:["attributes","itemHasColor"],tooltip:"\u5728\u5217\u8868\u3001\u8be6\u60c5\u4e2d\u6309\u6570\u636e\u5b57\u5178\u914d\u7f6e\u7684\u989c\u8272\u663e\u793a"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o;return"dictionary"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)},component:"DictionarySelect",formItemProps:{label:"\u9009\u9879 (\u5b57\u5178)",name:["attributes","dictionary_id"]}},{component:"SelectDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}}]},_n({moduleType:Qo.MODULE_TYPE}),mn({moduleType:Qo.MODULE_TYPE})],tableAttributes:[cn({moduleType:Qo.MODULE_TYPE})]};const tl={type:Qo.TYPE,moduleType:Qo.MODULE_TYPE,name:Qo.NAME,icon:Qo.ICON,data:Zo,control:el,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"value",symbols:["$eq","$ne","$in","$nin"]},View:Ho,Setting:co,Component:$o,funcs:{formatTableFunc:function(e,t){var n,o;let{moduleinfo:l,fieldname:a,recordInfo:i}=t;const r=null===i||void 0===i?void 0:i[a+"Info"];return r?J().createElement(qo,{label:null===r||void 0===r?void 0:r.name,itemHasColor:null===(n=l.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.itemHasColor,color:null===r||void 0===r?void 0:r.color}):"-"},formatTextFunc:function(e,t){var n,o;let{moduleinfo:l}=t;if(["dictionary","code"].includes(null===l||void 0===l||null===(n=l.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType))return e;{var a,i,r;const[t]=null===l||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i||null===(r=i.items)||void 0===r?void 0:r.filter((t=>{var n,o,a,i;const r=null!==l&&void 0!==l&&null!==(n=l.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.itemHasValue&&["item",void 0].includes(null===l||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.fromType)?t.value:t.label;return e===r}));return(null===t||void 0===t?void 0:t.label)||e}}},createFunc:function(){const e=Go.uuid(Qo.MODULE_TYPE+"_"),t={type:Qo.TYPE,moduleType:Qo.MODULE_TYPE,moduleId:e,name:Qo.NAME,data:Zo};return JSON.parse(JSON.stringify(t))}},nl=window.__app__,ol=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s,d,u;const{createScriptContexts:c}=nl.get("handles"),[m,p]=(0,$.useState)(!1),[_,v]=(0,$.useState)([]),b=(0,$.useMemo)((()=>{var t,n,o,l,a,i,r,s,d;return["item",void 0].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)?(null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.items)||[]:"dictionary"===(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.fromType)&&_||[]}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType,_]);(0,$.useEffect)((()=>{var t,n,o;(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dictionary_id)&&f()}),[null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.dictionary_id]);const f=async()=>{var t,n,o,l;p(!0);const a=await nl.xrequest.post("/api/core/business/dictionary/list",{filter:{dictionary_id:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dictionary_id,status:!0,state:0},current:1,pageSize:200,sort:{sort:1,create_time:1}});p(!1);const i=((null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.data)||[]).map((e=>({key:e._id,label:e.name,value:e._id,color:e.color,disabled:!1})));v(i)};return J().createElement(M.Spin,{spinning:m},J().createElement(M.Checkbox.Group,{disabled:null===(r=e.permissions)||void 0===r?void 0:r.includes("disabled"),value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t&&t.length?t:null)}},J().createElement(M.Space,{direction:null===(s=e.module)||void 0===s||null===(d=s.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.direction,wrap:!0},null===b||void 0===b?void 0:b.filter((e=>!e.disabled)).map(((t,n)=>{var o,l,a;return J().createElement(M.Checkbox,{value:t.value,key:n},J().createElement(qo,{color:t.color,label:t.label,itemHasColor:null===(o=e.module)||void 0===o||null===(l=o.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.itemHasColor}))})))))})),ll=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(ol,e))},al=(0,$.memo)(ll),il=window.__app__,rl={TYPE:"\u57fa\u7840\u5b57\u6bb5",MODULE_TYPE:"checkbox",NAME:"\u591a\u9009",ICON:J().createElement(H.CheckSquareOutlined,null)},sl={attributes:{fieldname:void 0,fieldtype:"objectId",title:rl.NAME,tooltip:void 0,defaultValue:void 0,required:!1,fromType:"dictionary",itemHasColor:!1,requiredText:"\u8bf7\u9009\u62e9",span:24,width:150,direction:"horizontal",dictionary_id:void 0,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},dl={valueType:"array",mongoFieldType:"Array[ObjectId]",attributes:[dn({moduleType:rl.MODULE_TYPE,children:[]}),un({moduleType:rl.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u5e03\u5c40\u65b9\u5f0f",name:["attributes","direction"]},props:{options:[{label:"\u6c34\u5e73\u5e03\u5c40",value:"horizontal"},{label:"\u5782\u76f4\u5e03\u5c40",value:"vertical"}]}},{component:"BasicSelect",formItemProps:{label:"\u6570\u636e\u6765\u6e90",name:["attributes","fromType"]},props:{options:[{label:"\u6570\u636e\u5b57\u5178",value:"dictionary"}]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u591a\u5f69\u9009\u9879",name:["attributes","itemHasColor"],tooltip:"\u5728\u5217\u8868\u3001\u8be6\u60c5\u4e2d\u6309\u6570\u636e\u5b57\u5178\u914d\u7f6e\u7684\u989c\u8272\u663e\u793a"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o;return"dictionary"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)},component:"DictionarySelect",formItemProps:{label:"\u9009\u9879 (\u5b57\u5178)",name:["attributes","dictionary_id"]}},{component:"MultipleSelectValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}}]},_n({moduleType:rl.MODULE_TYPE}),mn({moduleType:rl.MODULE_TYPE})],tableAttributes:[cn({moduleType:rl.MODULE_TYPE})]};const ul={type:rl.TYPE,moduleType:rl.MODULE_TYPE,name:rl.NAME,icon:rl.ICON,data:sl,control:dl,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"value",symbols:["$eq","$ne","$in","$nin","$includes","$notincludes"]},View:al,Setting:co,Component:ol,funcs:{formatTableFunc:function(e,t){let{moduleinfo:n,fieldname:o,recordInfo:l}=t;const a=null===l||void 0===l?void 0:l[o+"Infos"];return null!==a&&void 0!==a&&a.length?a.map(((e,t)=>{var o,l;return e?J().createElement(qo,{key:t,label:null===e||void 0===e?void 0:e.name,itemHasColor:null===(o=n.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.itemHasColor,color:null===e||void 0===e?void 0:e.color}):"-"})):"-"},formatTextFunc:function(e,t){var n,o;let{moduleinfo:l}=t;return["dictionary","code"].includes(null===l||void 0===l||null===(n=l.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)?(e||[]).join("\uff0c"):(e||[]).map(((e,t)=>{var n,o,a;const[i]=null===l||void 0===l||null===(n=l.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(a=o.items)||void 0===a?void 0:a.filter((t=>{var n,o;const a=null!==l&&void 0!==l&&null!==(n=l.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.itemHasValue?t.value:t.label;return e===a}));return i})).filter(Boolean).map((e=>e.label)).join("\uff0c")}},createFunc:function(){const e=il.uuid(rl.MODULE_TYPE+"_"),t={type:rl.TYPE,moduleType:rl.MODULE_TYPE,moduleId:e,name:rl.NAME,data:sl};return JSON.parse(JSON.stringify(t))}},cl=window.__app__,ml=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p;const[_,v]=(0,$.useState)(!1),[b,f]=(0,$.useState)([]),E=(0,$.useMemo)((()=>{var t,n,o,l,a,i,r,s,d;return["item",void 0].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)?(null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.items)||[]:"dictionary"===(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.fromType)&&b||[]}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType,b]);(0,$.useEffect)((()=>{var t,n,o;(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dictionary_id)&&g()}),[null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.dictionary_id]);const g=async()=>{var t,n,o,l;v(!0);const a=await cl.xrequest.post("/api/core/business/dictionary/list",{filter:{dictionary_id:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dictionary_id,status:!0,state:0},current:1,pageSize:200,sort:{sort:1,create_time:1}});v(!1);const i=((null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.data)||[]).map((e=>({key:e._id,label:e.name,value:e._id,color:e.color,disabled:!1})));f(i)};return J().createElement(M.Select,{allowClear:!0,style:{width:"100%"},showSearch:!1,mode:null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.mode,placeholder:(null===(u=e.module)||void 0===u||null===(c=u.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.placeholder)||"\u8bf7\u9009\u62e9",disabled:null===(p=e.permissions)||void 0===p?void 0:p.includes("disabled"),value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)}},null===E||void 0===E?void 0:E.filter((e=>!e.disabled)).map(((t,n)=>{var o,l,a,i,r,s,d,u,c,m,p,_;return J().createElement(M.Select.Option,{value:t.value,key:n},(null===(o=e.module)||void 0===o||null===(l=o.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.itemHasColor)&&J().createElement("span",{className:Z()([tn.select_color_dot,{[tn.show]:null===(i=e.module)||void 0===i||null===(r=i.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.itemHasColor}]),style:{background:(null===(d=e.module)||void 0===d||null===(u=d.data)||void 0===u||null===(c=u.attributes)||void 0===c?void 0:c.itemHasColor)&&"rgba(".concat((null===(m=t.color)||void 0===m?void 0:m.r)||230,", ").concat((null===(p=t.color)||void 0===p?void 0:p.g)||230,", ").concat((null===(_=t.color)||void 0===_?void 0:_.b)||230,", 1)")}}),J().createElement("span",{className:tn.select_color_label},t.label))})))})),pl=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(ml,e))},_l=(0,$.memo)(pl),vl=window.__app__,bl={TYPE:"\u57fa\u7840\u5b57\u6bb5",MODULE_TYPE:"select",NAME:"\u4e0b\u62c9\u5355\u9009",ICON:J().createElement(H.SelectOutlined,null)};const fl={attributes:{fieldname:void 0,title:bl.NAME,tooltip:void 0,placeholder:"\u8bf7\u9009\u62e9",defaultValue:void 0,required:!1,requiredText:"\u8bf7\u9009\u62e9",fromType:"dictionary",itemHasColor:!1,span:24,width:150,dictionary_id:void 0,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:["show"]}},El={valueType:"string",mongoFieldType:"ObjectId",attributes:[dn({moduleType:bl.MODULE_TYPE,children:[]}),un({moduleType:bl.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"BasicSelect",formItemProps:{label:"\u6570\u636e\u6765\u6e90",name:["attributes","fromType"]},props:{options:[{label:"\u6570\u636e\u5b57\u5178",value:"dictionary"}]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u591a\u5f69\u9009\u9879",name:["attributes","itemHasColor"],tooltip:"\u5728\u5217\u8868\u3001\u8be6\u60c5\u4e2d\u6309\u6570\u636e\u5b57\u5178\u914d\u7f6e\u7684\u989c\u8272\u663e\u793a"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o;return"dictionary"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)},component:"DictionarySelect",formItemProps:{label:"\u9009\u9879 (\u5b57\u5178)",name:["attributes","dictionary_id"]}},{component:"SelectDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}}]},_n({moduleType:bl.MODULE_TYPE}),mn({moduleType:bl.MODULE_TYPE})],tableAttributes:[cn({moduleType:bl.MODULE_TYPE})]};const gl={type:bl.TYPE,moduleType:bl.MODULE_TYPE,name:bl.NAME,icon:bl.ICON,data:fl,control:El,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"value",symbols:["$eq","$ne","$in","$nin"]},View:_l,Setting:co,Component:ml,funcs:{formatTableFunc:function(e,t){var n,o;let{moduleinfo:l,fieldname:a,recordInfo:i}=t;const r=null===i||void 0===i?void 0:i[a+"Info"];return r?J().createElement(qo,{label:null===r||void 0===r?void 0:r.name,itemHasColor:null===(n=l.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.itemHasColor,color:null===r||void 0===r?void 0:r.color}):"-"},formatTextFunc:function(e,t){var n,o;let{moduleinfo:l}=t;if(["dictionary","code"].includes(null===l||void 0===l||null===(n=l.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType))return e;{var a,i,r;const[t]=null===l||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i||null===(r=i.items)||void 0===r?void 0:r.filter((t=>{var n,o,a,i;const r=null!==l&&void 0!==l&&null!==(n=l.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.itemHasValue&&["item",void 0].includes(null===l||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.fromType)?t.value:t.label;return e===r}));return(null===t||void 0===t?void 0:t.label)||e}}},createFunc:function(){const e=vl.uuid(bl.MODULE_TYPE+"_"),t={type:bl.TYPE,moduleType:bl.MODULE_TYPE,moduleId:e,name:bl.NAME,data:fl};return JSON.parse(JSON.stringify(t))}},yl=window.__app__,hl=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s,d,u;const{createScriptContexts:c}=yl.get("handles"),[m,p]=(0,$.useState)(!1),[_,v]=(0,$.useState)([]),[b,f]=(0,$.useState)([]),E=(0,$.useMemo)((()=>{var t,n,o,l,a,i,r,s,d;return["item",void 0].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)?(null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.items)||[]:"dictionary"===(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.fromType)&&_||[]}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType,_]);(0,$.useEffect)((()=>{var t,n,o;(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dictionary_id)&&g()}),[null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.dictionary_id]);const g=async()=>{var t,n,o,l;p(!0);const a=await yl.xrequest.post("/api/core/business/dictionary/list",{filter:{dictionary_id:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dictionary_id,status:!0,state:0},current:1,pageSize:200,sort:{sort:1,create_time:1}});p(!1);const i=((null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.data)||[]).map((e=>({key:e._id,label:e.name,value:e._id,color:e.color,disabled:!1})));v(i)};return J().createElement(M.Select,{style:{width:"100%"},allowClear:!0,showSearch:!1,mode:"multiple",placeholder:(null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.placeholder)||"\u8bf7\u9009\u62e9",disabled:null===(u=e.permissions)||void 0===u?void 0:u.includes("disabled"),value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t&&t.length?t:null)}},null===E||void 0===E?void 0:E.filter((e=>!e.disabled)).map(((t,n)=>{var o,l,a,i,r,s,d,u,c,m,p,_;return J().createElement(M.Select.Option,{value:t.value,key:n},(null===(o=e.module)||void 0===o||null===(l=o.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.itemHasColor)&&J().createElement("span",{className:Z()([tn.select_color_dot,{[tn.show]:null===(i=e.module)||void 0===i||null===(r=i.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.itemHasColor}]),style:{background:(null===(d=e.module)||void 0===d||null===(u=d.data)||void 0===u||null===(c=u.attributes)||void 0===c?void 0:c.itemHasColor)&&"rgba(".concat((null===(m=t.color)||void 0===m?void 0:m.r)||230,", ").concat((null===(p=t.color)||void 0===p?void 0:p.g)||230,", ").concat((null===(_=t.color)||void 0===_?void 0:_.b)||230,", 1)")}}),J().createElement("span",{className:tn.select_color_label},t.label))})))})),xl=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(hl,e))},wl=(0,$.memo)(xl),Il=window.__app__,Tl={TYPE:"\u57fa\u7840\u5b57\u6bb5",MODULE_TYPE:"multipleSelect",NAME:"\u4e0b\u62c9\u591a\u9009",ICON:J().createElement(H.SelectOutlined,null)};const Cl={attributes:{fieldname:void 0,title:Tl.NAME,tooltip:void 0,placeholder:"\u8bf7\u9009\u62e9",defaultValue:void 0,required:!1,fromType:"dictionary",itemHasColor:!1,requiredText:"\u8bf7\u9009\u62e9",span:24,width:150,dictionary_id:void 0,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},Sl={valueType:"array",mongoFieldType:"Array[ObjectId]",attributes:[dn({moduleType:Tl.MODULE_TYPE,children:[]}),un({moduleType:Tl.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"BasicSelect",formItemProps:{label:"\u6570\u636e\u6765\u6e90",name:["attributes","fromType"]},props:{options:[{label:"\u6570\u636e\u5b57\u5178",value:"dictionary"}]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u591a\u5f69\u9009\u9879",name:["attributes","itemHasColor"],tooltip:"\u5728\u5217\u8868\u3001\u8be6\u60c5\u4e2d\u6309\u6570\u636e\u5b57\u5178\u914d\u7f6e\u7684\u989c\u8272\u663e\u793a"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o;return"dictionary"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)},component:"DictionarySelect",formItemProps:{label:"\u9009\u9879 (\u5b57\u5178)",name:["attributes","dictionary_id"]}},{component:"MultipleSelectValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}}]},_n({moduleType:Tl.MODULE_TYPE}),mn({moduleType:Tl.MODULE_TYPE})],tableAttributes:[cn({moduleType:Tl.MODULE_TYPE})]};const Ol={type:Tl.TYPE,moduleType:Tl.MODULE_TYPE,name:Tl.NAME,icon:Tl.ICON,data:Cl,control:Sl,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"value",symbols:["$eq","$ne","$in","$nin","$includes","$notincludes"]},View:wl,Setting:co,Component:hl,funcs:{formatTableFunc:function(e,t){let{moduleinfo:n,fieldname:o,recordInfo:l}=t;const a=null===l||void 0===l?void 0:l[o+"Infos"];return null!==a&&void 0!==a&&a.length?a.map(((e,t)=>{var o,l;return J().createElement(qo,{key:t,label:null===e||void 0===e?void 0:e.name,itemHasColor:null===(o=n.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.itemHasColor,color:null===e||void 0===e?void 0:e.color})})):"-"},formatTextFunc:function(e,t){var n,o;let{moduleinfo:l}=t;return["dictionary","code"].includes(null===l||void 0===l||null===(n=l.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)?(e||[]).join("\uff0c"):(e||[]).map(((e,t)=>{var n,o,a;const[i]=null===l||void 0===l||null===(n=l.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(a=o.items)||void 0===a?void 0:a.filter((t=>{var n,o;const a=null!==l&&void 0!==l&&null!==(n=l.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.itemHasValue?t.value:t.label;return e===a}));return i})).filter(Boolean).map((e=>e.label)).join("\uff0c")}},createFunc:function(){const e=Il.uuid(Tl.MODULE_TYPE+"_"),t={type:Tl.TYPE,moduleType:Tl.MODULE_TYPE,moduleId:e,name:Tl.NAME,data:Cl};return JSON.parse(JSON.stringify(t))}},Pl=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g;return J().createElement(M.DatePicker,{style:{width:"100%"},format:(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dateFormat)+(null!==(l=e.module)&&void 0!==l&&null!==(a=l.data)&&void 0!==a&&null!==(i=a.attributes)&&void 0!==i&&i.showTime?" "+(null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.timeFormat):""),inputReadOnly:!0,showTime:(null===(u=e.module)||void 0===u||null===(c=u.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.showTime)&&{format:null===(p=e.module)||void 0===p||null===(_=p.data)||void 0===_||null===(v=_.attributes)||void 0===v?void 0:v.timeFormat},placeholder:null===(b=e.module)||void 0===b||null===(f=b.data)||void 0===f||null===(E=f.attributes)||void 0===E?void 0:E.placeholder,disabled:null===(g=e.permissions)||void 0===g?void 0:g.includes("disabled"),value:e.value&&re()(e.value),onChange:t=>{var n,o,l,a,i,r,s,d,u,c;const m=(null===(n=e.module)||void 0===n||null===(o=n.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.dateFormat)+(null!==(a=e.module)&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&null!==(r=i.attributes)&&void 0!==r&&r.showTime?" "+(null===(s=e.module)||void 0===s||null===(d=s.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.timeFormat):""),p=t&&re()(t).format(m||"YYYY-MM-DD"),_=p&&re()(p).valueOf();null===(c=e.onChange)||void 0===c||c.call(e,null!==_&&void 0!==_?_:null)}})})),Ml=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(Pl,e))},kl=(0,$.memo)(Ml),Dl=window.__app__,Nl={TYPE:"\u57fa\u7840\u5b57\u6bb5",MODULE_TYPE:"datePicker",NAME:"\u65e5\u671f\u65f6\u95f4",ICON:J().createElement(H.CarryOutOutlined,null)},Al={attributes:{fieldname:void 0,unique:!1,title:Nl.NAME,tooltip:void 0,placeholder:"\u8bf7\u9009\u62e9",defaultValue:void 0,required:!1,requiredText:"\u8bf7\u9009\u62e9",span:24,width:150,dateFormat:"YYYY-MM-DD",showTime:!1,timeFormat:"HH:mm:ss",createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},Ll={valueType:"date",mongoFieldType:"Number\uff08\u6beb\u79d2\u65f6\u95f4\u6233\uff09",attributes:[dn({moduleType:Nl.MODULE_TYPE,children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u4e0d\u5141\u8bb8\u91cd\u590d",name:["attributes","unique"],tooltip:"\u5f00\u542f\u540e\uff0c\u5f53\u524d\u6570\u636e\u8868\u5185\u8be5\u5b57\u6bb5\u503c\u552f\u4e00\uff0c\u91cd\u590d\u503c\u65e0\u6cd5\u63d0\u4ea4"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]}),un({moduleType:Nl.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"DatePickerDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}},{component:"BasicSelect",formItemProps:{label:"\u65e5\u671f\u683c\u5f0f",name:["attributes","dateFormat"]},props:{options:[{label:"\u5e74-\u6708-\u65e5",value:"YYYY-MM-DD"},{label:"\u5e74/\u6708/\u65e5",value:"YYYY/MM/DD"}]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u9009\u62e9\u65f6\u95f4",name:["attributes","showTime"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.showTime)},component:"BasicSelect",formItemProps:{label:"\u65f6\u95f4\u683c\u5f0f",name:["attributes","timeFormat"]},props:{options:[{label:"\u65f6",value:"HH"},{label:"\u65f6:\u5206",value:"HH:mm"},{label:"\u65f6:\u5206:\u79d2",value:"HH:mm:ss"}]}}]},_n({moduleType:Nl.MODULE_TYPE}),mn({moduleType:Nl.MODULE_TYPE})],tableAttributes:[cn({moduleType:Nl.MODULE_TYPE})]};const Fl={type:Nl.TYPE,moduleType:Nl.MODULE_TYPE,name:Nl.NAME,icon:Nl.ICON,data:Al,control:Ll,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"",symbols:["$eq","$ne","$gt","$gte","$lt","$lte"],presets:[{label:"\u4eca\u5929\u5185",range:!0,value:'({main:function(contexts,data){return[contexts.dayjs().startOf("day").valueOf(),contexts.dayjs().startOf("day").add(1,"day").valueOf()]},})'},{label:"\u6628\u5929\u5185",range:!0,value:'({main:function(contexts,data){return[contexts.dayjs().startOf("day").add(-1, "day").valueOf(),contexts.dayjs().startOf("day").valueOf()]},})'},{label:"\u660e\u5929\u5185",range:!0,value:'({main:function(contexts,data){return[contexts.dayjs().startOf("day").add(1, "day").valueOf(),contexts.dayjs().startOf("day").add(2, "day").valueOf()]},})'},{label:"\u8fc7\u53bb7\u5929\u5185",range:!0,value:'({main:function(contexts,data){return[contexts.dayjs().startOf("day").add(-6, "day").valueOf(),contexts.dayjs().startOf("day").add(1, "day").valueOf()]},})'},{label:"\u8fc7\u53bb30\u5929\u5185",range:!0,value:'({main:function(contexts,data){return[contexts.dayjs().startOf("day").add(-29, "day").valueOf(),contexts.dayjs().startOf("day").add(1, "day").valueOf()]},})'},{label:"\u672a\u67657\u5929\u5185",range:!0,value:'({main:function(contexts,data){return[contexts.dayjs().startOf("day").valueOf(),contexts.dayjs().startOf("day").add(7, "day").valueOf()]},})'},{label:"\u672a\u676530\u5929\u5185",range:!0,value:'({main:function(contexts,data){return[contexts.dayjs().startOf("day").valueOf(),contexts.dayjs().startOf("day").add(30, "day").valueOf()]},})'}]},View:kl,Setting:co,Component:Pl,funcs:{formatTableFunc:function(e,t){var n,o,l,a,i,r;let{moduleinfo:s}=t;const d=(null===s||void 0===s||null===(n=s.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dateFormat)+(null!==s&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&null!==(a=l.attributes)&&void 0!==a&&a.showTime?" "+(null===s||void 0===s||null===(i=s.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.timeFormat):"");return e&&re()(e).format(d||"YYYY-MM-DD")||"-"},formatTextFunc:function(e,t){var n,o,l,a,i,r;let{moduleinfo:s}=t;const d=(null===s||void 0===s||null===(n=s.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dateFormat)+(null!==s&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&null!==(a=l.attributes)&&void 0!==a&&a.showTime?" "+(null===s||void 0===s||null===(i=s.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.timeFormat):"");return e&&re()(e).format(d||"YYYY-MM-DD")}},createFunc:function(){const e=Dl.uuid(Nl.MODULE_TYPE+"_"),t={type:Nl.TYPE,moduleType:Nl.MODULE_TYPE,moduleId:e,name:Nl.NAME,data:Al};return JSON.parse(JSON.stringify(t))}},Rl=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s,d,u;return J().createElement(M.Slider,{style:{margin:"0 10px"},min:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.min,max:null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.max,step:null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.step,tooltip:{formatter:t=>{var n,o,l;return"".concat(t," ").concat((null===(n=e.module)||void 0===n||null===(o=n.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.unit)||"")}},disabled:null===(u=e.permissions)||void 0===u?void 0:u.includes("disabled"),value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)}})})),Bl=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(Rl,e))},Vl=(0,$.memo)(Bl),Ul=window.__app__;function Yl(e){const t=Ul.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-sliders"})}const zl={TYPE:"\u4e1a\u52a1\u5b57\u6bb5",MODULE_TYPE:"slider",NAME:"\u6ed1\u52a8\u8f93\u5165\u6761",ICON:J().createElement(Yl,null)},jl={attributes:{fieldname:void 0,title:zl.NAME,tooltip:void 0,defaultValue:void 0,unit:void 0,maxLength:50,required:!1,requiredText:"\u8bf7\u9009\u62e9",span:24,min:0,max:100,step:1,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:["show"]}},ql={valueType:"number",mongoFieldType:"Number",attributes:[dn({moduleType:zl.MODULE_TYPE,children:[]}),un({moduleType:zl.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"InputNumberDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}},{component:"BasicInputNumber",formItemProps:{label:"\u6700\u5c0f\u503c",name:["attributes","min"]}},{component:"BasicInputNumber",formItemProps:{label:"\u6700\u5927\u503c",name:["attributes","max"]}},{component:"BasicInputNumber",formItemProps:{label:"\u6b65\u957f\u503c",name:["attributes","step"]}},{component:"BasicInput",formItemProps:{label:"\u5355\u4f4d",name:["attributes","unit"]},props:{placeholder:"\u4f8b\u5982\uff1a\u5143"}}]},_n({moduleType:zl.MODULE_TYPE}),mn({moduleType:zl.MODULE_TYPE,disabled:["searchPermission"]})]};const Xl={type:zl.TYPE,moduleType:zl.MODULE_TYPE,name:zl.NAME,icon:zl.ICON,data:jl,control:ql,config:{intable:!1,export:!0,button:!0,copyable:!0,textSearch:"",symbols:["$eq","$ne","$gt","$gte","$lt","$lte"]},View:Vl,Setting:co,Component:Rl,funcs:{},createFunc:function(){const e=Ul.uuid(zl.MODULE_TYPE+"_"),t={type:zl.TYPE,moduleType:zl.MODULE_TYPE,moduleId:e,name:zl.NAME,data:jl};return JSON.parse(JSON.stringify(t))}},Wl=window.__app__,Kl=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C;const{iconListMap:S}=Wl.get("datas.configs.work"),{rgbaToHex:O}=Wl.get("handles"),P=S[(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.icon)||"StarFilled"]||void 0;return J().createElement(M.Rate,{style:{color:(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.color)&&"rgba(".concat(null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(d=s.attributes)||void 0===d||null===(u=d.color)||void 0===u?void 0:u.r,", ").concat(null===(c=e.module)||void 0===c||null===(m=c.data)||void 0===m||null===(p=m.attributes)||void 0===p||null===(_=p.color)||void 0===_?void 0:_.g,", ").concat(null===(v=e.module)||void 0===v||null===(b=v.data)||void 0===b||null===(f=b.attributes)||void 0===f||null===(E=f.color)||void 0===E?void 0:E.b,", ").concat(null===(g=e.module)||void 0===g||null===(y=g.data)||void 0===y||null===(h=y.attributes)||void 0===h||null===(x=h.color)||void 0===x?void 0:x.a,")")},character:t=>{var n,o,l;let{index:a}=t;return P&&J().createElement(P,{twoToneColor:O(null===(n=e.module)||void 0===n||null===(o=n.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.color)})},count:null===(w=e.module)||void 0===w||null===(I=w.data)||void 0===I||null===(T=I.attributes)||void 0===T?void 0:T.count,disabled:null===(C=e.permissions)||void 0===C?void 0:C.includes("disabled"),value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)}})})),$l=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(Kl,e))},Jl=(0,$.memo)($l),Hl=window.__app__,Gl={TYPE:"\u4e1a\u52a1\u5b57\u6bb5",MODULE_TYPE:"rate",NAME:"\u661f\u7ea7\u8bc4\u5206",ICON:J().createElement(H.StarOutlined,null)},Ql={attributes:{fieldname:void 0,title:Gl.NAME,tooltip:void 0,defaultValue:void 0,icon:"StarFilled",color:{r:255,g:219,b:20,a:1},required:!1,requiredText:"\u8bf7\u8f93\u5165",span:24,width:150,count:5,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:["show"]}},Zl={valueType:"number",mongoFieldType:"Number",attributes:[dn({moduleType:Gl.MODULE_TYPE,children:[]}),un({moduleType:Gl.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"IconChoose",formItemProps:{label:"\u56fe\u6807",name:["attributes","icon"]},props:{exclude:["twotone"]}},{component:"ColorPicker",formItemProps:{label:"\u989c\u8272",name:["attributes","color"]}},{component:"BasicInputNumber",formItemProps:{label:"\u6570\u91cf",name:["attributes","count"]},props:{min:1,max:10,step:1}},{component:"InputNumberDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]},props:{min:0,max:10,step:1}}]},_n({moduleType:Gl.MODULE_TYPE}),mn({moduleType:Gl.MODULE_TYPE})],tableAttributes:[cn({moduleType:Gl.MODULE_TYPE})]};const ea={type:Gl.TYPE,moduleType:Gl.MODULE_TYPE,name:Gl.NAME,icon:Gl.ICON,data:Ql,control:Zl,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"",symbols:["$eq","$ne","$gt","$gte","$lt","$lte"]},View:Jl,Setting:co,Component:Kl,funcs:{formatTableFunc:function(e,t){var n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f;let{moduleinfo:E}=t;const{iconListMap:g}=Hl.get("datas.configs.work"),y=null!==(n=E.data.attributes)&&void 0!==n&&n.icon?g[(null===(o=E.data.attributes)||void 0===o?void 0:o.icon)||"StarFilled"]:void 0;return![void 0,null,""].includes(e)&&y&&J().createElement(J().Fragment,null,J().createElement("span",{style:{marginRight:5,color:(null===E||void 0===E||null===(l=E.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.color)&&"rgba(".concat(null===E||void 0===E||null===(i=E.data)||void 0===i||null===(r=i.attributes)||void 0===r||null===(s=r.color)||void 0===s?void 0:s.r,", ").concat(null===E||void 0===E||null===(d=E.data)||void 0===d||null===(u=d.attributes)||void 0===u||null===(c=u.color)||void 0===c?void 0:c.g,", ").concat(null===E||void 0===E||null===(m=E.data)||void 0===m||null===(p=m.attributes)||void 0===p||null===(_=p.color)||void 0===_?void 0:_.b,", ").concat(null===E||void 0===E||null===(v=E.data)||void 0===v||null===(b=v.attributes)||void 0===b||null===(f=b.color)||void 0===f?void 0:f.a,")")}},J().createElement(y,null)),J().createElement("span",null,e))||"-"}},createFunc:function(){const e=Hl.uuid(Gl.MODULE_TYPE+"_"),t={type:Gl.TYPE,moduleType:Gl.MODULE_TYPE,moduleId:e,name:Gl.NAME,data:Ql};return JSON.parse(JSON.stringify(t))}},ta=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s;const[d,u]=(0,$.useState)("");return J().createElement(M.Select,{showSearch:!0,placeholder:(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.placeholder)||"\u8bf7\u8f93\u5165",defaultActiveFirstOption:!1,suffixIcon:null,filterOption:!1,allowClear:!0,popupMatchSelectWidth:!1,onSearch:e=>(e=>{u(e||"")})(e),disabled:null===(l=e.permissions)||void 0===l?void 0:l.includes("disabled"),value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)}},null===(a=e.module)||void 0===a||null===(i=a.data)||void 0===i||null===(r=i.attributes)||void 0===r||null===(s=r.items)||void 0===s?void 0:s.map(((e,t)=>J().createElement(M.Select.Option,{value:d+"@"+e.label,key:t},d+"@"+e.label))))})),na=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(ta,e))},oa=(0,$.memo)(na),la=window.__app__,aa={TYPE:"\u4e1a\u52a1\u5b57\u6bb5",MODULE_TYPE:"email",NAME:"\u7535\u5b50\u90ae\u7bb1",ICON:J().createElement(H.MailOutlined,null)};function ia(e){const t=la.uuid();return{label:e,key:t,value:t}}const ra={attributes:{fieldname:void 0,trim:!1,unique:!1,title:aa.NAME,tooltip:void 0,placeholder:"\u8bf7\u8f93\u5165",desensitization:!0,required:!1,items:[ia("qq.com"),ia("sina.com"),ia("gmail.com"),ia("163.com"),ia("hotmail.com")],requiredText:"\u8bf7\u8f93\u5165",span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},sa={valueType:"string",mongoFieldType:"String",attributes:[dn({moduleType:aa.MODULE_TYPE,children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u4e0d\u5141\u8bb8\u91cd\u590d",name:["attributes","unique"],tooltip:"\u5f00\u542f\u540e\uff0c\u5f53\u524d\u6570\u636e\u8868\u5185\u8be5\u5b57\u6bb5\u503c\u552f\u4e00\uff0c\u91cd\u590d\u503c\u65e0\u6cd5\u63d0\u4ea4"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]}),un({moduleType:aa.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"EmailItems",formItemProps:{label:"\u90ae\u7bb1\u540e\u7f00",name:["attributes","items"]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u90ae\u7bb1\u8131\u654f",name:["attributes","desensitization"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},_n({moduleType:aa.MODULE_TYPE}),mn({moduleType:aa.MODULE_TYPE})],tableAttributes:[cn({moduleType:aa.MODULE_TYPE})]};const da={type:aa.TYPE,moduleType:aa.MODULE_TYPE,name:aa.NAME,icon:aa.ICON,data:ra,control:sa,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"value",symbols:["$eq","$ne","$includes","$notincludes"]},View:oa,Setting:co,Component:ta,funcs:{createItemFunc:ia,formatTableFunc:function(e,t,n){var o,l;let{moduleinfo:a}=t;const i=(null===a||void 0===a||null===(o=a.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.desensitization)||!0;return e?J().createElement(M.Space,null,J().createElement("a",{href:"mailto:".concat(e)},"list"===n&&i?function(e){if(!e||!e.includes("@"))return"";const[t,n]=e.split("@"),o=t.length;let l;return l=o<=2?t:o<=5?t[0]+"*".repeat(o-2)+t[o-1]:t.slice(0,2)+"***"+t[o-1],"".concat(l,"@").concat(n)}(e):e)):"-"}},createFunc:function(){const e=la.uuid(aa.MODULE_TYPE+"_"),t={type:aa.TYPE,moduleType:aa.MODULE_TYPE,moduleId:e,name:aa.NAME,data:ra};return JSON.parse(JSON.stringify(t))}},ua=(0,$.memo)((e=>{var t,n,o,l;return J().createElement(M.Input,{placeholder:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.placeholder,allowClear:!0,disabled:null===(l=e.permissions)||void 0===l?void 0:l.includes("disabled"),value:e.value,onChange:t=>{var n;const o=t.target.value;null===(n=e.onChange)||void 0===n||n.call(e,null!==o&&void 0!==o?o:null)}})})),ca=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(ua,e))},ma=(0,$.memo)(ca),pa=window.__app__,_a={TYPE:"\u4e1a\u52a1\u5b57\u6bb5",MODULE_TYPE:"mobile",NAME:"\u7535\u8bdd / \u624b\u673a",ICON:J().createElement(H.PhoneOutlined,null)},va={attributes:{fieldname:void 0,trim:!1,unique:!1,title:_a.NAME,tooltip:void 0,placeholder:"\u8bf7\u8f93\u5165",desensitization:!0,required:!1,requiredText:"\u8bf7\u8f93\u5165",span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},ba={valueType:"string",mongoFieldType:"String",attributes:[dn({moduleType:_a.MODULE_TYPE,children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u4e0d\u5141\u8bb8\u91cd\u590d",name:["attributes","unique"],tooltip:"\u5f00\u542f\u540e\uff0c\u5f53\u524d\u6570\u636e\u8868\u5185\u8be5\u5b57\u6bb5\u503c\u552f\u4e00\uff0c\u91cd\u590d\u503c\u65e0\u6cd5\u63d0\u4ea4"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]}),un({moduleType:_a.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u53f7\u7801\u8131\u654f",name:["attributes","desensitization"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},_n({moduleType:_a.MODULE_TYPE}),mn({moduleType:_a.MODULE_TYPE})],tableAttributes:[cn({moduleType:_a.MODULE_TYPE})]};const fa={type:_a.TYPE,moduleType:_a.MODULE_TYPE,name:_a.NAME,icon:_a.ICON,data:va,control:ba,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"value",symbols:["$eq","$ne","$includes","$notincludes"]},View:ma,Setting:co,Component:ua,funcs:{formatTableFunc:function(e,t,n){var o,l;let{moduleinfo:a}=t;const i=(null===a||void 0===a||null===(o=a.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.desensitization)||!0;return e?J().createElement(M.Space,null,J().createElement("a",{href:"tel:".concat(e)},"list"===n&&i?function(e){if(!e)return"";if(/^1[3-9]\d{9}$/.test(e))return e.replace(/(\d{3})(\d{4})(\d{4})/,"$1****$3");if(/^(\d{3,4})[-\u2013](\d{7,8})$/.test(e))return e.replace(/(\d{3,4})[-\u2013](\d{4})(\d{4})/,"$1-****$3");if(/^(\d{8})$/.test(e))return e.replace(/(\d{2})(\d{4})(\d{2})/,"$1****$3");if(/^\+\d{1,3}[-\u2013\s]?(\d{1,4}[-\u2013\s]?)*(\d{4})$/.test(e)){const t=e.slice(-4),n=e.match(/^\+\d{1,3}/)[0];return"".concat(n,"-****").concat(t)}if(e.length>=6){const t=e.slice(0,2),n=e.slice(-2);return"".concat(t,"****").concat(n)}return e}(e):e)):"-"}},createFunc:function(){const e=pa.uuid(_a.MODULE_TYPE+"_"),t={type:_a.TYPE,moduleType:_a.MODULE_TYPE,moduleId:e,name:_a.NAME,data:va};return JSON.parse(JSON.stringify(t))}},Ea=(0,$.memo)((e=>{var t,n,o,l;return J().createElement(M.Input,{placeholder:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.placeholder,allowClear:!0,disabled:null===(l=e.permissions)||void 0===l?void 0:l.includes("disabled"),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u6253\u5f00\u94fe\u63a5"},J().createElement(M.Button,{type:"text",size:"small",icon:J().createElement(H.ChromeFilled,{style:{color:"#1890ff"}}),onClick:t=>{e.value&&window.open(e.value)}}))),value:e.value,onChange:t=>{var n;const o=t.target.value;null===(n=e.onChange)||void 0===n||n.call(e,null!==o&&void 0!==o?o:null)}})})),ga=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(Ea,e))},ya=window.__app__,ha={TYPE:"\u4e1a\u52a1\u5b57\u6bb5",MODULE_TYPE:"url",NAME:"\u7f51\u5740\u94fe\u63a5",ICON:J().createElement(H.LinkOutlined,null)},xa={attributes:{fieldname:void 0,unique:!1,trim:!1,title:ha.NAME,tooltip:void 0,placeholder:"\u8bf7\u8f93\u5165",defaultValue:void 0,required:!1,requiredText:"\u8bf7\u8f93\u5165",span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},wa={valueType:"string",mongoFieldType:"String",attributes:[dn({moduleType:ha.MODULE_TYPE,children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u4e0d\u5141\u8bb8\u91cd\u590d",name:["attributes","unique"],tooltip:"\u5f00\u542f\u540e\uff0c\u5f53\u524d\u6570\u636e\u8868\u5185\u8be5\u5b57\u6bb5\u503c\u552f\u4e00\uff0c\u91cd\u590d\u503c\u65e0\u6cd5\u63d0\u4ea4"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]}),un({moduleType:ha.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"InputDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}}]},_n({moduleType:ha.MODULE_TYPE}),mn({moduleType:ha.MODULE_TYPE})],tableAttributes:[cn({moduleType:ha.MODULE_TYPE})]};const Ia={type:ha.TYPE,moduleType:ha.MODULE_TYPE,name:ha.NAME,icon:ha.ICON,data:xa,control:wa,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"value",symbols:["$eq","$ne","$includes","$notincludes"]},View:ga,Setting:co,Component:Ea,funcs:{formatTableFunc:function(e,t){let{moduleinfo:n,fieldname:o,recordInfo:l}=t;return e?J().createElement("a",{href:e,target:"_blank"},e):"-"}},createFunc:function(){const e=ya.uuid(ha.MODULE_TYPE+"_"),t={type:ha.TYPE,moduleType:ha.MODULE_TYPE,moduleId:e,name:ha.NAME,data:xa};return JSON.parse(JSON.stringify(t))}},Ta=(window.__app__,e=>{const[t,n]=(0,$.useState)(!0);return J().createElement("div",{className:Z()([tn.richText_show,"detail"===e.scene&&t?tn.fold:void 0])},J().createElement("div",{dangerouslySetInnerHTML:{__html:e.value}}),"detail"===e.scene&&J().createElement("div",{className:tn.btn,onClick:e=>n(!t)},t?"\u70b9\u51fb\u5c55\u5f00":"\u70b9\u51fb\u6536\u8d77"))}),Ca=e=>{const[t,n]=(0,$.useState)(!1);return J().createElement(J().Fragment,null,"list"===e.scene&&J().createElement(J().Fragment,null,J().createElement(M.Button,{size:"small",type:"link",onClick:e=>{n(!0)}},"\u70b9\u51fb\u67e5\u770b\u8be6\u60c5"),J().createElement(M.Modal,{title:"\u8be6\u60c5",width:700,destroyOnClose:!0,maskClosable:!0,footer:!1,open:t,onOk:()=>{},onCancel:()=>{n(!1)}},J().createElement(Ta,e))),"detail"===e.scene&&J().createElement(Ta,e))},Sa=(0,$.memo)(Ca),Oa=window.__app__,Pa=(0,$.memo)((e=>{var t,n,o;const l=Oa.get("modules.components.basicCommon");return J().createElement(l.RichEditor,{placeholder:null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.placeholder,disabled:null===(o=e.permissions)||void 0===o?void 0:o.includes("disabled"),value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t?t:null)}})})),Ma=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(Pa,e))},ka=(0,$.memo)(Ma),Da=window.__app__,Na={TYPE:"\u4e1a\u52a1\u5b57\u6bb5",MODULE_TYPE:"richText",NAME:"\u5bcc\u6587\u672c",ICON:J().createElement(H.MenuUnfoldOutlined,null)},Aa={attributes:{fieldname:void 0,title:Na.NAME,tooltip:void 0,placeholder:"\u8bf7\u9009\u62e9",defaultValue:void 0,required:!1,requiredText:"\u8bf7\u8f93\u5165",span:24,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},La={valueType:"string",mongoFieldType:"String",attributes:[dn({moduleType:Na.MODULE_TYPE,children:[]}),un({moduleType:Na.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"RichTextDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}}]},_n({moduleType:Na.MODULE_TYPE}),mn({moduleType:Na.MODULE_TYPE,disabled:["searchPermission"]})]};const Fa={type:Na.TYPE,moduleType:Na.MODULE_TYPE,name:Na.NAME,icon:Na.ICON,data:Aa,control:La,config:{intable:!1,export:!1,button:!0,copyable:!0,textSearch:"value",symbols:[]},View:ka,Setting:co,Component:Pa,funcs:{formatTableFunc:function(e,t,n){return e?J().createElement(Sa,{value:e,module:t,scene:n}):"-"}},createFunc:function(){const e=Da.uuid(Na.MODULE_TYPE+"_"),t={type:Na.TYPE,moduleType:Na.MODULE_TYPE,moduleId:e,name:Na.NAME,data:Aa};return JSON.parse(JSON.stringify(t))}},Ra=window.__app__,Ba=(0,ae.observer)((e=>{var t;const n=Ra.get("modules.formEditor.FormView"),o=(0,$.useRef)(),[l,a]=(0,$.useState)(!1),[i,r]=(0,$.useState)(),[s,d]=(0,$.useState)(),[u,c]=(0,$.useState)(!1),m=(0,$.useMemo)((()=>{const e=((null===s||void 0===s?void 0:s.fields)||[]).map((e=>[e.moduleId,(e.data.attributes.detailPermission||[]).concat(["readOnly"])]));return Object.fromEntries(e)}),[null===s||void 0===s?void 0:s.fields]),p=async()=>new Promise((async(t,n)=>{var o;const l=await Ra.xrequest.post("/api/core/table/record/detail",{_id:null===(o=e.value)||void 0===o?void 0:o._id,table_id:null===s||void 0===s?void 0:s._id});r(null===l||void 0===l?void 0:l.data),t(null===l||void 0===l?void 0:l.data)})),_=async()=>new Promise((async(t,n)=>{var o;const l=await Ra.xrequest.post("/api/core/table/detail",{_id:null===(o=e.value)||void 0===o?void 0:o.table_id});d(null===l||void 0===l?void 0:l.data),t(null===l||void 0===l?void 0:l.data)})),v=()=>{},b=()=>{a(!1)};return J().createElement(J().Fragment,null,J().createElement(M.Button,{size:"small",type:"link",style:{padding:"0px 0px"},onClick:e=>(async()=>{c(!0),await Promise.all([_(),p()]),c(!1),a(!0)})()},null===(t=e.value)||void 0===t?void 0:t.text),J().createElement(M.Modal,{title:"\u8be6\u60c5",width:700,destroyOnClose:!0,maskClosable:!0,footer:!1,open:l,onOk:v,onCancel:b},J().createElement(M.Spin,{spinning:u},J().createElement(n,{ref:o,scene:"detail",customData:(null===s||void 0===s?void 0:s.fields)||[],initialValues:i,record:i,permissions:m,footer:!1,onCancel:b,onOk:v}))))})),Va=Ba;var Ua=__webpack_require__(5020);const Ya=window.__app__,za=(0,$.memo)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I;const{createScriptContexts:T}=Ya.get("handles"),C=Ya.get("modules.formEditor.table"),[S,O]=(0,$.useState)(),[P,k]=(0,$.useState)([]),[D,N]=(0,$.useState)(),A=((0,$.useRef)(),(0,$.useMemo)((()=>{var t,n,o,l,a,i,r,s;const d=(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.parent_field)||"",u=(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.label_field)||"",c=(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.value_field)||"_id",m=(null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.sub_label_field)||"",p=P.map((e=>{const t=Object.fromEntries(Object.keys(e).map((t=>{var n;return[t,(null===(n=e[t])||void 0===n?void 0:n.value)||e[t]]}))),n={...e,...t};return{...n,title:J().createElement(M.Space,{size:[0,0],className:"relation_labelbox"},J().createElement("span",{className:"relation_label ellipsis"},(null===n||void 0===n?void 0:n[u])||"--"),m&&J().createElement("span",{className:"relation_value ellipsis"},J().createElement("span",{style:{marginLeft:10}},"-"),"\uff08 ",(null===n||void 0===n?void 0:n[m])||"--"," \uff09")),stitle:null===n||void 0===n?void 0:n[m],value:(null===n||void 0===n?void 0:n[c])||n._id}}));return Ya.listToTree(p,void 0,{parent_field:d,unique_field:"_id"})}),[P,null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.parent_field,null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.label_field,null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.value_field,null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.sub_label_field]));(0,$.useEffect)((()=>{var t,n,o;null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.table_id&&(L(),async function(){var t,n;const o=await Ya.xrequest.post("/api/core/table/detail",{_id:null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table_id});O(null===o||void 0===o?void 0:o.data)}())}),[null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.table_id]),(0,$.useEffect)((()=>{!async function(){var t,n;if(!e.value)return void N();const o=await Ya.xrequest.post("/api/core/table/record/detail",{_id:e.value,table_id:null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table_id});N(null===o||void 0===o?void 0:o.data)}()}),[e.value]);const L=async()=>{var t,n,o,l,a,i,r,s,d;if(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||!o.table_id)return;const u=(null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.filters)||[],c=await(0,Ua.W)(u),m={$and:[(null===(i=c.$or)||void 0===i?void 0:i.length)&&c].filter(Boolean)},p=await Ya.xrequest.post("/api/core/table/record/list",{filter:{table_id:null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.table_id,...m.$and.length?m:{}},select:{},sort:{create_time:1},current:1,pageSize:1e4}),_=(null===p||void 0===p||null===(d=p.data)||void 0===d?void 0:d.data)||[];k(_)};return J().createElement(M.Space.Compact,{block:!0},J().createElement(M.TreeSelect,{style:{width:"calc(100% - ".concat((null!==(c=e.module.data)&&void 0!==c&&null!==(m=c.attributes)&&void 0!==m&&m.detailable&&D?34:0)+(null!==(p=e.module.data)&&void 0!==p&&null!==(_=p.attributes)&&void 0!==_&&_.addable?34:0),"px)")},showSearch:!0,treeNodeFilterProp:null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b?void 0:b.label_field,popupMatchSelectWidth:!1,placeholder:e.placeholder||(null===(f=e.module)||void 0===f||null===(E=f.data)||void 0===E||null===(g=E.attributes)||void 0===g?void 0:g.placeholder),allowClear:!0,treeDefaultExpandAll:!0,treeData:A,disabled:null===(y=e.permissions)||void 0===y?void 0:y.includes("disabled"),value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}}),(null===(h=e.module.data)||void 0===h||null===(x=h.attributes)||void 0===x?void 0:x.detailable)&&D&&J().createElement(C.RecordButtonView,{buttonProps:{icon:J().createElement(H.EyeOutlined,null),type:"default",style:{width:34},tooltip:"\u67e5\u770b\u8be6\u60c5"},modalProps:{},options:{key:"tableActions_detail",component:"RecordButtonView",componentProps:{type:"detail"},title:"\u6570\u636e\u8be6\u60c5",color:"blue",confirm:!1,type:"admin",status:!0},formSenior:!0,mode:"view",scene:"detail",record:D,tableInfo:S,table_id:null===S||void 0===S?void 0:S._id,searchParams:{},refresh:e=>{}}),(null===(w=e.module.data)||void 0===w||null===(I=w.attributes)||void 0===I?void 0:I.addable)&&J().createElement(C.RecordButtonView,{buttonProps:{type:"default",icon:J().createElement(H.PlusOutlined,null),style:{width:34},tooltip:"\u65b0\u589e\u6570\u636e"},modalProps:{},options:{key:"toolBarActions_add",component:"RecordButtonView",componentProps:{type:"create"},title:"\u65b0\u589e\u6570\u636e",color:"blue",confirm:!1,type:"admin",status:!0},formSenior:!0,mode:"view",scene:"create",record:void 0,tableInfo:S,table_id:null===S||void 0===S?void 0:S._id,searchParams:{},refresh:e=>{L()}}))})),ja=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(za,e))},qa=(0,$.memo)(ja),Xa=window.__app__,Wa={TYPE:"\u9ad8\u7ea7\u5b57\u6bb5",MODULE_TYPE:"relation",NAME:"\u8868\u5b57\u6bb5\u5173\u8054",ICON:J().createElement(H.CompassOutlined,null)},Ka={attributes:{fieldname:void 0,title:Wa.NAME,tooltip:void 0,placeholder:"\u8bf7\u9009\u62e9",required:!1,requiredText:"\u8bf7\u9009\u62e9",table_id:void 0,label_field:void 0,value_field:void 0,addable:!1,detailable:!1,span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},$a={valueType:"object",mongoFieldType:"Mixed",attributes:[dn({moduleType:Wa.MODULE_TYPE,children:[]}),un({moduleType:Wa.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"TableTreeSelect",formItemProps:{label:"\u5173\u8054\u8868",name:["attributes","table_id"],tooltip:"\u5173\u8054\u8868\u7684\u6807\u7b7e\u5b57\u6bb5\u548c\u503c\u5b57\u6bb5\u8bf7\u4e0d\u8981\u51fa\u73b0\u91cd\u590d\u503c\uff0c\u5173\u8054\u7684\u6570\u636e\u8868\u6700\u597d\u5f53\u505a\u914d\u7f6e\u8868\u4f7f\u7528\u3002"}},{component:"TableFieldSelect",formItemProps:{label:"\u6807\u7b7e\u5b57\u6bb5",name:["attributes","label_field"]},props:{}},{component:"TableFieldSelect",formItemProps:{label:"\u503c\u5b57\u6bb5",name:["attributes","value_field"],tooltip:"\u5c3d\u53ef\u80fd\u9009\u62e9_id\uff08\u4e3b\u952e\uff09\u4f5c\u4e3a\u503c"},props:{}}]},{title:"\u9ad8\u7ea7\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u65b0\u589e\u9009\u9879",name:["attributes","addable"],tooltip:"\u662f\u5426\u53ef\u4ee5\u5728\u8868\u5355\u586b\u5199\u7684\u65f6\u5019\u663e\u793a\u65b0\u589e\u9009\u9879\u7684\u6309\u94ae"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u67e5\u770b\u8be6\u60c5",name:["attributes","detailable"],tooltip:"\u662f\u5426\u5728\u8868\u5355\u586b\u5199\u5f97\u65f6\u5019\u663e\u793a\u67e5\u770b\u8be6\u60c5\u7684\u6309\u94ae"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},_n({moduleType:Wa.MODULE_TYPE}),mn({moduleType:Wa.MODULE_TYPE})],tableAttributes:[cn({moduleType:Wa.MODULE_TYPE})]};const Ja={type:Wa.TYPE,moduleType:Wa.MODULE_TYPE,name:Wa.NAME,icon:Wa.ICON,data:Ka,control:$a,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"text",symbols:["$eq","$ne"]},View:qa,Setting:co,Component:za,funcs:{formatTableFunc:function(e,t,n){var o,l;let{moduleinfo:a,fieldname:i,recordInfo:r}=t;const s=null===r||void 0===r?void 0:r[i+"Info"];return s?J().createElement(Va,{value:{table_id:null===s||void 0===s?void 0:s.table_id,_id:null===s||void 0===s?void 0:s._id,text:null===s||void 0===s?void 0:s[null===a||void 0===a||null===(o=a.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.label_field]},module:a,scene:n}):"-"},formatTextFunc:function(e,t){let{moduleinfo:n}=t;return null===e||void 0===e?void 0:e.text}},createFunc:function(){const e=Xa.uuid(Wa.MODULE_TYPE+"_"),t={type:Wa.TYPE,moduleType:Wa.MODULE_TYPE,moduleId:e,name:Wa.NAME,data:Ka};return JSON.parse(JSON.stringify(t))}},Ha=window.__app__,Ga=e=>{const[t,n]=(0,$.useState)(!0);return J().createElement("pre",{className:Z()([tn.json_show,"detail"===e.scene&&t?tn.fold:void 0])},JSON.stringify(e.value,null,2),"detail"===e.scene&&J().createElement("div",{className:tn.btn,onClick:e=>n(!t)},t?"\u70b9\u51fb\u5c55\u5f00":"\u70b9\u51fb\u6536\u8d77"))},Qa=e=>{Ha.get("modules.components.basicWork"),Ha.get("modules.components.basicCommon"),Ha.get("modules.formEditor.modules");const[t,n]=(0,$.useState)(!1);return J().createElement(J().Fragment,null,"list"===e.scene&&J().createElement(J().Fragment,null,J().createElement(M.Button,{size:"small",type:"link",onClick:e=>{n(!0)}},"\u70b9\u51fb\u67e5\u770b\u8be6\u60c5"),J().createElement(M.Modal,{title:"\u8be6\u60c5",width:700,destroyOnClose:!0,maskClosable:!0,footer:!1,open:t,onOk:()=>{},onCancel:()=>{n(!1)}},J().createElement(Ga,e))),"detail"===e.scene&&J().createElement(Ga,e))},Za=(0,$.memo)(Qa),ei=window.__app__,ti=(0,$.memo)((e=>{const t=ei.get("modules.components.basicCommon");return J().createElement(t.CodeEditorModal,Object.assign({},e,{language:"json",buttonProps:{title:"\u7f16\u8f91JSON\u6570\u636e",type:"default"},modalProps:{title:"\u7f16\u8f91JSON",width:900},validate:function(e,t){let n=!0;if(e)try{JSON.parse(e)}catch(o){n=!1,console.error(o),M.message.error("JSON\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u68c0\u67e5")}n&&t()},value:JSON.stringify(e.value,null,2),onChange:t=>(t=>{var n;t=t?JSON.parse(t):null,null===(n=e.onChange)||void 0===n||n.call(e,t)})(t)}))})),ni=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(ti,e))},oi=window.__app__,li={TYPE:"\u9ad8\u7ea7\u5b57\u6bb5",MODULE_TYPE:"json",NAME:"JSON\u6570\u636e",ICON:J().createElement(H.ProductOutlined,null)},ai={attributes:{fieldname:void 0,title:li.NAME,tooltip:void 0,defaultValue:void 0,required:!1,requiredText:"\u8bf7\u8f93\u5165",span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},ii={valueType:"string",mongoFieldType:"Mixed",attributes:[dn({moduleType:li.MODULE_TYPE,children:[]}),un({moduleType:li.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"JsonDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}}]},_n({moduleType:li.MODULE_TYPE}),mn({moduleType:li.MODULE_TYPE,disabled:["searchPermission"]})],tableAttributes:[cn({moduleType:li.MODULE_TYPE})]};const ri={type:li.TYPE,moduleType:li.MODULE_TYPE,name:li.NAME,icon:li.ICON,data:ai,control:ii,config:{intable:!0,export:!1,button:!0,copyable:!0,textSearch:"",symbols:[]},View:ni,Setting:co,Component:ti,funcs:{formatTableFunc:function(e,t,n){let{moduleinfo:o}=t;return e?J().createElement(Za,{value:e,module:o,scene:n}):"-"}},createFunc:function(){const e=oi.uuid(li.MODULE_TYPE+"_"),t={type:li.TYPE,moduleType:li.MODULE_TYPE,moduleId:e,name:li.NAME,data:ai};return JSON.parse(JSON.stringify(t))}},si=window.__app__,di=(0,$.memo)((e=>{var t,n,o,l;const a=si.get("modules.components.basicWork");return J().createElement(a.UserTreeSelect,{options:{props:{placeholder:e.placeholder||(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.placeholder),disabled:null===(l=e.permissions)||void 0===l?void 0:l.includes("disabled"),multiple:!0}},value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t&&t.length?t:null)}})})),ui=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(di,e))},ci=(0,$.memo)(ui),mi=window.__app__,pi={TYPE:"\u9ad8\u7ea7\u5b57\u6bb5",MODULE_TYPE:"userSelect",NAME:"\u7528\u6237\u9009\u62e9",ICON:J().createElement(H.UserAddOutlined,null)},_i={attributes:{fieldname:void 0,title:pi.NAME,tooltip:void 0,placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d\u641c\u7d22",defaultValue:void 0,required:!1,requiredText:"\u8bf7\u9009\u62e9",span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:["show"]}},vi={valueType:"object",mongoFieldType:"Array[ObjectId]",attributes:[dn({moduleType:pi.MODULE_TYPE,children:[]}),un({moduleType:pi.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",formItemProps:{label:"\u8f93\u5165\u6846\u63d0\u793a",name:["attributes","placeholder"]}},{component:"UserSelectDefaultValue",formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultValue"]}}]},_n({moduleType:pi.MODULE_TYPE}),mn({moduleType:pi.MODULE_TYPE})],tableAttributes:[cn({moduleType:pi.MODULE_TYPE})]};const bi={type:pi.TYPE,moduleType:pi.MODULE_TYPE,name:pi.NAME,icon:pi.ICON,data:_i,control:vi,config:{intable:!0,export:!0,button:!0,copyable:!0,textSearch:"text",symbols:["$eq","$ne"]},View:ci,Setting:co,Component:di,funcs:{formatTableFunc:function(e,t){let{moduleinfo:n,fieldname:o,recordInfo:l}=t;const a=null===l||void 0===l?void 0:l[o+"Infos"];return J().createElement(M.Space,null,null!==a&&void 0!==a&&a.length?a.map(((e,t)=>J().createElement(Wo,Object.assign({key:t},e)))):"-")},formatTextFunc:function(e,t){let{moduleinfo:n}=t;return e?null===e||void 0===e?void 0:e.text:void 0}},createFunc:function(){const e=mi.uuid(pi.MODULE_TYPE+"_"),t={type:pi.TYPE,moduleType:pi.MODULE_TYPE,moduleId:e,name:pi.NAME,data:_i};return JSON.parse(JSON.stringify(t))}},fi=window.__app__,Ei=e=>{var t;return J().createElement(M.Space,{size:[10,10]},null===(t=e.value)||void 0===t?void 0:t.map(((e,t)=>{var n,o,l,a,i,r;return J().createElement(M.Tooltip,{key:t,title:null===(n=e.data)||void 0===n?void 0:n.name},J().createElement(M.Button,{type:"dashed",className:"flex-center",style:{width:100,height:100,padding:6,boxSizing:"border-box"}},null!==(o=e.data)&&void 0!==o&&null!==(l=o.mime_type)&&void 0!==l&&l.startsWith("image/")?J().createElement(M.Image,{style:{width:90,height:90,borderRadius:5,overflow:"hidden"},src:null===(a=(i=fi.handles).resourceUrl)||void 0===a?void 0:a.call(i,null===(r=e.data)||void 0===r?void 0:r.url)}):J().createElement("div",{style:{width:"100%",height:"100%"},className:"flex-center"},J().createElement(H.FileTwoTone,{style:{color:"#1890ff",fontSize:30}}))))})))},gi=e=>{fi.get("modules.formEditor.modules");const[t,n]=(0,$.useState)(!1);return J().createElement(J().Fragment,null,"list"===e.scene&&J().createElement(J().Fragment,null,J().createElement(M.Button,{size:"small",type:"link",onClick:e=>{n(!0)}},"\u70b9\u51fb\u67e5\u770b\u6587\u4ef6"),J().createElement(M.Modal,{title:"\u8be6\u60c5",width:700,destroyOnClose:!0,maskClosable:!0,footer:!1,open:t,onOk:()=>{},onCancel:()=>{n(!1)}},J().createElement(Ei,{value:e.value}))),"detail"===e.scene&&J().createElement(Ei,{value:e.value}))},yi=(0,$.memo)(gi),hi=window.__app__,xi=(0,$.memo)((e=>{var t,n,o,l,a;const i=hi.get("modules.components.basicWork");return J().createElement(i.UploadFile,{options:{props:{listType:"picture-card",maxCount:null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.maxCount,accept:".png,.jpg,.jpeg,.webp,.gif,.bmp",multiple:null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.multiple,disabled:null===(a=e.permissions)||void 0===a?void 0:a.includes("disabled"),showUploadList:!0,showPreviewIcon:!0,showDownloadIcon:!0}},value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t&&t.length?t:null)}})})),wi=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(xi,e))},Ii=window.__app__,Ti={TYPE:"\u9ad8\u7ea7\u5b57\u6bb5",MODULE_TYPE:"imageUpload",NAME:"\u56fe\u7247\u4e0a\u4f20",ICON:J().createElement(H.PictureOutlined,null)},Ci={attributes:{fieldname:void 0,title:Ti.NAME,tooltip:void 0,placeholder:"\u8bf7\u8f93\u5165",defaultValue:void 0,maxCount:3,multiple:!1,required:!1,requiredText:"\u8bf7\u8f93\u5165",span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},Si={valueType:"string",mongoFieldType:"Array[Mixed]",attributes:[dn({moduleType:Ti.MODULE_TYPE,children:[]}),un({moduleType:Ti.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInputNumber",formItemProps:{label:"\u4e0a\u4f20\u6570\u91cf",name:["attributes","maxCount"]},props:{min:1,step:1}}]},_n({moduleType:Ti.MODULE_TYPE}),mn({moduleType:Ti.MODULE_TYPE,disabled:["searchPermission"]})],tableAttributes:[cn({moduleType:Ti.MODULE_TYPE})]};const Oi={type:Ti.TYPE,moduleType:Ti.MODULE_TYPE,name:Ti.NAME,icon:Ti.ICON,data:Ci,control:Si,config:{intable:!0,export:!1,button:!0,copyable:!0,textSearch:"",symbols:[]},View:wi,Setting:co,Component:xi,funcs:{formatTableFunc:function(e,t,n){let{moduleinfo:o}=t;return null!==e&&void 0!==e&&e.length?J().createElement(yi,{value:e,module:o,scene:n}):"-"}},createFunc:function(){const e=Ii.uuid(Ti.MODULE_TYPE+"_"),t={type:Ti.TYPE,moduleType:Ti.MODULE_TYPE,moduleId:e,name:Ti.NAME,data:Ci};return JSON.parse(JSON.stringify(t))}},Pi=window.__app__,Mi=e=>{var t;return J().createElement(M.Space,{size:[10,10]},null===(t=e.value)||void 0===t?void 0:t.map(((e,t)=>{var n,o,l,a,i,r;return J().createElement(M.Tooltip,{key:t,title:null===(n=e.data)||void 0===n?void 0:n.name},J().createElement(M.Button,{type:"dashed",className:"flex-center",style:{width:100,height:100,padding:6,boxSizing:"border-box"}},null!==(o=e.data)&&void 0!==o&&null!==(l=o.mime_type)&&void 0!==l&&l.startsWith("image/")?J().createElement(M.Image,{style:{width:90,height:90,borderRadius:5,overflow:"hidden"},src:null===(a=(i=Pi.handles).resourceUrl)||void 0===a?void 0:a.call(i,null===(r=e.data)||void 0===r?void 0:r.url)}):J().createElement("div",{style:{width:"100%",height:"100%"},className:"flex-center"},J().createElement(H.FileTwoTone,{style:{color:"#1890ff",fontSize:30}}))))})))},ki=e=>{Pi.get("modules.formEditor.modules");const[t,n]=(0,$.useState)(!1);return J().createElement(J().Fragment,null,"list"===e.scene&&J().createElement(J().Fragment,null,J().createElement(M.Button,{size:"small",type:"link",onClick:e=>{n(!0)}},"\u70b9\u51fb\u67e5\u770b\u6587\u4ef6"),J().createElement(M.Modal,{title:"\u8be6\u60c5",width:700,destroyOnClose:!0,maskClosable:!0,footer:!1,open:t,onOk:()=>{},onCancel:()=>{n(!1)}},J().createElement(Mi,{value:e.value}))),"detail"===e.scene&&J().createElement(Mi,{value:e.value}))},Di=(0,$.memo)(ki),Ni=window.__app__,Ai=(0,$.memo)((e=>{var t,n,o,l,a;const i=Ni.get("modules.components.basicWork");return J().createElement(i.UploadFile,{options:{props:{listType:"picture",maxCount:null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.maxCount,accept:".mp4,.mov,.rmvb,.avi,.mp3,.wma,.wav,.doc,.docx,.xls,.xlsx,.ppt,.pdf,.js,.json,.jar,.zip,.gzip,.rar",multiple:null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.multiple,disabled:null===(a=e.permissions)||void 0===a?void 0:a.includes("disabled"),showUploadList:!0,showPreviewIcon:!0,showDownloadIcon:!0,itemRender:(e,t,n,o)=>J().createElement("div",{style:{marginTop:10}},J().createElement(M.Card,{styles:{body:{padding:"10px 15px"}}},J().createElement(M.Row,{gutter:15},J().createElement(M.Col,{flex:1,style:{display:"flex",alignItems:"center"}},J().createElement(M.Space,{style:{color:"#1677ff"}},J().createElement(H.FileTextOutlined,null),J().createElement("span",null,t.name))),J().createElement(M.Col,null,J().createElement(M.Space,null,J().createElement(M.Button,{icon:J().createElement(H.CloudDownloadOutlined,null),type:"text",onClick:o.download}),J().createElement(M.Button,{icon:J().createElement(H.DeleteOutlined,null),danger:!0,type:"text",onClick:o.remove}))))))}},value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t&&t.length?t:null)}},J().createElement(M.Button,{type:"default",icon:J().createElement(H.PaperClipOutlined,null)},"\u4e0a\u4f20\u6587\u4ef6"))})),Li=e=>{const{XinFormEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,customData:a,core:i,addFunc:r,config:s}=(0,$.useContext)(Kt);return J().createElement(l,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(Ai,e))},Fi=window.__app__,Ri={TYPE:"\u9ad8\u7ea7\u5b57\u6bb5",MODULE_TYPE:"fileUpload",NAME:"\u9644\u4ef6\u4e0a\u4f20",ICON:J().createElement(H.PaperClipOutlined,null)},Bi={attributes:{fieldname:void 0,title:Ri.NAME,tooltip:void 0,placeholder:"\u8bf7\u8f93\u5165",defaultValue:void 0,maxCount:3,multiple:!1,required:!1,requiredText:"\u8bf7\u8f93\u5165",span:24,width:150,createPermission:["show"],editPermission:["show"],detailPermission:["show"],listPermission:["show"],searchPermission:[]}},Vi={valueType:"string",mongoFieldType:"Array[Mixed]",attributes:[dn({moduleType:Ri.MODULE_TYPE,children:[]}),un({moduleType:Ri.MODULE_TYPE}),{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInputNumber",formItemProps:{label:"\u4e0a\u4f20\u6570\u91cf",name:["attributes","maxCount"]},props:{min:1,step:1}}]},_n({moduleType:Ri.MODULE_TYPE}),mn({moduleType:Ri.MODULE_TYPE,disabled:["searchPermission"]})],tableAttributes:[cn({moduleType:Ri.MODULE_TYPE})]};const Ui={type:Ri.TYPE,moduleType:Ri.MODULE_TYPE,name:Ri.NAME,icon:Ri.ICON,data:Bi,control:Vi,config:{intable:!0,export:!1,button:!0,copyable:!0,textSearch:"",symbols:[]},View:Li,Setting:co,Component:Ai,funcs:{formatTableFunc:function(e,t,n){let{moduleinfo:o}=t;return null!==e&&void 0!==e&&e.length?J().createElement(Di,{value:e,module:o,scene:n}):"-"}},createFunc:function(){const e=Fi.uuid(Ri.MODULE_TYPE+"_"),t={type:Ri.TYPE,moduleType:Ri.MODULE_TYPE,moduleId:e,name:Ri.NAME,data:Bi};return JSON.parse(JSON.stringify(t))}},Yi={[bo.moduleType]:bo,[Io.moduleType]:Io,[No.moduleType]:No,[zo.moduleType]:zo,[tl.moduleType]:tl,[ul.moduleType]:ul,[gl.moduleType]:gl,[Ol.moduleType]:Ol,[Fl.moduleType]:Fl,[Xl.moduleType]:Xl,[ea.moduleType]:ea,[fa.moduleType]:fa,[da.moduleType]:da,[Ia.moduleType]:Ia,[Fa.moduleType]:Fa,[Ja.moduleType]:Ja,[ri.moduleType]:ri,[bi.moduleType]:bi,[Oi.moduleType]:Oi,[Ui.moduleType]:Ui};var zi=__webpack_require__(4843),ji={};ji.styleTagTransform=q(),ji.setAttributes=U(),ji.insert=B().bind(null,"head"),ji.domAPI=F(),ji.insertStyleElement=z();A()(zi.A,ji);const qi=zi.A&&zi.A.locals?zi.A.locals:void 0,Xi=ExcelJS;var Wi=__webpack_require__.n(Xi);const Ki=FileSaver;var $i=__webpack_require__.n(Ki);const Ji=window.__app__,Hi=[{label:"20\u6761",value:20},{label:"50\u6761",value:50},{label:"100\u6761",value:100},{label:"500\u6761",value:500},{label:"1000\u6761",value:1e3},{label:"5000\u6761",value:5e3},{label:"10000\u6761",value:1e4}],Gi=(0,$.memo)((e=>{var t;Ji.get("modules.components.basicWork");const n=Ji.get("modules.components.basicCommon"),o=Ji.get("modules.formEditor.modules"),{defaultFormModules:l}=Ji.get("datas.configs.table"),[a,i]=(0,$.useState)([]),[r,s]=(0,$.useState)([]);(0,$.useEffect)((()=>{i(e.value||[])}),[e.value]),(0,$.useEffect)((()=>{var t;const n=[l._id,...(null===(t=e.tableInfo)||void 0===t?void 0:t.fields)||[],l.create_time].filter((e=>{var t,n;return null===(t=o[e.moduleType])||void 0===t||null===(n=t.config)||void 0===n?void 0:n.export})).map(((e,t)=>({label:e.data.attributes.title||e.name||"",value:e.moduleId})));s(n)}),[null===(t=e.tableInfo)||void 0===t?void 0:t.fields]);const d=t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)};return J().createElement(M.Row,{gutter:[10,10],className:qi.field_sort},J().createElement(M.Col,null,J().createElement(M.Checkbox,{style:{padding:"5px 0"},checked:r.length===a.length,onChange:e=>{const t=r.length===a.length?[]:r.map((e=>e.value));i(t),d(t)}},"\u5168\u9009")),J().createElement(M.Col,{flex:"1"},J().createElement(M.Row,{gutter:[10,10]},J().createElement(n.Sortable,{value:r,onChange:e=>{s(e);let t=e.filter((e=>a.includes(e.value)));t=t.map((e=>e.value)),d(t)},itemKeyName:"value",itemRender:e=>{let{item:t,index:n,itemProps:o,handleProps:l}=e;return J().createElement(M.Col,Object.assign({span:4},o),J().createElement(M.Button,Object.assign({},l,{block:!0,type:a.includes(t.value)?"primary":"default",onClick:e=>{let n=a.includes(t.value)?a.filter((e=>e!==t.value)):[...a,t.value];i(n),d(n)}}),J().createElement("div",{className:qi.button_text},t.label||"")))}}))))})),Qi=e=>{const t=Ji.get("modules.formEditor.modules"),{printStorageKey:n}=Ji.get("datas.configs.project"),{defaultFormModules:o}=Ji.get("datas.configs.table"),[l]=M.Form.useForm(),[a,i]=(0,$.useState)(!1),[r,s]=(0,$.useState)(!1),[d,u]=(0,$.useState)(!1),[c,m]=(0,$.useState)(),p=(0,$.useRef)([]),[_,v]=(0,$.useState)({percent:0,totalCount:0,loadedCount:0,printCount:0}),b=(0,$.useRef)(1),f=(0,$.useMemo)((()=>e.scene||"table.list"),[]),E=()=>{i(!0),m(e.tableInfo),v({percent:0,totalCount:0,loadedCount:0,printCount:0}),e.table_id&&!e.tableInfo&&h()},g=()=>{l.validateFields().then((async t=>{v({..._,printCount:t.count,printFields:t.fields}),b.current=1,p.current=[];let n=1e4;for(u(!0);n>=200&&p.current.length<t.count;){let o=t.count-p.current.length;n=await x({searchParams:t.filter&&e.searchParams,pageParams:{pageSize:o>200?200:o,current:b.current++}})}u(!1),I(t)}))},y=()=>{i(!1),l.resetFields()},h=t=>new Promise((async(t,n)=>{s(!0);const o=await Ji.xrequest.post("/api/core/table/detail",{_id:e.table_id});s(!1),m(null===o||void 0===o?void 0:o.data),t()})),x=t=>new Promise((async(n,o)=>{var l,a;const i=await Ji.xrequest.post("/api/core/table/record/list",{filter:{table_id:e.table_id,...t.searchParams||{}},sort:{create_time:-1},...t.pageParams||{}}),r=w((null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.data)||[]);p.current.push(...r);const s=(null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.count)||0;v({..._,totalCount:s,loadedCount:_.loadedCount+r.length}),n(r.length)})),w=e=>(e=e.map(((e,n)=>{var o;return{_id:e._id,...Object.fromEntries(null===c||void 0===c||null===(o=c.fields)||void 0===o?void 0:o.map((n=>{var o;const l=e[n.moduleId],a=t[n.moduleType],i=null===a||void 0===a||null===(o=a.funcs)||void 0===o?void 0:o.formatTextFunc;return[n.moduleId,i?i(l,{moduleinfo:n}):l]}))),create_time:re()(e.create_time).format("YYYY-MM-DD HH:mm:ss")}})),e),I=async(e,l)=>{const a={fields:[o._id,...(null===c||void 0===c?void 0:c.fields)||[],o.create_time].filter((n=>{var o,l;return(null===(o=t[n.moduleType])||void 0===o||null===(l=o.config)||void 0===l?void 0:l.export)&&e.fields.includes(n.moduleId)})).map(((e,t)=>({label:e.data.attributes.title||e.name||"",value:e.moduleId}))),records:p.current};try{window.localStorage.setItem(n,JSON.stringify(a)),window.open("/#/common/print")}catch(i){M.message.error("\u6570\u636e\u91cf\u8fc7\u5927\uff0c\u5bfc\u51fa\u5931\u8d25")}};return J().createElement(J().Fragment,null,J().createElement(M.Button,Object.assign({},e.buttonProps,{onClick:e=>E()}),e.children),J().createElement(M.Modal,{title:"\u6253\u5370\u914d\u7f6e",width:1100,destroyOnClose:!0,maskClosable:!1,footer:J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{flex:"1"},J().createElement(M.Row,{gutter:[10,10],style:{lineHeight:"34px",display:!d&&"none"}},J().createElement(M.Col,null,J().createElement("div",null,"\u6253\u5370\u8fdb\u5ea6\uff1a")),J().createElement(M.Col,{span:10},J().createElement(M.Progress,{percent:100*_.loadedCount/_.printCount})),J().createElement(M.Col,null,J().createElement("div",null,"\u67e5\u8be2\u5230\u6570\u636e\uff1a",_.totalCount||0," \u6761\uff0c\u5df2\u4e0b\u8f7d\uff1a",_.loadedCount||0," \u6761")))),J().createElement(M.Col,null,J().createElement(M.Button,{onClick:e=>y()},"\u53d6\u6d88")),J().createElement(M.Col,null,J().createElement(M.Button,{type:"primary",loading:d,onClick:e=>g()},"\u786e\u5b9a"))),open:a,onOk:g,onCancel:y},J().createElement(M.Form,{style:{margin:"20px 0"},form:l,labelCol:{span:2},layout:"horizontal",labelAlign:"left"},J().createElement(M.Row,{gutter:[10,10]},"table.list"===f&&J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8fc7\u6ee4\u6570\u636e",name:"filter",tooltip:"\u662f\u5426\u4f7f\u7528\u9875\u9762\u4e0a\u5df2\u9009\u62e9\u7684\u6761\u4ef6\u8fc7\u6ee4\u6570\u636e\uff1f",initialValue:!1},J().createElement(M.Radio.Group,{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}],optionType:"button",buttonStyle:"solid"}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u9009\u62e9\u5b57\u6bb5",name:"fields",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6253\u5370\u5b57\u6bb5"}]},J().createElement(Gi,{tableInfo:c}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u6253\u5370\u6570\u91cf",name:"count",initialValue:20},J().createElement(M.Radio.Group,{options:Hi,optionType:"button",buttonStyle:"solid"})))))))},Zi=(0,$.memo)(Qi),er=window.__app__,tr=(0,ae.observer)((e=>{const t=er.get("modules.formEditor.modules"),n=er.get("modules.components.basicCommon"),{platformName:o}=er.get("datas.configs.project"),[l]=M.Form.useForm(),[a,i]=(0,$.useState)(!1),[r,s]=(0,$.useState)(!1),[d,u]=(0,$.useState)(!1),[c,m]=(0,$.useState)(),[p,_]=(0,$.useState)(0),[v,b]=(0,$.useState)([]),[f,E]=(0,$.useState)(0),[g,y]=(0,$.useState)({}),h=((0,$.useMemo)((()=>e.scene||"table.list"),[]),(0,$.useMemo)((()=>{var e;const n=v&&(null===(e=v[f])||void 0===e?void 0:e.data[0])||{};let o=(null===c||void 0===c?void 0:c.fields)||[];return o=o.filter((e=>{var n;const o=t[e.moduleType];return null===o||void 0===o||null===(n=o.config)||void 0===n?void 0:n.export})),Object.keys(n).map(((e,t)=>({title:n[e],dataIndex:e,width:150,render:(t,n,l,a)=>0===l?J().createElement(M.Select,{style:{width:"100%"},options:o.map((e=>{var t,n;return{label:(null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.title)||e.name,value:e.moduleId}})),placeholder:"\u8bf7\u9009\u62e9\u5b57\u6bb5",value:g[e],onChange:t=>{y({...g,[e]:t})}}):t})))}),[v,f,g,null===c||void 0===c?void 0:c.fields])),x=(0,$.useMemo)((()=>{var e;return(v&&(null===(e=v[f])||void 0===e?void 0:e.data)||[]).slice(1)}),[v,f]),w=()=>{_(p+1)},I=()=>{p<=3&&w()},T=t=>new Promise((async(t,n)=>{s(!0);const o=await er.xrequest.post("/api/core/table/detail",{_id:e.table_id});s(!1),m(null===o||void 0===o?void 0:o.data),t()})),C=e=>e.map(((e,t)=>({label:e.name,value:t,data:e.rows.map(((e,t)=>{let n={};return e.forEach(((e,t)=>{n["column"+t]=e})),n}))}))),S=e=>new Promise((async(t,n)=>{const o=new(Wi().Workbook);await o.xlsx.load(e);t(await O(o))})),O=e=>new Promise(((t,n)=>{t((e.worksheets||[]).map(((t,n)=>{const o=e.getWorksheet(n+1);let l=[];return o.eachRow(((e,t)=>{let n=[];e.eachCell(((e,t)=>{n.push(e.value)})),l.push(n)})),{name:o.name,index:n,rows:l}})))})),P=e=>new Promise(((t,n)=>{const o=new FileReader;o.onload=e=>{const n=e.target.result;t(n)},o.readAsArrayBuffer(e)})),k=async()=>{let e=(null===c||void 0===c?void 0:c.fields)||[];e=e.filter((e=>{var n;const o=t[e.moduleType];return null===o||void 0===o||null===(n=o.config)||void 0===n?void 0:n.export})),e=e.map((e=>({label:e.data.attributes.title||e.name||"",value:e.moduleId})))||[];let n=(null===c||void 0===c?void 0:c.name)+"-\u5bfc\u5165\u6a21\u677f";const l=new(Wi().Workbook);l.creator=o,l.lastModifiedBy=o,l.created=new Date,l.modified=new Date,l.lastPrinted=new Date,l.properties.date1904=!0;l.addWorksheet((null===c||void 0===c?void 0:c.name)||"Sheet1").columns=e.map((e=>({header:e.label,key:e.value,width:35})));const a=await l.xlsx.writeBuffer(),i=new Blob([a],{type:"text/xlsx,charset=UTF-8"});$i().saveAs(i,n+".xlsx")};return J().createElement(J().Fragment,null,J().createElement(M.Button,Object.assign({},e.buttonProps,{onClick:t=>(i(!0),m(e.tableInfo),void(e.table_id&&!e.tableInfo&&T()))}),e.children),J().createElement(M.Modal,{title:"\u5bfc\u5165\u914d\u7f6e",width:1100,destroyOnClose:!0,maskClosable:!1,footer:J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,null,J().createElement(M.Button,{type:"link",icon:J().createElement(H.DownloadOutlined,null),onClick:e=>{k()}},"\u4e0b\u8f7d\u6570\u636e\u5bfc\u5165\u6a21\u677f")),J().createElement(M.Col,{flex:"1"}),p>0&&J().createElement(M.Col,null,J().createElement(M.Button,{onClick:e=>{_(p-1)}},"\u4e0a\u4e00\u6b65")),J().createElement(M.Col,null,J().createElement(M.Button,{type:"primary",loading:d,onClick:e=>I()},3===p?"\u786e\u5b9a":"\u4e0b\u4e00\u6b65"))),open:a,onOk:I,onCancel:()=>{i(!1),l.resetFields()}},J().createElement(n.Steps,{value:p,size:"small",headStyle:{padding:"0 200px 10px 200px"}},J().createElement(n.Steps.Item,{title:"\u9009\u62e9\u6587\u4ef6"},J().createElement(M.Upload.Dragger,{name:"file",accept:".xlsx, .xls",fileList:[],customRequest:async e=>{const t=e.file,n=await P(t);let o=await S(n);o=C(o),console.log(o),b(o),w()}},J().createElement("div",{style:{padding:20}},J().createElement("div",{style:{textAlign:"center"}},J().createElement(H.UploadOutlined,{style:{color:"#1677ff",fontSize:40,fontWeight:"bold"}})),J().createElement("div",{style:{marginTop:10}},"\u70b9\u51fb\u6216\u8005\u62d6\u52a8\u6587\u4ef6\u5230\u865a\u7ebf\u6846\u5185\u4e0a\u4f20"),J().createElement("div",{style:{color:"#aaaaaa",fontSize:14}},"\u652f\u63011M\u4ee5\u5185\u7684 .xlsx \u7c7b\u578b\u7684\u6587\u4ef6\uff1b\u5355\u6b21\u4e0a\u4f20\u6700\u591a\u652f\u63015000\u6761\u6570\u636e"),J().createElement("div",{style:{color:"#aaaaaa",fontSize:14}})))),J().createElement(n.Steps.Item,{title:"\u6570\u636e\u9884\u89c8"},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:8},J().createElement(M.Select,{style:{width:"100%"},options:v,value:f,onChange:e=>{E(e)}})),J().createElement(M.Col,{span:24},J().createElement(M.Table,{size:"small",columns:h,dataSource:x,bordered:!0,scroll:{x:600,y:300},rowKey:e=>Math.random(),locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1})))),J().createElement(n.Steps.Item,{title:"\u5bfc\u5165\u8bbe\u7f6e"},J().createElement(M.Form,{style:{margin:"20px 0"},form:l,labelCol:{span:2},layout:"vertical",labelAlign:"left"},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:8},J().createElement(M.Form.Item,{label:"\u662f\u5426\u6570\u636e\u6821\u9a8c",name:"fields",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},J().createElement(M.Input,null))),J().createElement(M.Col,{span:8},J().createElement(M.Form.Item,{label:"\u9009\u62e9\u5b57\u6bb5",name:"fields1",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},J().createElement(M.Input,null)))))),J().createElement(n.Steps.Item,{title:"\u5bfc\u5165\u8fdb\u5ea6"},"\u5bfc\u5165\u8fdb\u5ea6\u5185\u5bb9"))))})),nr=window.__app__,or=((0,ae.observer)((e=>{var t;nr.get("modules.components.basicWork");const n=nr.get("modules.components.basicCommon"),o=nr.get("modules.formEditor.modules"),{defaultFormModules:l}=nr.get("datas.configs.table"),[a,i]=(0,$.useState)([]),[r,s]=(0,$.useState)([]);(0,$.useEffect)((()=>{i(e.value||[])}),[e.value]),(0,$.useEffect)((()=>{var t;const n=[l._id,...(null===(t=e.tableInfo)||void 0===t?void 0:t.fields)||[],l.create_time].filter((e=>{var t,n;return null===(t=o[e.moduleType])||void 0===t||null===(n=t.config)||void 0===n?void 0:n.export})).map(((e,t)=>({label:e.data.attributes.title||e.name||"",value:e.moduleId})));s(n)}),[null===(t=e.tableInfo)||void 0===t?void 0:t.fields]);const d=t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)};return J().createElement(M.Row,{gutter:[10,10],className:qi.field_sort},J().createElement(M.Col,null,J().createElement(M.Checkbox,{style:{padding:"5px 0"},checked:r.length===a.length,onChange:e=>{const t=r.length===a.length?[]:r.map((e=>e.value));i(t),d(t)}},"\u5168\u9009")),J().createElement(M.Col,{flex:"1"},J().createElement(M.Row,{gutter:[10,10]},J().createElement(n.Sortable,{value:r,onChange:e=>{s(e);let t=e.filter((e=>a.includes(e.value)));t=t.map((e=>e.value)),d(t)},itemKeyName:"value",itemRender:e=>{let{item:t,index:n,itemProps:o,handleProps:l}=e;return J().createElement(M.Col,Object.assign({span:4},o),J().createElement(M.Button,Object.assign({},l,{block:!0,type:a.includes(t.value)?"primary":"default",onClick:e=>{let n=a.includes(t.value)?a.filter((e=>e!==t.value)):[...a,t.value];i(n),d(n)}}),J().createElement("div",{className:qi.button_text},t.label||"")))}}))))})),e=>{nr.get("modules.formEditor.modules");const{platformName:t}=nr.get("datas.configs.project"),{defaultFormModules:n}=nr.get("datas.configs.table"),[o]=M.Form.useForm(),[l,a]=(0,$.useState)(!1),[i,r]=(0,$.useState)(!1),[s,d]=(0,$.useState)(!1),[u,c]=(0,$.useState)(),[m,p]=((0,$.useRef)([]),(0,$.useState)({totalCount:0,loadedCount:0})),_=((0,$.useMemo)((()=>e.scene||"table.list"),[]),()=>{a(!0),c(e.tableInfo),p({totalCount:0,loadedCount:0}),e.table_id&&!e.tableInfo&&E()}),v=()=>{o.validateFields().then((async e=>{b(e)}))},b=async t=>{const n=[];let o=1;let l=0,a=0;for(d(!0);;){var i,r;const t=await nr.xrequest.post("/api/core/table/record/list",{filter:{table_id:e.table_id},current:o,pageSize:200,sort:{create_time:1}}),s=(null===(i=t.data)||void 0===i?void 0:i.data)||[],d=(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.count)||0;if(1===o&&d&&(l=d),n.push(...s),a+=s.length,p({totalCount:l,loadedCount:a}),await new Promise((e=>setTimeout(e,50))),s.length<200)break;o++}d(!1),"json"===t.fileExt&&g(n)},f=()=>{a(!1),o.resetFields()},E=t=>new Promise((async(t,n)=>{r(!0);const o=await nr.xrequest.post("/api/core/table/detail",{_id:e.table_id});r(!1),c(null===o||void 0===o?void 0:o.data),t()})),g=async t=>{t=Object.values(t.reduce(((e,t)=>(e[t._id]=t,e)),{}));try{var n;const o=new Blob([JSON.stringify(t)],{type:"application/json"});$i().saveAs(o,(null===(n=e.tableInfo)||void 0===n?void 0:n.tablename)+"_"+re()().format("YYYYMMDDHHmmss")+".json"),M.message.success("\u5bfc\u51fa\u6210\u529f"),f()}catch(o){console.error("\u274c \u89e6\u53d1\u4e0b\u8f7d\u5931\u8d25\uff1a",o),M.message.error("\u5bfc\u51fa\u5931\u8d25")}};return J().createElement(J().Fragment,null,J().createElement(M.Button,Object.assign({},e.buttonProps,{onClick:e=>_()}),e.children),J().createElement(M.Modal,{title:"\u5bfc\u51fa\u914d\u7f6e",width:500,destroyOnClose:!0,maskClosable:!1,footer:J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{flex:"1"},J().createElement(M.Row,{gutter:[10,10],style:{lineHeight:"34px",display:!s&&"none"}},J().createElement(M.Col,null,J().createElement("div",null,"\u5bfc\u51fa\u8fdb\u5ea6\uff1a")),J().createElement(M.Col,{span:10},J().createElement(M.Progress,{percent:100*m.loadedCount/m.totalCount})),J().createElement(M.Col,null,J().createElement("div",null,"\u67e5\u8be2\u5230\u6570\u636e\uff1a",m.totalCount||0," \u6761\uff0c\u5df2\u4e0b\u8f7d\uff1a",m.loadedCount||0," \u6761")))),J().createElement(M.Col,null,J().createElement(M.Button,{onClick:e=>f()},"\u53d6\u6d88")),J().createElement(M.Col,null,J().createElement(M.Button,{type:"primary",loading:s,onClick:e=>v()},"\u786e\u5b9a"))),open:l,onOk:v,onCancel:f},J().createElement(M.Form,{style:{margin:"30px 0 20px 0"},form:o,labelCol:{span:6},layout:"horizontal",labelAlign:"right"},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:22},J().createElement(M.Form.Item,{label:"\u5bfc\u51fa\u683c\u5f0f",name:"fileExt",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}],initialValue:"json"},J().createElement(M.Select,{options:[{label:"JSON",value:"json"}],placeholder:"\u8bf7\u9009\u62e9"}))),J().createElement(M.Col,{span:22},J().createElement("span",{style:{color:"red"}},"\u5bfc\u51fa\u6570\u636e\u65f6\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u4e0d\u8981\u4e71\u52a8\uff0c\u5426\u5219\u4f1a\u5bfc\u51fa\u5931\u8d25\uff01"))))))}),lr=(0,$.memo)(or),ar=window.__app__,ir=e=>{ar.get("modules.formEditor.modules");const{platformName:t}=ar.get("datas.configs.project"),{defaultFormModules:n}=ar.get("datas.configs.table"),[o]=M.Form.useForm(),[l,a]=(0,$.useState)(!1),[i,r]=(0,$.useState)(!1),[s,d]=(0,$.useState)(!1),[u,c]=(0,$.useState)(),[m,p]=(0,$.useState)(),[_,v]=(0,$.useState)({totalCount:0,addedCount:0}),b=((0,$.useMemo)((()=>e.scene||"table.list"),[]),()=>{a(!0),c(e.tableInfo),v({totalCount:0,addedCount:0}),e.table_id&&!e.tableInfo&&h()}),f=()=>{o.validateFields().then((async t=>{if(!m)return void M.message.warning("\u8bf7\u5148\u9009\u62e9\u4e00\u4e2a JSON \u6587\u4ef6");const n=(await E()).map((t=>({...t,table_id:e.table_id,project_id:ar.get("datas.project_id")})));g(n)}))},E=async()=>new Promise(((e,t)=>{const n=new FileReader;n.onload=t=>{try{const n=t.target.result,o=JSON.parse(n);e(o)}catch(n){e([]),M.message.error("\u6587\u4ef6\u683c\u5f0f\u9519\u8bef\uff0c\u89e3\u6790\u5931\u8d25 \u274c")}},n.onerror=()=>{M.message.error("\u6587\u4ef6\u8bfb\u53d6\u5931\u8d25"),e([])},n.readAsText(m)})),g=async t=>{let n=1;const o=t.length;let l=0;for(d(!0);l<o;){const d=200*(n-1),m=d+200,p=t.slice(d,m);try{var a,i,r,s,u;const t=await ar.xrequest.post("/api/core/table/record/import",{filter:{table_id:e.table_id},data:{records:p}});l+=null!==(a=null!==(i=null===(r=t.data)||void 0===r?void 0:r.insertedCount)&&void 0!==i?i:null===(s=t.data)||void 0===s||null===(u=s.result)||void 0===u?void 0:u.insertedCount)&&void 0!==a?a:0,v({totalCount:o,addedCount:l})}catch(c){console.error("\u7b2c ".concat(n," \u6279\u5bfc\u5165\u5931\u8d25"),c)}if(await new Promise((e=>setTimeout(e,100))),d>=o)break;n++}d(!1),M.message.success("\u5bfc\u5165\u5b8c\u6210\uff0c\u6210\u529f\u5bfc\u5165 ".concat(l,"/").concat(o," \u6761")),y()},y=()=>{var t;a(!1),o.resetFields(),null===(t=e.refresh)||void 0===t||t.call(e)},h=t=>new Promise((async(t,n)=>{r(!0);const o=await ar.xrequest.post("/api/core/table/detail",{_id:e.table_id});r(!1),c(null===o||void 0===o?void 0:o.data),t()}));return J().createElement(J().Fragment,null,J().createElement(M.Button,Object.assign({},e.buttonProps,{onClick:e=>b()}),e.children),J().createElement(M.Modal,{title:"\u5bfc\u5165\u6570\u636e",width:500,destroyOnClose:!0,maskClosable:!1,footer:J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{flex:"1"},J().createElement(M.Row,{gutter:[10,10],style:{lineHeight:"34px",display:!s&&"none"}},J().createElement(M.Col,null,J().createElement("div",null,"\u5bfc\u5165\u8fdb\u5ea6\uff1a")),J().createElement(M.Col,{span:10},J().createElement(M.Progress,{percent:100*_.addedCount/_.totalCount})),J().createElement(M.Col,null,J().createElement("div",null,"\u5bfc\u5165\u6570\u636e\uff1a",_.totalCount||0," \u6761\uff0c\u5df2\u5bfc\u5165\uff1a",_.addedCount||0," \u6761")))),J().createElement(M.Col,null,J().createElement(M.Button,{onClick:e=>y()},"\u53d6\u6d88")),J().createElement(M.Col,null,J().createElement(M.Button,{type:"primary",loading:s,onClick:e=>f()},"\u786e\u5b9a"))),open:l,onOk:f,onCancel:y},J().createElement(M.Form,{style:{margin:"30px 0 20px 0"},form:o,labelCol:{span:6},layout:"horizontal",labelAlign:"right"},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:22},J().createElement(M.Form.Item,{label:"JSON\u6587\u4ef6",name:"file",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}],initialValue:"json"},J().createElement(M.Upload,{accept:".json",beforeUpload:e=>(p(e),!1),onRemove:e=>{p()},maxCount:1},J().createElement(M.Button,{icon:J().createElement(H.UploadOutlined,null)},"\u70b9\u51fb\u9009\u62e9\u6587\u4ef6")))),J().createElement(M.Col,{span:22},J().createElement("span",{style:{color:"red"}},"1. \u5bfc\u5165\u6570\u636e\u524d\uff0c\u8bf7\u81ea\u884c\u786e\u8ba4\u6570\u636e\u4e0e\u6570\u636e\u8868\u5b57\u6bb5\u683c\u5f0f\u662f\u5426\u4e00\u81f4\u4e14\u6b63\u786e\u3002\u5982\u679c\u4e0d\u77e5\u9053\u5bfc\u5165\u683c\u5f0f\uff0c\u53ef\u4ee5\u5148\u5bfc\u51fa\u6570\u636e\u67e5\u770b\uff0c\u4e4b\u540e\u8f6c\u6362\u683c\u5f0f\u518d\u5bfc\u5165\u3002")),J().createElement(M.Col,{span:22},J().createElement("span",{style:{color:"red"}},"2. \u91cd\u590d\u6570\u636e\u5904\u7406\uff1a\u5728\u6b64\u662f\u6307_id\u91cd\u590d\u7684\u60c5\u51b5\u3002\u5982\u679c\u60a8\u7684\u6570\u636e\u4e0d\u5e26_id\uff0c\u5219\u7cfb\u7edf\u81ea\u52a8\u751f\u6210\u3002\u5982\u679c\u5e26_id\uff0c\u5219\u53ef\u80fd\u53d1\u751f\u91cd\u590d\u7684\u60c5\u51b5\uff0c\u6781\u5927\u6982\u7387\u662f\u91cd\u590d\u5bfc\u5165\u5bfc\u81f4\u3002_id\u91cd\u590d\u6982\u7387\u6781\u4f4e\uff0c\u5b8c\u5168\u53ef\u4ee5\u88ab\u4fe1\u4efb\u3002\u5982\u679c\u771f\u7684\u91cd\u590d\u4e86\uff0c\u7cfb\u7edf\u4f1a\u8df3\u8fc7\u91cd\u590d\u8bb0\u5f55\u3002")),J().createElement(M.Col,{span:22},J().createElement("span",{style:{color:"red"}},"3. \u5c0f\u6280\u5de7\uff1a\u5982\u679c\u4e0d\u719f\u6089\u7684\u8bdd\uff0c\u5efa\u8bae\u5148\u52a0\u4e00\u4e2a\u5b57\u6bb5\u4f5c\u4e3a\u201d\u5bfc\u5165\u7248\u672c\u6807\u8bc6\u201c\uff0c\u5982\u679c\u53d1\u73b0\u5bfc\u5165\u4e0d\u7b26\u9700\u6c42\uff0c\u53ef\u4ee5\u6309\u6b64\u5b57\u6bb5\u6279\u91cf\u5220\u9664\u6570\u636e\u3002")),J().createElement(M.Col,{span:22},J().createElement("span",{style:{color:"red"}},"4. \u5bfc\u5165\u6570\u636e\u65f6\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u6570\u636e\u91cf\u5927\u9700\u8981\u7684\u65f6\u95f4\u4e5f\u591a\uff1b\u4e0d\u8981\u4e71\u52a8\uff0c\u5426\u5219\u4f1a\u5bfc\u5165\u5931\u8d25\uff01"))))))},rr=(0,$.memo)(ir),sr=window.__app__,dr=e=>{sr.get("modules.formEditor.modules");const{platformName:t}=sr.get("datas.configs.project"),{defaultFormModules:n}=sr.get("datas.configs.table"),[o]=M.Form.useForm(),[l,a]=(0,$.useState)(!1),[i,r]=(0,$.useState)(!1),[s,d]=(0,$.useState)(!1),[u,c]=(0,$.useState)(),[m,p]=((0,$.useRef)([]),(0,$.useState)({totalCount:0,loadedCount:0})),_=((0,$.useMemo)((()=>e.scene||"table.list"),[]),()=>{a(!0),c(e.tableInfo),p({totalCount:0,loadedCount:0}),e.table_id&&!e.tableInfo&&E()}),v=()=>{o.validateFields().then((async e=>{b(e)}))},b=async t=>{const n=[];let o=1;let l=0,a=0;for(d(!0);;){var i,r;const t=await sr.xrequest.post("/api/core/table/record/export",{filter:{table_id:e.table_id},current:o,pageSize:200}),s=(null===(i=t.data)||void 0===i?void 0:i.data)||[],d=(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.count)||0;if(1===o&&d&&(l=d),n.push(...s),a+=s.length,p({totalCount:l,loadedCount:a}),await new Promise((e=>setTimeout(e,50))),s.length<200)break;o++}d(!1),"json"===t.fileExt&&g(n)},f=()=>{var t;a(!1),o.resetFields(),null===(t=e.refresh)||void 0===t||t.call(e)},E=t=>new Promise((async(t,n)=>{r(!0);const o=await sr.xrequest.post("/api/core/table/detail",{_id:e.table_id});r(!1),c(null===o||void 0===o?void 0:o.data),t()})),g=async t=>{t=Object.values(t.reduce(((e,t)=>(e[t._id]=t,e)),{}));try{var n;const o=new Blob([JSON.stringify(t)],{type:"application/json"});$i().saveAs(o,(null===(n=e.tableInfo)||void 0===n?void 0:n.tablename)+"_"+re()().format("YYYYMMDDHHmmss")+".json"),M.message.success("\u5bfc\u51fa\u6210\u529f"),f()}catch(o){console.error("\u274c \u89e6\u53d1\u4e0b\u8f7d\u5931\u8d25\uff1a",o),M.message.error("\u5bfc\u51fa\u5931\u8d25")}};return J().createElement(J().Fragment,null,J().createElement(M.Button,Object.assign({},e.buttonProps,{onClick:e=>_()}),e.children),J().createElement(M.Modal,{title:"\u5bfc\u51fa\u6570\u636e",width:500,destroyOnClose:!0,maskClosable:!1,footer:J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{flex:"1"},J().createElement(M.Row,{gutter:[10,10],style:{lineHeight:"34px",display:!s&&"none"}},J().createElement(M.Col,null,J().createElement("div",null,"\u5bfc\u51fa\u8fdb\u5ea6\uff1a")),J().createElement(M.Col,{span:10},J().createElement(M.Progress,{percent:100*m.loadedCount/m.totalCount})),J().createElement(M.Col,null,J().createElement("div",null,"\u67e5\u8be2\u5230\u6570\u636e\uff1a",m.totalCount||0," \u6761\uff0c\u5df2\u4e0b\u8f7d\uff1a",m.loadedCount||0," \u6761")))),J().createElement(M.Col,null,J().createElement(M.Button,{onClick:e=>f()},"\u53d6\u6d88")),J().createElement(M.Col,null,J().createElement(M.Button,{type:"primary",loading:s,onClick:e=>v()},"\u786e\u5b9a"))),open:l,onOk:v,onCancel:f},J().createElement(M.Form,{style:{margin:"30px 0 20px 0"},form:o,labelCol:{span:6},layout:"horizontal",labelAlign:"right"},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:22},J().createElement(M.Form.Item,{label:"\u5bfc\u51fa\u683c\u5f0f",name:"fileExt",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}],initialValue:"json"},J().createElement(M.Select,{options:[{label:"JSON",value:"json"}],placeholder:"\u8bf7\u9009\u62e9"}))),J().createElement(M.Col,{span:22},J().createElement("span",{style:{color:"red"}},"\u5bfc\u51fa\u6570\u636e\u65f6\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u4e0d\u8981\u4e71\u52a8\uff0c\u5426\u5219\u4f1a\u5bfc\u51fa\u5931\u8d25\uff01"))))))},ur=(0,$.memo)(dr),cr=window.__app__,mr={create:{title:"\u65b0\u589e\u6570\u636e",okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88"},edit:{title:"\u7f16\u8f91\u6570\u636e",okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88"},detail:{title:"\u6570\u636e\u8be6\u60c5",okText:"",cancelText:"\u5173\u95ed"}},pr=(0,ae.observer)((0,$.forwardRef)(((e,t)=>{var n,o,l;(0,$.useImperativeHandle)(t,(()=>({onOk:s})));const{FormView:a}=cr.get("modules.formEditor"),i=(0,$.useRef)(),r=((0,$.useRef)(),(0,$.useMemo)((()=>{var t;const n=(null===(t=e.tableInfo)||void 0===t?void 0:t.fields)||[];let o;return o="create"===e.scene||"edit"===e.scene?n.map((t=>[t.moduleId,t.data.attributes[e.scene+"Permission"]||[]])):"detail"===e.scene?n.map((t=>[t.moduleId,(t.data.attributes[e.scene+"Permission"]||[]).concat(["readOnly"])])):n.map((e=>[e.moduleId,["readOnly"]])),Object.fromEntries(o)}),[e.scene,null===(n=e.tableInfo)||void 0===n?void 0:n.fields])),s=((0,$.useMemo)((()=>{var t;return(null===(t=e.tableInfo)||void 0===t?void 0:t.screen_status)&&e.formSenior}),[e.formSenior,null===(o=e.tableInfo)||void 0===o?void 0:o.screen_status]),()=>{var t;null===(t=i.current)||void 0===t||t.getValues().then((t=>{switch(e.scene){case"create":d(t);break;case"edit":u(t)}}))}),d=async t=>{var n;e.setconfirmLoading(!0);const o=await cr.xrequest.post("/api/core/table/record/add",{table_id:null===(n=e.tableInfo)||void 0===n?void 0:n._id,...t||{}});var l;(e.setconfirmLoading(!1),o)&&(M.message.success("\u65b0\u589e\u6210\u529f"),e.onCancel(),null===(l=e.callback)||void 0===l||l.call(e,e.scene,null===o||void 0===o?void 0:o.data))},u=async t=>{var n,o;e.setconfirmLoading(!0);const l=await cr.xrequest.post("/api/core/table/record/update",{filter:{_id:null===(n=e.record)||void 0===n?void 0:n._id,table_id:null===(o=e.tableInfo)||void 0===o?void 0:o._id},data:{...t||{}}});var a;(e.setconfirmLoading(!1),l)&&(M.message.success("\u7f16\u8f91\u6210\u529f"),e.onCancel(),null===(a=e.callback)||void 0===a||a.call(e,e.scene,l.data))};return J().createElement("div",{style:{padding:16}},J().createElement(a,{ref:i,scene:e.scene,customData:(null===(l=e.tableInfo)||void 0===l?void 0:l.fields)||[],initialValues:e.initialValues||e.record,record:e.record,permissions:r,footer:!1,onCancel:e.onCancel,onOk:s}))}))),_r=(0,ae.observer)((e=>{var t,n,o,l,a,i,r;cr.get("contexts.app");const s=(0,$.useRef)(),d=(0,$.useRef)(),[u,c]=(0,$.useState)(!1),[m,p]=(0,$.useState)(!1),_=(0,$.useMemo)((()=>{var t;return(null===(t=e.tableInfo)||void 0===t?void 0:t.screen_status)&&e.formSenior}),[e.formSenior,null===(t=e.tableInfo)||void 0===t?void 0:t.screen_status]),v=()=>{var e;null===(e=d.current)||void 0===e||e.onOk()},b=()=>{var t;null===(t=e.refresh)||void 0===t||t.call(e),c(!1)};return J().createElement(J().Fragment,null,J().createElement("div",{ref:s,style:{display:"inline-block",zIndex:1e4}}),J().createElement(M.Tooltip,{title:null===(n=e.buttonProps)||void 0===n?void 0:n.tooltip},J().createElement(M.Button,Object.assign({},e.buttonProps,{onClick:e=>(async()=>{c(!0)})()}),e.children)),J().createElement(M.Drawer,{title:(null===(o=mr[e.scene])||void 0===o?void 0:o.title)||"\u6807\u9898",width:900,getContainer:()=>{var t;return null!==(t=e.modalProps)&&void 0!==t&&t.inContainer?s.current:document.body},closable:!1,placement:"right",destroyOnClose:!0,styles:{body:{padding:0},header:{padding:"10px 16px"}},extra:J().createElement(M.Space,{size:[10,10]},J().createElement(M.Button,{type:"default",icon:J().createElement(H.CloseOutlined,null),onClick:b})),open:u,footer:!_&&J().createElement(M.Row,null,J().createElement(M.Col,{flex:1}),J().createElement(M.Col,null,J().createElement(M.Space,{key:"actions"},(null===(l=mr[e.scene])||void 0===l?void 0:l.cancelText)&&J().createElement(M.Button,{key:"cancel",onClick:e=>b()},null===(a=mr[e.scene])||void 0===a?void 0:a.cancelText),(null===(i=mr[e.scene])||void 0===i?void 0:i.okText)&&J().createElement(M.Button,{key:"ok",type:"primary",loading:m,onClick:e=>v()},null===(r=mr[e.scene])||void 0===r?void 0:r.okText)))),onOk:v,onClose:b},J().createElement(pr,Object.assign({},e,{ref:d,setconfirmLoading:p,setshowModal:c,onCancel:b}))))})),vr=_r,br=window.__app__,fr=(0,ae.observer)((e=>{br.get("contexts.app");return J().createElement(M.Popconfirm,{title:"\u5220\u9664\u786e\u8ba4",description:"\u60a8\u786e\u8ba4\u5220\u9664\u5f53\u524d\u6570\u636e\uff1f",onConfirm:async t=>{var n,o;const l=await br.xrequest.post("/api/core/table/record/update",{filter:{_id:null===(n=e.record)||void 0===n?void 0:n._id,table_id:null===(o=e.tableInfo)||void 0===o?void 0:o._id},data:{status:!1}});var a,i;l&&(M.message.success("\u5220\u9664\u6210\u529f"),null===(a=e.refresh)||void 0===a||a.call(e),null===(i=e.callback)||void 0===i||i.call(e,e.scene||"delete",l.data))},placement:"topRight",overlayInnerStyle:{width:270},onCancel:e=>{},okText:"\u5220\u9664",okButtonProps:{danger:!0},cancelText:"\u53d6\u6d88"},J().createElement(M.Button,e.buttonProps,e.children))})),Er=fr,gr=window.__app__,yr={delete:"\u6c38\u4e45\u5220\u9664",recover:"\u6062\u590d"},hr=(0,ae.observer)((e=>{gr.get("contexts.app");return J().createElement(M.Popconfirm,{title:yr[e.scene]+"\u786e\u8ba4",description:"\u60a8\u786e\u8ba4".concat(yr[e.scene],"\u5f53\u524d\u6570\u636e\uff1f"),onConfirm:async t=>{"delete"===e.scene?(async()=>{var t,n;const o=await gr.xrequest.post("/api/core/table/record/delete",{_id:null===(t=e.record)||void 0===t?void 0:t._id,table_id:null===(n=e.tableInfo)||void 0===n?void 0:n._id});var l,a;o&&(M.message.success("\u5220\u9664\u6210\u529f"),null===(l=e.refresh)||void 0===l||l.call(e),null===(a=e.callback)||void 0===a||a.call(e,e.scene||"delete",null===o||void 0===o?void 0:o.data))})():(async()=>{var t,n;const o=await gr.xrequest.post("/api/core/table/record/update",{filter:{_id:null===(t=e.record)||void 0===t?void 0:t._id,table_id:null===(n=e.tableInfo)||void 0===n?void 0:n._id},data:{status:!0}});var l,a;o&&(M.message.success("\u6062\u590d\u6210\u529f"),null===(l=e.refresh)||void 0===l||l.call(e),null===(a=e.callback)||void 0===a||a.call(e,e.scene||"recover",o.data))})()},placement:"topRight",overlayInnerStyle:{width:270},onCancel:e=>{},okText:yr[e.scene],okButtonProps:{danger:!0},cancelText:"\u53d6\u6d88"},J().createElement(M.Button,e.buttonProps,e.children))})),xr=hr,wr=window.__app__,Ir=(0,ae.observer)((e=>J().createElement(M.Popconfirm,{key:"delete",title:"\u6279\u91cf\u5220\u9664\u786e\u8ba4",description:"\u60a8\u786e\u8ba4\u6279\u91cf\u5220\u9664\u5f53\u524d\u6240\u9009\u7684\u6570\u636e\uff1f",onConfirm:async t=>{var n;var o;await wr.xrequest.post("/api/core/table/record/batchDelete",{_id:{$in:e._ids||[]},table_id:null===(n=e.tableInfo)||void 0===n?void 0:n._id})&&(M.message.success("\u5220\u9664\u6210\u529f"),null===(o=e.refresh)||void 0===o||o.call(e))},placement:"topRight",overlayInnerStyle:{width:270},onCancel:e=>{},okText:"\u5220\u9664",okButtonProps:{danger:!0},cancelText:"\u53d6\u6d88"},J().createElement(M.Button,e.buttonProps,e.children)))),Tr=Ir,Cr=window.__app__,Sr=(0,ae.observer)((e=>{var t;const n=Cr.get("modules.formEditor.modules"),[o,l]=(0,$.useState)(!1),[a,i]=(0,$.useState)(),[r,s]=(0,$.useState)(!1),[d]=M.Form.useForm(),[u,c]=(0,$.useState)([]),m=[{title:"\u9009\u62e9\u5b57\u6bb5",render:(e,t,n,o)=>J().createElement(M.Form.Item,{name:["field"]},J().createElement(M.Select,{options:p.map((e=>({label:e.data.attributes.title||e.name,value:e.moduleId})))}))},{title:"\u503c",render:(t,o,l,a)=>{if(!o.field)return J().createElement(J().Fragment,null,"\u8bf7\u9009\u62e9\u5b57\u6bb5");const[i]=p.filter((e=>e.moduleId===o.field));let r=null===i||void 0===i?void 0:i.moduleType,s=n[String(r)];return s&&J().createElement(s.View,{module:i,moduleId:i.moduleId,moduleType:i.moduleType,data:i.data,control:s.control,contexts:{form:d,scene:e.scene,moduleValue:o[i.moduleId]},funcs:s.funcs,permissions:["show"]})}}].filter(Boolean),p=(0,$.useMemo)((()=>(null===a||void 0===a?void 0:a.fields)||[]),[null===a||void 0===a?void 0:a.fields,u]),_=()=>{l(!1)};return J().createElement(J().Fragment,null,J().createElement(M.Button,Object.assign({},e.buttonProps,{onClick:t=>(async()=>{i(e.tableInfo),l(!0)})()}),e.children),J().createElement(M.Modal,{title:"\u6279\u91cf\u4fee\u6539",width:600,destroyOnClose:!0,open:o,confirmLoading:r,afterOpenChange:e=>{},onOk:()=>{},onCancel:_},J().createElement("h4",null,"\u5df2\u9009\u62e9 ",(null===(t=e._ids)||void 0===t?void 0:t.length)||0," \u6761\u6570\u636e"),J().createElement(M.Form,{form:d,layout:"vertical",onValuesChange:(e,t)=>{console.log("----",t)}},J().createElement(M.Table,{size:"small",style:{margin:"20px 0"},columns:m,dataSource:u,bordered:!0,rowKey:e=>e.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1})),J().createElement(M.Button,{type:"primary",onClick:e=>{let t=[...u,{key:Cr.uuid(),field:void 0,value:void 0}];c(t)}},"\u65b0\u589e\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879")))})),Or=Sr,Pr=window.__app__,Mr=(0,ae.observer)((e=>{var t,n;const{createScriptContexts:o}=Pr.get("handles"),{ScreenEditorContext:l}=Pr.get("modules.screenEditor"),{XinScreenEditorModulesMap:a,XinCoverView:i,XinTypeView:r,XinChildrenView:s,customData:d,editorStore:u,variableStore:c,core:m,addFunc:p,getVariableValue:_,setVariableValue:v,config:b}=(0,$.useContext)(l),[f,E]=(0,$.useState)(!1),g=(0,$.useRef)();(0,$.useEffect)((()=>{var t;null!==(t=e.options)&&void 0!==t&&t.code&&(g.current=Pr.runScriptFunc(e.options.code))}),[null===(t=e.options)||void 0===t?void 0:t.code]);const y=async()=>{var t;const{buttonProps:n,options:l,...a}=e,i={...o(),...u.contexts.moduleIns,...c.contexts};await(null===(t=g.current)||void 0===t?void 0:t.main(i,a))};return J().createElement(M.Popconfirm,Object.assign({title:"\u64cd\u4f5c\u786e\u8ba4",description:"\u60a8\u786e\u5b9a\u6267\u884c\u5f53\u524d\u64cd\u4f5c\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",okButtonProps:{...e.buttonProps,type:"primary",danger:"red"===(null===(n=e.options)||void 0===n?void 0:n.color)}},e.confirmProps,{open:f,onOpenChange:t=>{var n;t?null!==(n=e.options)&&void 0!==n&&n.confirm?E(!0):y():E(!1)},onConfirm:e=>y(),placement:"topRight",overlayInnerStyle:{width:270},onCancel:e=>{}}),J().createElement(M.Button,e.buttonProps,e.children))})),kr=Mr,Dr=window.__app__,Nr=(0,ae.observer)((e=>{var t,n;const{createScriptContexts:o}=Dr.get("handles"),[l,a]=(0,$.useState)(!1),i=(0,$.useRef)();(0,$.useEffect)((()=>{var t;null!==(t=e.options)&&void 0!==t&&t.code&&(i.current=Dr.runScriptFunc(e.options.code))}),[null===(t=e.options)||void 0===t?void 0:t.code]);const r=async()=>{var t;const{buttonProps:n,options:l,tableShow_formSeniorModal:a,scene:r,onResult:s,form:d,...u}=e,c=o(),m=await(null===(t=i.current)||void 0===t?void 0:t.main({...c,form:d,scene:r,tableShow_formSeniorModal:a},u));null===s||void 0===s||s(m)};return J().createElement(M.Popconfirm,Object.assign({title:"\u64cd\u4f5c\u786e\u8ba4",description:"\u60a8\u786e\u5b9a\u6267\u884c\u5f53\u524d\u64cd\u4f5c\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",okButtonProps:{...e.buttonProps,type:"primary",danger:"red"===(null===(n=e.options)||void 0===n?void 0:n.color)}},e.confirmProps||{},{open:l,onOpenChange:t=>{var n;t?null!==(n=e.options)&&void 0!==n&&n.confirm?a(!0):r():a(!1)},onConfirm:e=>r(),placement:"topRight",overlayInnerStyle:{width:270},onCancel:e=>{}}),J().createElement(M.Button,e.buttonProps,e.children))}));var Ar=__webpack_require__(9928),Lr={};Lr.styleTagTransform=q(),Lr.setAttributes=U(),Lr.insert=B().bind(null,"head"),Lr.domAPI=F(),Lr.insertStyleElement=z();A()(Ar.A,Lr);Ar.A&&Ar.A.locals&&Ar.A.locals;const Fr=window.__app__,Rr=(0,$.memo)((e=>{var t;return J().createElement(M.Input,Object.assign({},e,{allowClear:!0,placeholder:"\u8bf7\u8f93\u5165",value:null===(t=e.value)||void 0===t?void 0:t.$regex,onChange:t=>{var n;const o=t.target.value;null===(n=e.onChange)||void 0===n||n.call(e,o?{$regex:o}:void 0)}}))})),Br=(0,$.memo)((e=>J().createElement(M.Input,Object.assign({},e,{allowClear:!0,placeholder:"\u8bf7\u8f93\u5165",value:e.value,onChange:t=>{var n;const o=t.target.value;null===(n=e.onChange)||void 0===n||n.call(e,o||void 0)}})))),Vr=(0,$.memo)((e=>{const[t,n]=(0,$.useState)();(0,$.useEffect)((()=>{n(e.value&&re()(e.value))}),[e.value]);return J().createElement(M.DatePicker,Object.assign({},e,{format:"YYYY-MM-DD",inputReadOnly:!0,allowClear:!0,placeholder:"\u8bf7\u9009\u62e9",value:t,onChange:t=>{n(t),(t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)})(re().isDayjs(t)&&re()(t.format("YYYY-MM-DD")).valueOf())}}))})),Ur=(0,$.memo)((e=>{var t,n,o,l;return J().createElement(M.DatePicker.RangePicker,Object.assign({},e,{format:"YYYY-MM-DD",inputReadOnly:!0,allowClear:!0,placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],value:[null!==(t=e.value)&&void 0!==t&&t.$gte?re()(null===(n=e.value)||void 0===n?void 0:n.$gte):void 0,null!==(o=e.value)&&void 0!==o&&o.$lte?re()(null===(l=e.value)||void 0===l?void 0:l.$lte):void 0],onChange:function(t){var n;let o=0;const l={};var a,i,r,s;[null,void 0].includes(null===t||void 0===t?void 0:t[0])||(l.$gte=null===t||void 0===t||null===(a=t[0])||void 0===a||null===(i=a.valueOf)||void 0===i?void 0:i.call(a),o++),[null,void 0].includes(null===t||void 0===t?void 0:t[1])||(l.$lte=null===t||void 0===t||null===(r=t[1])||void 0===r||null===(s=r.valueOf)||void 0===s?void 0:s.call(r),o++),null===(n=e.onChange)||void 0===n||n.call(e,o?l:void 0)}}))})),Yr=(0,$.memo)((e=>{var t,n,o,l,a,i;const[r,s]=(0,$.useState)(!1),[d,u]=(0,$.useState)([]);(0,$.useMemo)((()=>{var t,n,o,l,a,i,r,s,u;return["item",void 0].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType)?(null===(r=e.module)||void 0===r||null===(s=r.data)||void 0===s||null===(u=s.attributes)||void 0===u?void 0:u.items)||[]:"dictionary"===(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.fromType)&&d||[]}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.fromType,d]);(0,$.useEffect)((()=>{var t,n,o;(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dictionary_id)&&c()}),[null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.dictionary_id]);const c=async()=>{var t,n,o,l;s(!0);const a=await Fr.xrequest.post("/api/core/business/dictionary/list",{filter:{dictionary_id:null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.dictionary_id,status:!0,state:0},current:1,pageSize:200,sort:{sort:1,create_time:1}});s(!1);const i=((null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.data)||[]).map((e=>({key:e._id,label:e.name,value:e._id,color:e.color,disabled:!1})));u(i)};return J().createElement(M.Select,Object.assign({},e,{allowClear:!0,showSearch:!1,placeholder:"\u8bf7\u9009\u62e9",options:e.options||[],value:e.value,onChange:e.onChange}))})),zr=(0,$.memo)((e=>{const t=Fr.get("modules.formEditor.modules").organizationSelect;return J().createElement(t.Component,Object.assign({},e,{placeholder:"\u8bf7\u9009\u62e9",value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}}))})),jr=(0,$.memo)((e=>{const t=Fr.get("modules.formEditor.modules").userSelect;return J().createElement(t.Component,Object.assign({},e,{placeholder:"\u8bf7\u9009\u62e9",value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}}))})),qr=(0,$.memo)((e=>{var t,n;const o=Fr.get("modules.components.basicForm");return J().createElement(o.NumberRange,{value:[null===(t=e.value)||void 0===t?void 0:t.$gte,null===(n=e.value)||void 0===n?void 0:n.$lte],onChange:function(t){var n;let o=0;const l={};[null,void 0].includes(null===t||void 0===t?void 0:t[0])||(l.$gte=null===t||void 0===t?void 0:t[0],o++),[null,void 0].includes(null===t||void 0===t?void 0:t[1])||(l.$lte=null===t||void 0===t?void 0:t[1],o++),null===(n=e.onChange)||void 0===n||n.call(e,o?l:void 0)}})})),Xr=(0,$.memo)((e=>{const t=Fr.get("modules.formEditor.modules").relation;return J().createElement(t.Component,Object.assign({},e,{value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}}))})),Wr=(0,$.memo)((e=>{var t,n,o,l,a,i;const[r,s]=(0,$.useState)([]);(0,$.useEffect)((()=>{var t,n;null!==(t=e.module.data)&&void 0!==t&&null!==(n=t.attributes)&&void 0!==n&&n.table_id&&d()}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table_id]);const d=async()=>{var t,n,o;const l=await Fr.xrequest.post("/api/core/table/record/list",{filter:{table_id:null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table_id},sort:{create_time:-1},current:1,pageSize:1e4});let a=(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.data)||[];s(a)};return J().createElement(M.Select,{style:{width:"100%"},allowClear:!0,showSearch:!1,mode:"multiple",options:null===r||void 0===r?void 0:r.map((t=>{var n,o,l,a;return{label:t[null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.label_field]||"-",value:t[null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.value_field]||"-"}})),placeholder:(null===(o=e.module)||void 0===o||null===(l=o.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.placeholder)||"\u8bf7\u9009\u62e9",disabled:null===(i=e.permissions)||void 0===i?void 0:i.includes("disabled"),value:e.value,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,null!==t&&void 0!==t&&t.length?t:void 0)}})})),Kr=e=>{Fr.get("modules.components.basicForm");const t=Fr.get("modules.formEditor.modules");return["inputNumber","rate","slider","calculateNumber"].includes(e.moduleType)?J().createElement(qr,null):["oidinput"].includes(e.moduleType)?J().createElement(Br,null):["datePicker"].includes(e.moduleType)?J().createElement(Ur,null):["checkbox","multipleSelect"].includes(e.moduleType)?J().createElement(t.multipleSelect.Component,{module:e.module}):["radio","select"].includes(e.moduleType)?J().createElement(t.select.Component,{module:e.module}):["switch"].includes(e.moduleType)?J().createElement(Yr,{options:(null===(n=e.field)||void 0===n||null===(o=n.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.items)||[]}):["organizationSelect"].includes(e.moduleType)?J().createElement(zr,null):["userSelect"].includes(e.moduleType)?J().createElement(jr,null):["relation"].includes(e.moduleType)?J().createElement(Xr,{module:e.field}):["transfer"].includes(e.moduleType)?J().createElement(Wr,{module:e.field}):J().createElement(Rr,null);var n,o,l};var $r=__webpack_require__(5632);const Jr=(0,ae.observer)((e=>{var t;const{XinScreenEditorModulesMap:n,XinModuleView:o,customData:l,editorStore:a,variableStore:i,core:r,addFunc:s,getVariableValue:d,config:u}=(0,$.useContext)($r.f),c=n[null===(t=e.module)||void 0===t?void 0:t.moduleType];return c?J().createElement(c.View,Object.assign({},e,{module:e.module,control:c.control,funcs:c.funcs,contexts:e.contexts,customContexts:e.customContexts})):J().createElement(n.error.View,Object.assign({},e,{module:{...e.module,moduleType:n.error.moduleType},control:n.error.control,funcs:n.error.funcs,contexts:e.contexts,customContexts:e.customContexts}))}));var Hr=__webpack_require__(5965),Gr={};Gr.styleTagTransform=q(),Gr.setAttributes=U(),Gr.insert=B().bind(null,"head"),Gr.domAPI=F(),Gr.insertStyleElement=z();A()(Hr.A,Gr);const Qr=Hr.A&&Hr.A.locals?Hr.A.locals:void 0,Zr=(0,ae.observer)((e=>{var t,n,o,l;const{editorStore:a,operateStore:i}=(0,$.useContext)($r.f);return J().createElement("div",{className:Z()({[Qr.insert]:!0,[Qr.top]:"top"===(null===(t=i.insertInfo)||void 0===t?void 0:t.direction)&&e.module.moduleId===i.insertInfo.moduleId,[Qr.bottom]:"bottom"===(null===(n=i.insertInfo)||void 0===n?void 0:n.direction)&&e.module.moduleId===i.insertInfo.moduleId,[Qr.left]:"left"===(null===(o=i.insertInfo)||void 0===o?void 0:o.direction)&&e.module.moduleId===i.insertInfo.moduleId,[Qr.right]:"right"===(null===(l=i.insertInfo)||void 0===l?void 0:l.direction)&&e.module.moduleId===i.insertInfo.moduleId})})})),es=(0,ae.observer)((e=>{var t,n,o,l,a,i,r;const{XinScreenEditorModulesMap:s,XinCoverView:d,XinTypeView:u,XinChildrenView:c,editorStore:m,core:p,addFunc:_,removeFunc:v,copyFunc:b,componentFunc:f,config:E}=(0,$.useContext)($r.f),g=(0,$.useMemo)((()=>{var t;return s[null===(t=e.module)||void 0===t?void 0:t.moduleType]}),[null===(t=e.module)||void 0===t?void 0:t.moduleType]);function y(e){e.stopPropagation&&e.stopPropagation()}return J().createElement("div",{className:Qr.control,onClick:e=>y(e)},J().createElement("div",{className:Qr.item},e.module.name||"\u51fa\u73b0\u9519\u8bef"),(null===g||void 0===g||null===(n=g.config)||void 0===n?void 0:n.componentable)&&(null===(o=m.customData)||void 0===o?void 0:o.moduleId)!==e.module.moduleId&&J().createElement(M.Tooltip,{title:"\u65b0\u589e\u4e3a\u7ec4\u4ef6"},J().createElement("div",{className:Z()([Qr.item,Qr.btn]),onClick:t=>{f(e.module,"add")}},J().createElement(H.AppstoreAddOutlined,null))),(null===g||void 0===g||null===(l=g.config)||void 0===l?void 0:l.copyable)&&(null===(a=m.customData)||void 0===a?void 0:a.moduleId)!==e.module.moduleId&&J().createElement(M.Tooltip,{title:"\u590d\u5236"},J().createElement("div",{className:Z()([Qr.item,Qr.btn]),onClick:t=>function(t){y(t),b(e.module)}(t)},J().createElement(H.CopyOutlined,null))),(null===g||void 0===g||null===(i=g.config)||void 0===i?void 0:i.removeable)&&(null===(r=m.customData)||void 0===r?void 0:r.moduleId)!==e.module.moduleId&&J().createElement(M.Popconfirm,{title:"\u786e\u8ba4\u5220\u9664\uff1f",placement:"topRight",overlayStyle:{minWidth:160},onConfirm:t=>function(t){y(t),v(e.module)}(t)},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement("div",{className:Z()([Qr.item,Qr.btn])},J().createElement(H.CloseOutlined,null)))))})),ts=(0,ae.observer)((e=>{var t,n,o,l,a,i,r;const{XinScreenEditorModulesMap:s,XinCoverView:d,XinTypeView:u,XinChildrenView:c,editorStore:m,operateStore:p,core:_,addFunc:v,removeFunc:b,copyFunc:f,config:E}=(0,$.useContext)($r.f);return J().createElement(J().Fragment,null,J().createElement(ns,e),J().createElement("div",{className:Z()({[Qr.cover]:!0,[Qr.height100]:"editor"===(null===(t=e.contexts)||void 0===t?void 0:t.mode)&&0===(null===(n=e.module.children)||void 0===n?void 0:n.length)&&["float"].includes(e.module.moduleType)||!1,[Qr.hover]:(null===(o=p.hoverInfo)||void 0===o?void 0:o.moduleId)===e.module.moduleId,[Qr.active]:(null===(l=p.activeInfo)||void 0===l?void 0:l.moduleId)===e.module.moduleId,[Qr.add]:(null===(a=p.allowInInfo)||void 0===a?void 0:a.moduleId)===e.module.moduleId,[Qr.disabled]:(null===(i=p.disabledInfo)||void 0===i?void 0:i.moduleId)===e.module.moduleId&&(null===(r=p.activeInfo)||void 0===r?void 0:r.moduleId)===e.module.moduleId}),moduleid:e.module.moduleId||""},p.insertInfo&&J().createElement(Zr,e),J().createElement(es,e)))})),ns=(0,ae.observer)((e=>{var t,n,o;return"editor"===(null===(t=e.contexts)||void 0===t?void 0:t.mode)&&0===(null===(n=e.module)||void 0===n||null===(o=n.children)||void 0===o?void 0:o.length)&&J().createElement("div",{className:Qr.empty_box},J().createElement("div",null,"\u62d6\u52a8\u7ec4\u4ef6\u6216\u6a21\u677f\u5230\u8fd9\u91cc"))})),os=(0,ae.observer)((e=>{const{XinScreenEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinChildrenView:l,editorStore:a,config:i}=(0,$.useContext)($r.f);return J().createElement(o,Object.assign({},e,{module:e.module,contexts:e.contexts,customContexts:e.customContexts}))})),ls=(0,ae.observer)((e=>{var t,n;return null===(t=e.module)||void 0===t||null===(n=t.children)||void 0===n?void 0:n.map(((t,n)=>{var o;return J().createElement($.Fragment,{key:n},J().createElement(os,Object.assign({},e,{module:t,contexts:{...e.contexts||{},parents:[...(null===(o=e.contexts)||void 0===o?void 0:o.parents)||[],e.module]},customContexts:e.customContexts})))}))}));ls.Item=os;const as=ls;var is=__webpack_require__(8350);const rs=window.__app__,ss=(0,ae.observer)((e=>{var t,n,o,l,a,i,r;const{XinScreenEditorModulesMap:s,XinCoverView:d,XinTypeView:u,XinChildrenView:c,customData:m,editorStore:p,variableStore:_,core:v,addFunc:b,getVariableValue:f,setVariableValue:E,config:g}=(0,$.useContext)($r.f),{createScriptContexts:y}=rs.get("handles"),h=(0,$.useMemo)((()=>"style_".concat(e.module.moduleId)),[e.module.moduleId]),x=(0,$.useMemo)((()=>{var t;const n=".".concat(h).concat(e.real_element||"");let o="";if(null!==(t=e.control.styles)&&void 0!==t&&t.tabs){var l,a;null===(l=e.control.styles)||void 0===l||null===(a=l.tabs)||void 0===a||a.forEach((t=>{var l,a;const i=null!==(l=e.module.data)&&void 0!==l&&l.styles?null===(a=e.module.data)||void 0===a?void 0:a.styles[t.value]:{},r=f(null===i||void 0===i?void 0:i._style,e,{variableStore:_}),s=null===r||void 0===r?void 0:r.replace(/:root/g,n+t.stylePath);o+="\n".concat(s||"","\n")}))}else{var i;const t=(null===(i=e.module.data)||void 0===i?void 0:i.styles)||{},l=f(null===t||void 0===t?void 0:t._style,e,{variableStore:_}),a=null===l||void 0===l?void 0:l.replace(/:root/g,n);o+="\n".concat(a||"","\n")}return o}),[h,null===(t=e.module.data)||void 0===t?void 0:t.styles,e.real_element]);async function w(t){if("url"===t.action){const n=f(t.url,e,{variableStore:_}),o=f(t.target,e,{variableStore:_});"_self"===o?window.location.href=n:"_blank"===o?t.url&&window.open(n):(t.url&&window.open(n),console.error("\u8df3\u8f6c\u4e8b\u4ef6\u5b9a\u4e49\u9519\u8bef target: "+o))}else if("variable"===t.action){const n=f(t.variableValue,e,{variableStore:_});E(t.variable,JSON.stringify(n),e,{variableStore:_})}else if("script"===t.action){var n;const o=rs.runScriptFunc(t.script),l={...y(),...p.contexts.moduleIns,..._.contexts,screenScripts:null===(n=e.contexts)||void 0===n?void 0:n.screenScripts};await o.main(l,{})}else t.action}return(0,$.useEffect)((()=>{var t,n;(null===(t=e.module)||void 0===t?void 0:t.moduleId)&&p.setmoduleMap(null===(n=e.module)||void 0===n?void 0:n.moduleId,{customContexts:e.customContexts})}),[e.customContexts,null===(n=e.module)||void 0===n?void 0:n.moduleId]),(0,$.useEffect)((()=>{p.setexportMethods(e.module.moduleId,e.methods||[])}),[p.exportMethods,e.methods]),(0,$.useEffect)((()=>{var t;e.exports&&null!==(t=e.module)&&void 0!==t&&t.moduleId&&_.setexportVariable(e.module.moduleId,e.exports)}),[e.exports]),!f(null===(o=e.module.data.attributes)||void 0===o?void 0:o.hidden,e,{variableStore:_})&&J().createElement("div",{className:Z()([is.A[e.module.moduleType],is.A.common,e.className,h,!e.real_element&&f(null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.className,e,{variableStore:_})]),style:{...e.style||{}},id:"editor"===(null===(i=e.contexts)||void 0===i?void 0:i.mode)?void 0:e.id||void 0,onClick:t=>function(t){var n,o,l,a;"editor"!==(null===(n=e.contexts)||void 0===n?void 0:n.mode)&&(null===(o=e.module.data)||void 0===o||null===(l=o.events)||void 0===l||null===(a=l.click)||void 0===a||a.forEach((e=>w(e))))}(),onDoubleClick:t=>function(t){var n,o,l,a;"editor"!==(null===(n=e.contexts)||void 0===n?void 0:n.mode)&&(null===(o=e.module.data)||void 0===o||null===(l=o.events)||void 0===l||null===(a=l.dbclick)||void 0===a||a.forEach((e=>w(e))))}()},J().createElement("style",null,x),"editor"===(null===(r=e.contexts)||void 0===r?void 0:r.mode)&&J().createElement(d,e),e.children)})),ds=window.__app__;function us(e,t){let n=null,o=null,l=null;return function e(a,i,r){a.moduleId===t?(n=a,o=i,l=r):a.children&&a.children.forEach(((t,n)=>{e(t,a,n)}))}(e),{moduleInfo:n,parentInfo:o,parentIndex:l}}function cs(e,t,n,o){let l=us(e=JSON.parse(JSON.stringify(e)),t);return l.parentInfo&&l.parentInfo.children.splice(l.parentIndex+o,0,n),e}function ms(e,t){e=JSON.parse(JSON.stringify(e));let{moduleInfo:n,parentInfo:o,parentIndex:l}=us(e,t);return o.children.splice(l,1),{customData:e,moduleInfo:n}}const ps={findModuleFunc:us,removeModuleFunc:ms,moveModuleFunc:function(e,t,n,o){if(t===n)return e;let l=ms(e=JSON.parse(JSON.stringify(e)),t);return e=cs(l.customData,n,l.moduleInfo,o||0)},appendModuleFunc:cs,removeAndAppendChildrenFunc:function(e,t,n){let o=ms(e,t);return us(o.customData,n).moduleInfo.children.push(o.moduleInfo),o.customData},appendChildrenFunc:function(e,t,n){let o=us(e=JSON.parse(JSON.stringify(e)),t);return o.moduleInfo&&o.moduleInfo.children.push(n),e},cloneAndUpdateModuleIdFunc:function(e){return function e(t,n){n(t),t.children&&t.children.forEach(((t,o)=>{e(t,n)}))}(e=JSON.parse(JSON.stringify(e)),(e=>{const t=ds.uuid(e.moduleType+"_");e.moduleId=t})),e},findModuleParentsFunc:function(e,t){(function e(t,n){t.parents=n?[...n.parents,n]:[],t.children&&t.children.forEach(((n,o)=>{e(n,t)}))})(e=JSON.parse(JSON.stringify(e)));let{moduleInfo:n}=us(e,t);return{moduleInfo:n,parents:(null===n||void 0===n?void 0:n.parents)||[]}},eachModuleFunc:function(e,t){!function e(n){var o;t&&t(n),null===(o=n.children)||void 0===o||o.forEach((t=>{e(t)}))}(e)}};var _s=__webpack_require__(9803),vs=__webpack_require__(1599),bs=__webpack_require__(7951),fs={};fs.styleTagTransform=q(),fs.setAttributes=U(),fs.insert=B().bind(null,"head"),fs.domAPI=F(),fs.insertStyleElement=z();A()(bs.A,fs);const Es=bs.A&&bs.A.locals?bs.A.locals:void 0,gs=window.__app__;const ys=class{constructor(){this.key=gs.uuid(),this.timer=[],this.dictionaryVariable={},this.dataSourceVariable={},this.systemVariable={},this.chromeVariable={},this.userinfoVariable={},this.screenVariable={},this.exportVariable={},this.commonDataVariable={},this.propsVariable={},(0,P.makeAutoObservable)(this)}reset(){this.dictionaryVariable={},this.dataSourceVariable={},this.systemVariable={},this.chromeVariable={},this.userinfoVariable={},this.screenVariable={},this.exportVariable={},this.commonDataVariable={},this.propsVariable={},this.resetTimers()}get contexts(){return{dictionaryVariable:this.dictionaryVariable,dataSourceVariable:this.dataSourceVariable,systemVariable:this.systemVariable,chromeVariable:this.chromeVariable,userinfoVariable:this.userinfoVariable,screenVariable:this.screenVariable,exportVariable:this.exportVariable,commonDataVariable:this.commonDataVariable,propsVariable:this.propsVariable}}resetTimers(){this.timer.forEach((e=>window.clearInterval(e))),this.timer=[]}initData(){this.getDictionaryList(),this.initSystemVariable(),this.initChromeVariable(),this.initUserinfoVariable(),this.initCommonDataVariable()}async initCommonDataVariable(){const e=gs.get("datas.commonData")||{};this.commonDataVariable=e}async initUserinfoVariable(){const e=gs.get("datas.userinfo")||{},{defaultUserAvatar:t}=gs.get("datas.configs.project");this.userinfoVariable={_id:e._id,name:e.name,avatar:e.avatar||{data:{url:t}},username:e.username,nickname:e.nickname,gender:e.gender,mobile:e.mobile,email:e.email,organizations:e.organizations,organizationInfos:e.organizationInfos,roles:e.roles,roleInfos:e.roleInfos,permissions:e.permissions,create_time:re()(e.create_time).format("YYYY-MM-DD HH:mm:ss")}}async initChromeVariable(){window.onpopstate=e=>{this.initChromeFunc()},this.initChromeFunc()}initChromeFunc(){const e=gs.get("contexts.app");this.chromeVariable={language:window.navigator.language,userAgent:window.navigator.userAgent,deviceType:e.deviceType,location:{href:window.location.href,path:window.location.hash,hostname:window.location.hostname,origin:window.location.origin,port:window.location.port}}}async initSystemVariable(){var e,t;const n=gs.get("datas.project"),{platformName:o,defaultUserAvatar:l,defaultSystemLogo:a}=gs.get("datas.configs.project");this.systemVariable={_id:n._id,unique_id:n.unique_id,name:n.name,logoUrl:(null===(e=n.logo)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.url)||a,description:n.description,create_time:n.create_time}}async initScreenVariable(e){this.screenVariable=JSON.parse(e||"{}")}async initDataSource(e){this.resetTimers(),e.forEach(((e,t)=>{this.dataSourceItemFunc(e)}))}async dataSourceItemFunc(e){const t=this,{createScriptContexts:n}=gs.get("handles");if("function"===e.type||"request"===e.type){const l=gs.runScriptFunc(e.code);if(null!==l&&void 0!==l&&l.main){async function a(){const o=n(),a=await l.main({...o},{});(0,P.runInAction)((()=>{t.dataSourceVariable[e.varname]=a}))}if(e.loop&&"number"===typeof e.duration){a();const i=window.setInterval(a,1e3*(e.duration||3));t.timer.push(i)}else a()}}else{let r;try{r=JSON.parse(e.code)}catch(o){M.message.error("\u6570\u636e\u6e90\u3010".concat(e.name,"\u3011\u811a\u672c\u5b9a\u4e49\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5"))}(0,P.runInAction)((()=>{t.dataSourceVariable[e.varname]=r}))}}getDictionaryList(e){return new Promise((async(t,n)=>{var o;const l=await gs.xrequest.post("/api/core/business/dictionary/list",{...e||{},filter:{...(null===e||void 0===e?void 0:e.filter)||{}},current:1,pageSize:1e4,sort:{sort:1,create_time:1}}),a=(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.data)||[],i=gs.listToTree(a.concat([]),void 0,{parent_field:"parent_id",unique_field:"_id"}),r=Object.fromEntries(i.map((e=>[e.name,e.children.map((e=>e.name||""))])));(0,P.runInAction)((()=>{this.dictionaryVariable=r})),t(a)}))}setexportVariable(e,t){this.exportVariable[e]=t}setpropsVariable(e){this.propsVariable={...this.propsVariable||{},...e||{}}}},hs=window.__app__,xs="\n({\n  // \u753b\u9762\u521d\u59cb\u5316\u540e\u6267\u884c\n  mounted: function (contexts, data) {\n    // contexts\uff1a\u8fd0\u884c\u4e0a\u4e0b\u6587\uff0c\u53c2\u6570\u53ca\u65b9\u6cd5\u90fd\u5728\u5176\u4e2d\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // \u4f8b\u5982\uff1acontexts.axios \u662f\u77e5\u540d\u8bf7\u6c42\u5e93\n    // \u4f8b\u5982\uff1acontexts.apis \u5e73\u53f0\u5185\u7f6e\u63a5\u53e3\n    // data \u6682\u65f6\u4e3a\u7a7a\uff0c\u8bf7\u7565\u8fc7\n\n  },\n  // \u753b\u9762\u9500\u6bc1\u524d\u6267\u884c\n  destroy: function (contexts, data) {\n    // contexts\uff1a\u8fd0\u884c\u4e0a\u4e0b\u6587\uff0c\u53c2\u6570\u53ca\u65b9\u6cd5\u90fd\u5728\u5176\u4e2d\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // \u4f8b\u5982\uff1acontexts.axios \u662f\u77e5\u540d\u8bf7\u6c42\u5e93\n    // \u4f8b\u5982\uff1acontexts.apis \u5e73\u53f0\u5185\u7f6e\u63a5\u53e3\n    // data \u6682\u65f6\u4e3a\u7a7a\uff0c\u8bf7\u7565\u8fc7\n\n  },\n})\n";const ws=class{constructor(){this.key=hs.uuid(),this.customData=void 0,this.scaleValue=1,this.blockList=[],this.mineBlockList=[],this.settingInfo=void 0,this.dataSource=[],this.screenScript=xs,this.moduleMap={},this.screenVariable=void 0,this.exportMethods={},this.seniorForm=void 0,(0,P.makeAutoObservable)(this,{excludes:["seniorForm"]})}reset(e){this.customData=e,this.settingInfo=void 0,this.dataSource=[],this.blockList=[],this.screenVariable=void 0,this.screenScript=xs,this.moduleMap={},this.exportMethods={},this.seniorForm=void 0}get contexts(){return{moduleIns:this.moduleIns,moduleInsMap:this.moduleInsMap}}get moduleInsMap(){const e=hs.get("modules.screenEditor.modules"),t={};return this.customData&&ps.eachModuleFunc(this.customData,(n=>{var o,l;const a=((null===(o=e[null===n||void 0===n?void 0:n.moduleType].control)||void 0===o?void 0:o.attributes)||[]).map((e=>e.children)).flat().filter((e=>(null===e||void 0===e?void 0:e.exportAttribute)&&(!e.hidden||!e.hidden())));t[n.moduleId]={attributes:a.map((e=>{var t,n;return{label:null===(t=e.formItemProps)||void 0===t?void 0:t.label,value:null===(n=e.formItemProps)||void 0===n?void 0:n.name}})),methods:null===(l=this.exportMethods[n.moduleId])||void 0===l?void 0:l.map((e=>({label:e.label,value:["methods",e.value+"(".concat(e.params,")")]})))}})),t}get moduleIns(){const e={};return this.customData&&ps.eachModuleFunc(this.customData,(t=>{var n,o;const l=null===(n=this.exportMethods[t.moduleId])||void 0===n?void 0:n.map((e=>[e.value,e.method]));e[t.moduleId]={attributes:(null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.attributes)||{},methods:Object.fromEntries(l||[])}})),e}setcustomData(e){this.customData=e}setsettingInfo(e){this.settingInfo=e}setdataSource(e){this.dataSource=e||[]}setblockList(e){this.blockList=e||[]}setmineBlockList(e){this.mineBlockList=e||[]}setscreenVariable(e){this.screenVariable=e}setscreenScript(e){this.screenScript=e}setmoduleMap(e,t){this.moduleMap[e]=t}setexportMethods(e,t){this.exportMethods[e]=t}setseniorForm(e){this.seniorForm=e}},Is=window.__app__;const Ts=class{constructor(){this.key=Is.uuid(),this.hoverInfo=void 0,this.activeInfo=void 0,this.insertInfo=void 0,this.addInfo=void 0,this.disabledInfo=void 0,this.allowInInfo=void 0,(0,P.makeAutoObservable)(this)}reset(e){this.hoverInfo=void 0,this.activeInfo=void 0,this.insertInfo=void 0,this.addInfo=void 0,this.disabledInfo=void 0,this.allowInInfo=void 0}sethoverInfo(e){this.hoverInfo=e}setactiveInfo(e){this.activeInfo=e}setinsertInfo(e){this.insertInfo=e}setaddInfo(e){this.addInfo=e}setdisabledInfo(e){this.disabledInfo=e}setallowInInfo(e){this.allowInInfo=e}},Cs=domtoimagemore;var Ss=__webpack_require__.n(Cs);const Os=window.__app__,Ps=(0,ae.observer)((e=>{const{XinScreenEditorModulesMap:t,XinCoverView:n,XinTypeView:o,editorStore:l,variableStore:a,setdeviceType:i,core:r,config:s}=(0,$.useContext)($r.f),d=Os.get("contexts.app"),u=Os.get("modules.components.basicCommon");return J().createElement(J().Fragment,null,J().createElement("div",{className:Es.content},J().createElement("div",{className:Es.editor_content,style:{transform:"scale(".concat(l.scaleValue,")"),width:"".concat(100/l.scaleValue,"%")}},e.children)),J().createElement("div",{className:Es.footer},J().createElement("div",{className:Es.footer_box},J().createElement(M.Space,{size:[15,10]},J().createElement(M.Radio.Group,{buttonStyle:"solid",size:"small",value:s.deviceType,onChange:e=>{a.chromeVariable.deviceType=e.target.value}},J().createElement(M.Radio.Button,{value:"pc"},"\u7535\u8111\u7248"),J().createElement(M.Radio.Button,{value:"mobile"},"\u624b\u673a\u7aef")),J().createElement(u.CodeEditorModal,{language:"json",buttonProps:{block:!0,title:"\u753b\u9762\u6e90\u4ee3\u7801",size:"small",type:"default",icon:J().createElement(H.CodeOutlined,null)},modalProps:{title:"\u753b\u9762\u6e90\u4ee3\u7801",width:900,footer:d.checkPermission("screen_script_edit")?void 0:null},value:JSON.stringify(l.customData,null,2),onChange:e=>{l.setcustomData(JSON.parse(e))}}),J().createElement("span",{style:{whiteSpace:"nowrap",display:"flex",alignItems:"center"}},J().createElement("span",null,"\u753b\u9762\u7f29\u653e"),J().createElement(M.Slider,{style:{width:100,display:"inline-block",margin:"0 10px"},min:.5,max:1.5,step:.02,value:l.scaleValue,onChange:e=>{l.scaleValue=e}}),J().createElement("span",{style:{width:50}},l.scaleValue))))))})),Ms=(0,ae.observer)((e=>{var t,n,o,l,a;const{XinScreenEditorModulesMap:i,XinCoverView:r,XinTypeView:s,editorStore:d,variableStore:u,componentList:c,screenType:m,core:p,config:_}=(0,$.useContext)($r.f),v=Os.get("contexts.app"),{DataSourceEditorModal:b,ScreenScriptEditorModal:f,ScreenVariableEditorModal:E}=Os.get("modules.screenEditor"),{ScreenTypeListMap:g}=Os.get("datas.configs.project"),{uploadFileRequest:y}=Os.get("handles"),{EditorPreview:h}=Os.get("modules.screenEditor"),[x,w]=(0,$.useState)(!1),[I,T]=(0,$.useState)(!1),[C,S]=(0,$.useState)(!1),O=(0,$.useRef)();(0,$.useRef)();async function P(){v.checkPermission("screen_publish")?M.Modal.confirm({title:"\u53d1\u5e03\u786e\u8ba4",content:"\u53d1\u5e03\u540e\u5c06\u4f1a\u8986\u76d6\u73b0\u6709\u7248\u672c\uff0c\u662f\u5426\u53d1\u5e03\uff1f",okText:"\u53d1\u5e03",cancelText:"\u53d6\u6d88",onOk:()=>new Promise((async(t,n)=>{const o=await async function(){return new Promise((async(t,n)=>{t(await Os.xrequest.post("/api/core/screen/publish",{_id:e._id}))}))}();o&&M.message.success("\u53d1\u5e03\u6210\u529f"),t()}))}):M.message.warning("\u65e0\u6743\u9650\u6267\u884c\u8be5\u64cd\u4f5c")}async function k(){S(!0),await new Promise(((e,t)=>{window.setTimeout(e,100)}));const t=await async function(){return new Promise((async(e,t)=>{const n=O.current,o=2;Ss().toBlob(n,{width:n.offsetWidth*o,height:500*o,style:{transform:"scale(".concat(o,")"),transformOrigin:"top left",width:"".concat(n.offsetWidth*o,"px"),height:"".concat(500*o,"px")}}).then((async t=>{const n=new File([t],Date.now()+".png",{type:"image/png"});e(n)})).catch((t=>{console.error("\u83b7\u53d6\u9884\u89c8\u56fe\u5931\u8d25\uff1a",t),e()}))}))}();if(t){const n=await y({file:t,data:{path:"snapshot"}});null!==n&&void 0!==n&&n.data&&await async function(e){return new Promise((async(t,n)=>{t(await Os.xrequest.post("/api/core/resource/add",{classify:"snapshot",provider:e.provider||"local_cdn",name:e.name,mime_type:e.mime_type,url:e.url,size:e.size}))}))}(null===n||void 0===n?void 0:n.data);await async function(t){return new Promise((async(n,o)=>{const l=await Os.xrequest.post("/api/core/screen/update",{filter:{_id:e._id},data:{avatar:t}});n(l),l&&M.message.success("\u66f4\u65b0\u6210\u529f")}))}(null===n||void 0===n?void 0:n.data)}else M.message.error("\u9884\u89c8\u56fe\u83b7\u53d6\u5931\u8d25");S(!1)}return J().createElement("div",{className:Es.header_box},J().createElement("div",{className:Es.header_left},J().createElement(M.Space,null,J().createElement(M.Tooltip,{title:"\u8fd4\u56de"},J().createElement(M.Button,{type:"link",icon:J().createElement(H.LeftOutlined,null),onClick:e=>{Os.history.back()}})),J().createElement("span",null,null===(t=e.detailInfo)||void 0===t?void 0:t.name),J().createElement(M.Tag,{color:null===(n=g[(null===(o=e.detailInfo)||void 0===o?void 0:o.type)||"screen"])||void 0===n?void 0:n.color},null===(l=g[(null===(a=e.detailInfo)||void 0===a?void 0:a.type)||"screen"])||void 0===l?void 0:l.name))),J().createElement("div",{className:Es.header_right},J().createElement("div",{ref:O,className:Es.screenshot},J().createElement(h,{screenType:m,body:{screenVariable:d.screenVariable,dataSource:d.dataSource,customData:d.customData,screenScript:d.screenScript}})),J().createElement(M.Space,null,J().createElement(M.Tooltip,{title:"\u66f4\u65b0\u9884\u89c8\u56fe"},J().createElement(M.Button,{type:"default",loading:C,onClick:e=>k(),icon:J().createElement(H.CameraOutlined,null)}))),J().createElement(M.Divider,{type:"vertical",style:{height:15,margin:"0 10px"}}),J().createElement(M.Space,null,J().createElement(b,{value:d.dataSource,onChange:e=>{d.setdataSource(e),u.initDataSource(e||[])}}),J().createElement(E,{value:d.screenVariable,onChange:e=>{d.setscreenVariable(e),u.initScreenVariable(e||{})}}),J().createElement(f,{buttonProps:{block:!0,title:"\u753b\u9762\u811a\u672c",size:"small",type:"link",icon:J().createElement(H.CodeOutlined,null)},modalProps:{title:"\u753b\u9762\u811a\u672c",width:1100},value:d.screenScript,onChange:e=>{d.setscreenScript(e)}},J().createElement(M.Tooltip,{title:"\u753b\u9762\u811a\u672c"},J().createElement(M.Button,{type:"default",icon:J().createElement(H.CodeOutlined,null)}))),J().createElement(M.Tooltip,{title:"\u9875\u9762\u9884\u89c8"},J().createElement(M.Button,{type:"default",icon:J().createElement(H.FundProjectionScreenOutlined,null),onClick:t=>{window.open("#/admin/screen/"+e._id)}})),J().createElement(M.Tooltip,{title:"\u62bd\u5c49\u9884\u89c8"},J().createElement(M.Button,{type:"default",icon:J().createElement(H.EyeOutlined,null),onClick:e=>{w(!0)}})),J().createElement(M.Button,{type:"primary",loading:I,onClick:t=>{!async function(){if(!v.checkPermission("screen_draft"))return void M.message.warning("\u65e0\u6743\u9650\u6267\u884c\u8be5\u64cd\u4f5c");T(!0);const t=await Os.xrequest.post("/api/core/screen/draft/add",{screen_id:e._id,body:e.getValues()});T(!1),t&&M.message.success("\u4fdd\u5b58\u6210\u529f")}()}},"\u4fdd\u5b58\u8349\u7a3f"),e.publishPermission&&J().createElement(M.Button,{type:"primary",loading:!1,onClick:e=>P()},"\u53d1\u5e03"),J().createElement(M.Tooltip,{title:"\u53d1\u5e03\u524d\u8bf7\u5148\u4fdd\u5b58\u8349\u7a3f\uff1b\u53d1\u5e03\u64cd\u4f5c\u662f\u6307\uff1a\u53d1\u5e03\u6700\u540e\u4e00\u6b21\u4fdd\u5b58\u7684\u8349\u7a3f\u3002"},J().createElement(M.Button,{type:"text",icon:J().createElement(H.QuestionCircleOutlined,null)}))),J().createElement(M.Drawer,{title:"\u753b\u9762\u9884\u89c8",placement:"bottom",height:"80%",push:{distance:0},destroyOnClose:!0,onClose:e=>w(!1),open:x},x&&J().createElement(h,{screenType:m,body:{screenVariable:d.screenVariable,dataSource:d.dataSource,customData:d.customData,screenScript:d.screenScript}}))))})),ks=(0,ae.observer)((e=>{var t,n;const{XinScreenEditorModulesMap:o,XinCoverView:l,XinTypeView:a,editorStore:i,operateStore:r,variableStore:s,componentList:d,core:u,addFunc:c,config:m}=(0,$.useContext)($r.f),p=(0,$.useRef)(),_=(0,$.useRef)();function v(e){const t=e.target.getAttribute("moduleid"),n=e.target.getAttribute("moduletype"),l=e.target.getAttribute("componentid"),a=e.target.getAttribute("blockid"),s=e.target.getAttribute("mineblock");if(t){_.current="module";const e=u.findModuleFunc(i.customData,t);r.setactiveInfo(null===e||void 0===e?void 0:e.moduleInfo),i.setsettingInfo(null===e||void 0===e?void 0:e.moduleInfo)}else if(n){_.current="button";const e=o[n].createFunc();r.setaddInfo(e)}else if(l){var c,m,p,v;_.current="component";const[e]=d.filter((e=>e._id===l)),t=(null===e||void 0===e||null===(c=e.body)||void 0===c||null===(m=c.customData)||void 0===m||null===(p=m.data)||void 0===p||null===(v=p.attributes)||void 0===v?void 0:v.componentAttributes)||[],n=o.component.createFunc();n.data.attributes.screen_id=l,n.data.attributes.componentTitle=null===e||void 0===e?void 0:e.name,n.data.attributes.componentAttributes=Object.fromEntries(t.map((e=>[e.fieldName||e.key,e.defaultValue]))),n&&r.setaddInfo(n)}else if(a){var b;_.current="block";const[e]=(s?i.mineBlockList:i.blockList).filter((e=>e._id===a)),t=u.cloneAndUpdateModuleIdFunc(null===e||void 0===e||null===(b=e.body)||void 0===b?void 0:b.customData);r.setaddInfo(t)}}function b(e){_.current&&E("move",e);const t=e.target.getAttribute("moduleid");if(!_.current&&r.sethoverInfo({moduleId:t}),!_.current||!t)return;const{moduleInfo:n}=u.findModuleFunc(i.customData,t);let l=null===n||void 0===n?void 0:n.moduleType,a=o[l].config;if("module"===_.current){var s;if(r.setdisabledInfo(r.activeInfo),o[null===(s=r.activeInfo)||void 0===s?void 0:s.moduleType].config.dragable){if(a.insertable)r.setallowInInfo(n),r.setinsertInfo();else{if(i.moduleId===t)return;const n=h(e);r.setallowInInfo(),r.setinsertInfo({moduleId:n.moduleId,direction:"inline"===a.display?n.horizontalPart:n.verticalPart})}}}else if("button"===_.current){if(r.setactiveInfo(),i.setsettingInfo(),a.insertable)r.setallowInInfo(n),r.setinsertInfo();else{if(i.moduleId===t)return;const n=h(e);r.setallowInInfo(),r.setinsertInfo({moduleId:n.moduleId,direction:"inline"===a.display?n.horizontalPart:n.verticalPart})}}else if("component"===_.current){if(r.setactiveInfo(),i.setsettingInfo(),a.insertable)r.setallowInInfo(n),r.setinsertInfo();else{if(i.moduleId===t)return;const n=h(e);r.setallowInInfo(),r.setinsertInfo({moduleId:n.moduleId,direction:"inline"===a.display?n.horizontalPart:n.verticalPart})}}else if("block"===_.current){if(r.setactiveInfo(),i.setsettingInfo(),a.insertable)r.setallowInInfo(n),r.setinsertInfo();else{if(i.moduleId===t)return;const n=h(e);r.setallowInInfo(),r.setinsertInfo({moduleId:n.moduleId,direction:"inline"===a.display?n.horizontalPart:n.verticalPart})}}}function f(e){if(_.current){var t,n,o;if("module"===_.current){if(r.insertInfo)!function(e){if(!e.from||!e.to||!e.direction)return;if("top"===e.direction||"left"===e.direction){let t=u.moveModuleFunc(i.customData,e.from,e.to,0);i.setcustomData(t)}else if("bottom"===e.direction||"right"===e.direction){let t=u.moveModuleFunc(i.customData,e.from,e.to,1);i.setcustomData(t)}else console.error("\u51fa\u73b0\u9519\u8bef\u7684direction\u503c: ",e.direction)}({from:null===(t=r.activeInfo)||void 0===t?void 0:t.moduleId,to:null===(n=r.insertInfo)||void 0===n?void 0:n.moduleId,direction:null===(o=r.insertInfo)||void 0===o?void 0:o.direction});else if(r.allowInInfo){var l,a;!function(e){if(!e.from||!e.to||e.from===e.to)return;let{parents:t}=u.findModuleParentsFunc(i.customData,e.to);if(t.map((e=>e.moduleId)).includes(e.from))return void M.message.warning("\u4e0d\u80fd\u5c06\u7236\u5143\u7d20\u63d2\u5165\u5b50\u5143\u7d20\u4e2d");let n=u.removeAndAppendChildrenFunc(i.customData,e.from,e.to);i.setcustomData(n)}({from:null===(l=r.activeInfo)||void 0===l?void 0:l.moduleId,to:null===(a=r.allowInInfo)||void 0===a?void 0:a.moduleId})}}else if("button"===_.current){var s,d;if(r.insertInfo)y({moduleInfo:r.addInfo,to:null===(s=r.insertInfo)||void 0===s?void 0:s.moduleId,direction:null===(d=r.insertInfo)||void 0===d?void 0:d.direction}),r.setactiveInfo(r.addInfo),i.setsettingInfo(r.addInfo);else if(r.allowInInfo){var m;g({moduleInfo:r.addInfo,to:null===(m=r.allowInInfo)||void 0===m?void 0:m.moduleId}),r.setactiveInfo(r.addInfo),i.setsettingInfo(r.addInfo)}else c()}else if("component"===_.current){var p,v;if(r.insertInfo)y({moduleInfo:r.addInfo,to:null===(p=r.insertInfo)||void 0===p?void 0:p.moduleId,direction:null===(v=r.insertInfo)||void 0===v?void 0:v.direction}),r.setactiveInfo(r.addInfo),i.setsettingInfo(r.addInfo);else if(r.allowInInfo){var b;g({moduleInfo:r.addInfo,to:null===(b=r.allowInInfo)||void 0===b?void 0:b.moduleId}),r.setactiveInfo(r.addInfo),i.setsettingInfo(r.addInfo)}else c()}else if("block"===_.current){var f,h;if(r.insertInfo)y({moduleInfo:r.addInfo,to:null===(f=r.insertInfo)||void 0===f?void 0:f.moduleId,direction:null===(h=r.insertInfo)||void 0===h?void 0:h.direction}),r.setactiveInfo(r.addInfo),i.setsettingInfo(r.addInfo);else if(r.allowInInfo){var x;g({moduleInfo:r.addInfo,to:null===(x=r.allowInInfo)||void 0===x?void 0:x.moduleId}),r.setactiveInfo(r.addInfo),i.setsettingInfo(r.addInfo)}else c()}_.current=void 0,r.setinsertInfo(),r.setaddInfo(),r.setallowInInfo(),r.setdisabledInfo(),E("over")}}function E(e,t){if(t&&"move"===e){if("module"===_.current){if(!o[r.activeInfo.moduleType].config.dragable)return}p.current.style.top=t.clientY+"px",p.current.style.left=t.clientX+"px"}else"over"===e&&(p.current.style.top="-1000000px",p.current.style.left="-1000000px")}function g(e){if(!e.to)return;let t=u.appendChildrenFunc(i.customData,e.to,e.moduleInfo);i.setcustomData(t)}function y(e){if(e.moduleInfo&&e.to&&e.direction)if("top"===e.direction||"left"===e.direction){let t=u.appendModuleFunc(i.customData,e.to,e.moduleInfo,0);i.setcustomData(t)}else if("bottom"===e.direction||"right"===e.direction){let t=u.appendModuleFunc(i.customData,e.to,e.moduleInfo,1);i.setcustomData(t)}else console.error("\u51fa\u73b0\u9519\u8bef\u7684direction\u503c: ",e.direction)}function h(e){return{moduleId:e.target.getAttribute("moduleid")||"",horizontalPart:e.offsetX/e.target.clientWidth>.5?"right":"left",verticalPart:e.offsetY/e.target.clientHeight>.5?"bottom":"top"}}return(0,$.useEffect)((()=>(document.addEventListener("mousedown",v,!1),document.addEventListener("mousemove",b,!1),document.addEventListener("mouseup",f,!1),()=>{document.removeEventListener("mousedown",v,!1),document.removeEventListener("mousemove",b,!1),document.removeEventListener("mouseup",f,!1)})),[d]),J().createElement("div",{ref:p,className:Es.drag_dom},(null===(t=r.addInfo)||void 0===t?void 0:t.name)||(null===(n=r.activeInfo)||void 0===n?void 0:n.name))})),Ds=window.__app__,Ns="editor",As=(e,t)=>{(0,$.useImperativeHandle)(t,(()=>({getValues:h,setValues:x})));const n=Ds.get("contexts.app"),o=Ds.get("hooks.useStateWithRef"),l=Ds.get("modules.screenEditor.modules"),a=Ds.get("modules.components.basicCommon"),{ScreenTypeListMap:i}=Ds.get("datas.configs.project"),{createScriptContexts:r}=Ds.get("handles"),{CreateScreenModal:s}=Ds.get("modules.components.workCommon"),d=(0,$.useRef)(new ws),u=(0,$.useRef)(new ys),c=(0,$.useRef)(new Ts).current,m=d.current,p=u.current,_=(0,$.useRef)(),v=(0,$.useRef)(),[b,f,E]=((0,$.useRef)(!0),o()),g=(0,$.useRef)({});(0,$.useEffect)((()=>(m.reset(),c.reset(),p.initData(),w("on"),()=>{w("off"),m.reset(),c.reset(),p.reset(),I("destroy")})),[]),(0,$.useEffect)((()=>{y()}),[e._id]);const y=async()=>{await async function(){const t=await Ds.xrequest.post("/api/core/screen/detail",{_id:e._id});f(null===t||void 0===t?void 0:t.data)}(),async function(){var t,n;const o=await Ds.xrequest.post("/api/core/screen/draft/last",{_id:void 0,screen_id:e._id}),l=null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.body;x(l||(null===(n=E.current)||void 0===n?void 0:n.body)||{})}()},h=()=>({screenVariable:m.screenVariable,dataSource:m.dataSource,customData:m.customData,screenScript:m.screenScript}),x=async e=>{if(e.dataSource&&(m.setdataSource(e.dataSource||[]),p.initDataSource(e.dataSource||[])),e.screenVariable&&(m.setscreenVariable(e.screenVariable),p.initScreenVariable(e.screenVariable)),e.screenScript){m.setscreenScript(e.screenScript);const t=Ds.runScriptFunc(e.screenScript);g.current=t,setTimeout((()=>I("mounted")),0)}if(e.customData)m.setcustomData(e.customData);else{var t;const e=i[(null===(t=E.current)||void 0===t?void 0:t.type)||"screen"];if(e){const t=function(e,t){return l[e].createFunc(t||{})}(null===e||void 0===e?void 0:e.scene);m.setcustomData(t)}}};function w(e){}async function I(e){var t;const n=null===(t=g.current)||void 0===t?void 0:t[e],o={...r(),...m.contexts.moduleIns,...p.contexts,screenScripts:g.current||{}};null===n||void 0===n||n.call(g.current,o,void 0)}function T(e,t){let n,o=c.activeInfo||m.customData;e=e||c.addInfo,"copy"===t?n=ps.appendModuleFunc(m.customData,o.moduleId,e,1):["group"].includes(o.moduleType)?(o.children[0].children.push(e),n=m.customData):["screen","formSenior","screenFormSenior","wrap","linkBlock","float","wrapin","loop"].includes(o.moduleType)?(o.children.push(e),n=m.customData):n=ps.appendModuleFunc(m.customData,o.moduleId,e,1),m.setcustomData(n),c.setactiveInfo(e),m.setsettingInfo(e)}return J().createElement($r.f.Provider,{value:{XinScreenEditorModulesMap:l,XinCoverView:ts,XinTypeView:Jr,XinChildrenView:as,XinModuleView:ss,XinEmptyView:ns,editorStore:m,operateStore:c,variableStore:p,XinCommon:a,componentList:n.componentList,screenType:(null===b||void 0===b?void 0:b.type)||"screen",core:ps,addFunc:T,removeFunc:function(e){const t=ps.removeModuleFunc(m.customData,e.moduleId);m.setcustomData(t.customData)},copyFunc:function(e){T(ps.cloneAndUpdateModuleIdFunc(e),"copy")},componentFunc:async function(e){var t;"add"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add")&&(v.current=JSON.parse(JSON.stringify(e)),null===(t=_.current)||void 0===t||t.open("create",{},{scene:"component"}))},getVariableValue:_s.A,setVariableValue:vs.A,config:{mode:Ns,deviceType:p.chromeVariable.deviceType||"pc",scene:"create"}}},J().createElement(ks,e),J().createElement(s,{ref:_,contexts:{},refresh:e=>async function(e){const t={component:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6",block:"\u4ee3\u7801\u5757"};if("block"===e.type)await Ds.xrequest.post("/api/core/screen/update",{filter:{_id:null===e||void 0===e?void 0:e._id},data:{body:{screenVariable:void 0,dataSource:void 0,customData:v.current}}}),window.open("#/admin/screen/creator/"+e._id);else if("component"===e.type){const n=l.screen.createFunc({name:t[e.type],children:[v.current]});n.data.attributes.screenType=e.type,await Ds.xrequest.post("/api/core/screen/draft/add",{screen_id:e._id,body:{screenVariable:m.screenVariable,dataSource:m.dataSource,customData:n}}),window.open("#/admin/screen/creator/"+e._id)}}(e)}),J().createElement("div",{className:Es.editor},J().createElement("div",{className:Es.header},J().createElement(Ms,Object.assign({},e,{detailInfo:b,getValues:h}))),J().createElement("div",{className:Es.main},J().createElement(a.AsideFolder,{foldable:!0,direction:"left",width:320},J().createElement(dd,Object.assign({},e,{detailInfo:b}))),J().createElement("div",{className:Es.body},J().createElement(Ps,null,J().createElement(Ys,{contexts:{mode:Ns,...e.contexts||{},screenScripts:g.current||{}},customContexts:{...e.customContexts||{}}}))),J().createElement(a.AsideFolder,{foldable:!0,direction:"right",width:300},J().createElement(ud,Object.assign({},e,{detailInfo:b}))))))},Ls=(0,ae.observer)((0,$.forwardRef)(As)),Fs=window.__app__,Rs="view",Bs=(e,t)=>{(0,$.useImperativeHandle)(t,(()=>({getForm:_,setValues:p})));const n=Fs.get("contexts.app"),o=Fs.get("modules.screenEditor.modules"),{createScriptContexts:l}=Fs.get("handles"),a=(0,$.useRef)(new ws),i=(0,$.useRef)(new ys),r=(0,$.useRef)(new Ts).current,s=a.current,d=i.current,[u,c]=(0,$.useState)(!1),m=(0,$.useRef)({});async function p(e){if(e.dataSource&&(s.setdataSource(e.dataSource||[]),d.initDataSource(e.dataSource||[])),e.screenVariable&&(s.setscreenVariable(e.screenVariable),d.initScreenVariable(e.screenVariable)),e.screenScript){s.setscreenScript(e.screenScript);const t=Fs.runScriptFunc(e.screenScript);m.current=t,setTimeout((()=>v("mounted")),0)}e.customData&&s.setcustomData(e.customData)}(0,$.useEffect)((()=>{if(e.detailInfo){var t;p((null===(t=e.detailInfo)||void 0===t?void 0:t.body)||{})}else e._id&&async function(){var t;c(!0),s.setcustomData();const n=await Fs.xrequest.post("/api/core/screen/detail",{_id:e._id});c(!1);p((null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.body)||{})}()}),[e.detailInfo,e._id]),(0,$.useEffect)((()=>(d.initData(),()=>{d.reset(),s.reset(),r.reset(),v("destroy")})),[]);const _=e=>{null===e||void 0===e||e(s.seniorForm)};async function v(e){var t;const n=null===(t=m.current)||void 0===t?void 0:t[e],o={...l(),...s.contexts.moduleIns,...d.contexts,screenScripts:m.current||{}};null===n||void 0===n||n.call(m.current,o,void 0)}return J().createElement($r.f.Provider,{value:{XinScreenEditorModulesMap:o,XinCoverView:ts,XinTypeView:Jr,XinChildrenView:as,XinModuleView:ss,editorStore:s,operateStore:r,variableStore:d,core:ps,componentList:n.componentList,getVariableValue:_s.A,setVariableValue:vs.A,config:{mode:Rs,deviceType:n.deviceType,scene:e.scene||"create"}}},u?J().createElement("div",{className:Es.spin_loading},J().createElement(M.Spin,{spinning:u})):s.customData?J().createElement(M.Alert.ErrorBoundary,null,J().createElement(Jr,Object.assign({},e,{module:s.customData,contexts:{mode:Rs,...e.contexts||{},screenScripts:m.current||{}},customContexts:{...e.customContexts||{}}}))):J().createElement(M.Empty,{description:"\u753b\u9762\u672a\u914d\u7f6e\u5185\u5bb9",style:{padding:"100px"}}))},Vs=(0,ae.observer)((0,$.forwardRef)(Bs)),Us=(e,t)=>{(0,$.useImperativeHandle)(t,(()=>({getValues:d})));const{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,editorStore:a,core:i,addFunc:r,config:s}=(0,$.useContext)($r.f);function d(){}return J().createElement(M.Alert.ErrorBoundary,null,a.customData&&J().createElement(l,{module:a.customData,contexts:{parents:[],...e.contexts||{}},customContexts:{...e.customContexts||{}}}))},Ys=(0,ae.observer)((0,$.forwardRef)(Us)),zs=window.__app__,js="view",qs=(e,t)=>{(0,$.useImperativeHandle)(t,(()=>({getValues:c,setValues:m})));const n=zs.get("contexts.app"),o=zs.get("modules.screenEditor.modules"),{createScriptContexts:l}=zs.get("handles"),a=(0,$.useRef)(new ws),i=(0,$.useRef)(new ys),r=(0,$.useRef)(new Ts).current,s=a.current,d=i.current,u=(0,$.useRef)({});function c(){return{screenVariable:s.screenVariable,dataSource:s.dataSource,customData:s.customData,screenScript:s.screenScript}}(0,$.useEffect)((()=>(d.initData(),()=>{d.reset(),s.reset(),r.reset(),p("destroy")})),[]),(0,$.useEffect)((()=>{e.body&&m(e.body||{})}),[e.body]);const m=async e=>{if(e.dataSource&&(s.setdataSource(e.dataSource||[]),d.initDataSource(e.dataSource||[])),e.screenVariable&&(s.setscreenVariable(e.screenVariable),d.initScreenVariable(e.screenVariable)),e.screenScript){s.setscreenScript(e.screenScript);const t=zs.runScriptFunc(e.screenScript);u.current=t,setTimeout((()=>p("mounted")),0)}e.customData&&s.setcustomData(e.customData)};async function p(e){var t;const n=null===(t=u.current)||void 0===t?void 0:t[e],o={...l(),...s.contexts.moduleIns,...d.contexts,screenScripts:u.current||{}};null===n||void 0===n||n.call(u.current,o,void 0)}return J().createElement($r.f.Provider,{value:{XinScreenEditorModulesMap:o,XinCoverView:ts,XinTypeView:Jr,XinChildrenView:as,XinModuleView:ss,editorStore:s,operateStore:r,variableStore:d,core:ps,componentList:n.componentList,screenType:e.screenType||"screen",getVariableValue:_s.A,setVariableValue:vs.A,config:{mode:js,deviceType:n.deviceType,scene:"create"}}},s.customData?J().createElement(M.Alert.ErrorBoundary,null,J().createElement(Jr,{module:s.customData,contexts:{mode:js,...e.contexts||{},editorPreview:!0,screenScripts:u.current||{}},customContexts:{...e.customContexts||{}}})):J().createElement(M.Empty,{description:"\u753b\u9762\u672a\u914d\u7f6e\u5185\u5bb9",style:{margin:"100px"}}))},Xs=(0,ae.observer)((0,$.forwardRef)(qs)),Ws=window.__app__,Ks=[{name:"\u5e03\u5c40\u7ec4\u4ef6",level:1},{name:"\u753b\u9762\u7ec4\u4ef6",level:2},{name:"\u9ad8\u7ea7\u7ec4\u4ef6",level:3},{name:"\u8868\u5355\u7ec4\u4ef6",level:4},{name:"\u6570\u636e\u8868\u7ec4\u4ef6",level:5},{name:"\u56fe\u8868\u7ec4\u4ef6",level:6},{name:"\u62a5\u8868\u7ec4\u4ef6",level:7},{name:"\u4e1a\u52a1\u7ec4\u4ef6",level:8},{name:"\u79fb\u52a8\u7aef\u7ec4\u4ef6",level:9},{name:"\u6570\u636e\u5904\u7406",level:10},{name:"\u5176\u5b83\u7ec4\u4ef6",level:11}],$s={click:{name:"\u5355\u51fb\u4e8b\u4ef6",value:"click"},dbclick:{name:"\u53cc\u51fb\u4e8b\u4ef6",value:"dbclick"},mouseover:{name:"\u79fb\u5165\u4e8b\u4ef6",value:"mouseover"},mouseout:{name:"\u79fb\u51fa\u4e8b\u4ef6",value:"mouseout"}},Js={url:{name:"\u9875\u9762\u8df3\u8f6c",value:"url"},variable:{name:"\u4fee\u6539\u753b\u9762\u53d8\u91cf",value:"variable"},script:{name:"\u6267\u884c\u811a\u672c",value:"script"}},Hs=[{name:"\u8f6e\u64ad\u7ec4\u4ef6",level:1},{name:"\u56fe\u7247\u7ec4\u4ef6",level:2},{name:"\u5361\u7247\u7ec4\u4ef6",level:3},{name:"\u5185\u5bb9\u7ec4\u4ef6",level:4},{name:"\u89c6\u9891\u7ec4\u4ef6",level:5}],Gs=()=>({_id:Ws.uuid("uid_"),name:"\u52a8\u4f5c",event:"click",action:"url",target:"_self"}),Qs=window.__app__,Zs=[{label:"\u57fa\u7840\u7ec4\u4ef6",value:"story",icon:J().createElement(H.AppstoreFilled,null)},{label:"\u7ed3\u6784\u6811",value:"structure",icon:J().createElement(H.FunnelPlotFilled,null)},{label:"\u4ee3\u7801\u5757",value:"block",icon:J().createElement(H.ProductFilled,null)},{label:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6",value:"component",icon:J().createElement(H.FlagFilled,null)}],ed=(0,ae.observer)((e=>J().createElement("div",{className:Es.search_area},J().createElement("div",{className:Es.input_box,style:{padding:10}},J().createElement(M.Input.Search,{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22",onSearch:e.onSearch})),J().createElement("div",{className:Es.content_box},e.children)))),td=(0,ae.observer)((e=>J().createElement(M.Col,{span:8},J().createElement(M.Tooltip,{title:e.item.fullName||e.item.name},J().createElement("div",{className:Es.btn,moduletype:e.item.moduleType},J().createElement("div",{className:Es.icon},e.item.icon),J().createElement("div",{className:Es.text},e.item.name)))))),nd=(0,ae.observer)((e=>{const{XinScreenEditorModulesMap:t,XinCommon:n,screenType:o,core:l,addFunc:a,config:i}=(0,$.useContext)($r.f);return J().createElement("div",{className:Es.buttons},Ks.map(((e,l)=>J().createElement($.Fragment,{key:l},J().createElement(n.Block,{title:e.name},J().createElement(M.Row,{gutter:[10,10],type:"flex",align:"top"},Object.values(t).filter(((e,t)=>{const n=e.config.buttonExclude;return!(Array.isArray(n)&&n.length>0)||!n.includes(o)})).map(((t,n)=>"\u5176\u5b83\u7ec4\u4ef6"===e.name?t.config.button&&!Ks.map((e=>e.name)).includes(t.type)&&J().createElement(td,{key:n,item:t}):t.config.button&&e.name===t.type&&J().createElement(td,{key:n,item:t})))))))))})),od=(0,ae.observer)((e=>{var t;const{XinScreenEditorModulesMap:n,editorStore:o,operateStore:l,XinFormNode:a,XinGridNode:i,XinWrapNode:r,XinModuleNode:s,XinCoverView:d,XinTypeView:u,core:c,addFunc:m,removeFunc:p,copyFunc:_}=(0,$.useContext)($r.f),[v,b]=(0,$.useState)({}),f=(null===(t=l.activeInfo)||void 0===t?void 0:t.moduleType)&&n[l.activeInfo.moduleType];(0,$.useEffect)((()=>{}),[]);const E=e=>{e.stopPropagation&&e.stopPropagation()};return J().createElement("div",{className:Es.outline},o.customData&&function e(t,n){var o,a,i,r,s,d,u,c,m,g,y,h;return J().createElement($.Fragment,{key:t.moduleId},J().createElement("div",{moduleid:t.moduleId,className:Z()({[Es.line]:!0,[Es.hover]:l.hoverInfo&&l.hoverInfo.moduleId===t.moduleId,[Es.active]:l.activeInfo&&l.activeInfo.moduleId===t.moduleId}),style:{padding:"0 10px",paddingLeft:10*n}},J().createElement("div",{className:Es.fold,onClick:e=>((e,t)=>{e.stopPropagation&&e.stopPropagation();let n={...v};n[t]?delete n[t]:n[t]=!0,b(n)})(e,t.moduleId)},t.children&&t.children.length>0&&J().createElement(H.CaretRightOutlined,{className:Es.iconfont,rotate:v[t.moduleId]?0:90})),J().createElement("div",{className:Es.title},J().createElement("span",null,t.name),(null===(o=t.data)||void 0===o||null===(a=o.attributes)||void 0===a?void 0:a.componentTitle)&&J().createElement("span",{className:Es.subtitle},"[",null===(i=t.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.componentTitle,"]")),J().createElement("div",{className:Es.control,onClick:e=>E(e)},(null===f||void 0===f||null===(s=f.config)||void 0===s?void 0:s.copyable)&&J().createElement(H.CopyOutlined,{className:Z()([Es.btns,Es.copy]),onClick:e=>((e,t)=>{E(e),_(t)})(e,t)}),(null===f||void 0===f||null===(d=f.config)||void 0===d?void 0:d.removeable)&&J().createElement(M.Popconfirm,{title:"\u786e\u8ba4\u5220\u9664\uff1f",placement:"topRight",overlayStyle:{minWidth:160},onConfirm:e=>((e,t)=>{E(e),p(t)})(e,t)},J().createElement(H.CloseOutlined,{className:Z()([Es.btns,Es.remove])})))),!v[t.moduleId]&&(null===(u="grid"===t.moduleType&&"loop"===(null===(c=t.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.type)||"tabs"===t.moduleType&&"loop"===(null===(g=t.data)||void 0===g||null===(y=g.attributes)||void 0===y?void 0:y.renderType)?[null===(h=t.children)||void 0===h?void 0:h[0]]:t.children)||void 0===u?void 0:u.map(((t,o)=>e(t,n+1)))))}(o.customData,1))})),ld=(0,ae.observer)((e=>{var t,n,o,l,a;return J().createElement(M.Col,{span:12},null!==(t=e.data.body)&&void 0!==t&&null!==(n=t.customData)&&void 0!==n&&n.moduleId?J().createElement("div",{componentid:e.data._id,className:Z()([Es.component_item,Es.component])},J().createElement("div",{className:Es.cover_bg,style:{height:60,backgroundImage:'url("'.concat(null===(o=(l=Qs.handles).resourceUrl)||void 0===o?void 0:o.call(l,(null===(a=e.data.avatar)||void 0===a?void 0:a.url)||"https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png"),'")')}}),J().createElement("div",{className:Z()([Es.footer,Es.eventnone])},J().createElement("div",{className:Es.title},e.data.name))):J().createElement("div",{style:{padding:"20px 10px",textAlign:"center",background:"rgba(0,0,0,0.03)",color:"rgba(0,0,0,0.5)",borderRadius:5,userSelect:"none",border:"1px solid rgba(0,0,0,0.06)"}},"\u753b\u9762\u4e3a\u7a7a"))})),ad=((0,ae.observer)((e=>{var t,n,o,l,a;return J().createElement(M.Col,{span:12},null!==(t=e.data.body)&&void 0!==t&&null!==(n=t.customData)&&void 0!==n&&n.moduleId?J().createElement("div",{className:Z()([Es.component_item,Es.template])},J().createElement("div",{className:Es.cover_bg,style:{height:60,backgroundImage:'url("'.concat(null===(o=(l=Qs.handles).resourceUrl)||void 0===o?void 0:o.call(l,(null===(a=e.data.avatar)||void 0===a?void 0:a.url)||"https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png"),'")')}}),J().createElement("div",{className:Es.footer},J().createElement("div",{className:Z()([Es.title,Es.eventnone])},e.data.name),J().createElement("div",{className:Z()([Es.bottom])},J().createElement("div",{className:Z()([Es.bottom_left,Es.eventnone])},"\u5b98\u65b9"),J().createElement("div",{className:Es.bottom_right},J().createElement(M.Button,{type:"primary",size:"small",onClick:t=>e.add(e.data)},"\u4f7f\u7528"))))):J().createElement("div",{style:{padding:"20px 10px",textAlign:"center",background:"rgba(0,0,0,0.03)",color:"rgba(0,0,0,0.5)",borderRadius:5,userSelect:"none",border:"1px solid rgba(0,0,0,0.06)"}},"\u753b\u9762\u4e3a\u7a7a"))})),(0,ae.observer)((e=>{const{XinScreenEditorModulesMap:t,XinCommon:n,componentList:o,editorStore:l,XinFormNode:a,XinGridNode:i,XinWrapNode:r,XinModuleNode:s,XinCoverView:d,XinTypeView:u,core:c,addFunc:m,removeFunc:p,copyFunc:_}=(0,$.useContext)($r.f),[v,b]=(Qs.get("contexts.app"),(0,$.useState)([])),[f,E]=(0,$.useState)([]),g=(0,$.useMemo)((()=>[{name:"\u672a\u5206\u7c7b",children:f.filter((e=>!e.parent_id))}].concat(v.map((e=>({name:e.name,children:f.filter((t=>t.parent_id===e._id))}))))),[v,f]);(0,$.useEffect)((()=>{new Promise((async(e,t)=>{var n;const o=await Qs.xrequest.post("/api/core/screen/group/list",{filter:{type:"component"},current:1,pageSize:1e4,sort:{create_time:1}}),l=(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)||[];b(l),e(l)})),new Promise((async(e,t)=>{var n;const o=await Qs.xrequest.post("/api/core/screen/list",{filter:{type:"component"},current:1,pageSize:1e4,select:{}}),l=(null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.data)||[];E(l),e(l)}))}),[]);return J().createElement("div",{className:Es.component},g.map(((e,t)=>{var o,l;return J().createElement($.Fragment,{key:t},J().createElement(n.Block,{title:e.name},J().createElement(M.Row,{gutter:[10,10],type:"flex",align:"top"},null===(o=e.children)||void 0===o?void 0:o.map(((e,t)=>J().createElement(ld,{key:t,data:e}))),!(null!==(l=e.children)&&void 0!==l&&l.length)&&J().createElement(M.Col,{span:24},J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE})))))})))}))),id=(0,ae.observer)((e=>{var t,n,o,l,a;return J().createElement(M.Col,{span:12},null!==(t=e.data.body)&&void 0!==t&&null!==(n=t.customData)&&void 0!==n&&n.moduleId?J().createElement("div",{blockid:e.data._id,mineblock:e.mineblock?"true":void 0,className:Z()([Es.component_item,Es.component])},J().createElement("img",{className:Es.banner,src:null===(o=(l=Qs.handles).resourceUrl)||void 0===o?void 0:o.call(l,null===(a=e.data.avatar)||void 0===a?void 0:a.url)}),J().createElement("div",{className:Z()([Es.footer,Es.eventnone])},J().createElement("div",{className:Es.title},e.data.name))):J().createElement("div",{style:{padding:"20px 10px",textAlign:"center",background:"rgba(0,0,0,0.03)",color:"rgba(0,0,0,0.5)",borderRadius:5,userSelect:"none",border:"1px solid rgba(0,0,0,0.06)"}},"\u753b\u9762\u4e3a\u7a7a"))})),rd=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s;const{XinScreenEditorModulesMap:d,XinCommon:u,componentList:c,editorStore:m,XinFormNode:p,XinGridNode:_,XinWrapNode:v,XinModuleNode:b,XinCoverView:f,XinTypeView:E,core:g,addFunc:y,removeFunc:h,copyFunc:x}=(0,$.useContext)($r.f),w=(Qs.get("contexts.app"),(0,$.useRef)()),I=(0,$.useRef)({current:1,pageSize:16,total:0});function T(e){return new Promise((async(e,t)=>{var n,o,l,a;const i=await Qs.xrequest.post("/api/core/screen/mine_block_list",{filter:{name:w.current},current:null===(n=I.current)||void 0===n?void 0:n.current,pageSize:null===(o=I.current)||void 0===o?void 0:o.pageSize}),r=(null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.data)||[];I.current.total=(null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.count)||0,m.setmineBlockList(r),e(r)}))}function C(e){return new Promise((async(t,n)=>{var o;const l=await Qs.xrequest.post("/api/core/center/screen/block_list",{filter:e,current:1,pageSize:1e3}),a=(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.data)||[];m.setblockList(a),t(a)}))}(0,$.useEffect)((()=>{T(),C()}),[]);return J().createElement("div",{className:Es.component},J().createElement(u.Segment,{options:[{label:"\u6211\u7684\u4ee3\u7801\u5757",value:"mine",children:J().createElement(ed,{onSearch:e=>{w.current=e,I.current.current=1,T()}},J().createElement(M.Row,{gutter:[10,10],type:"flex",align:"top"},null===(t=m.mineBlockList)||void 0===t?void 0:t.map(((e,t)=>J().createElement(id,{key:t,mineblock:!0,data:e}))),Boolean(null===(n=m.mineBlockList)||void 0===n?void 0:n.length)&&J().createElement(M.Col,{span:24,style:{textAlign:"right"}},J().createElement(M.Pagination,{onChange:(e,t)=>{I.current.current=e||1,I.current.pageSize=t||16,T()},current:null===(o=I.current)||void 0===o?void 0:o.current,pageSize:null===(l=I.current)||void 0===l?void 0:l.pageSize,size:"small",defaultCurrent:0,total:(null===(a=I.current)||void 0===a?void 0:a.total)||0})),!(null!==(i=m.mineBlockList)&&void 0!==i&&i.length)&&J().createElement(M.Col,{span:24},J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE}))))},{label:"\u5728\u7ebf\u4ee3\u7801\u5757",value:"online",children:J().createElement(ed,{onSearch:e=>C({name:e})},J().createElement(M.Row,{gutter:[10,10],type:"flex",align:"top"},null===(r=m.blockList)||void 0===r?void 0:r.map(((e,t)=>J().createElement(id,{key:t,data:e}))),!(null!==(s=m.blockList)&&void 0!==s&&s.length)&&J().createElement(M.Col,{span:24},J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE}))))}]}))})),sd=(0,ae.observer)((e=>{const{XinScreenEditorModulesMap:t,XinCoverView:n,XinTypeView:o,editorStore:l,operateStore:a,variableStore:i,componentList:r,core:s,config:d}=(0,$.useContext)($r.f),[u,c]=(0,$.useState)(Zs[0].value);return J().createElement("div",{className:Es.aside_box},J().createElement("div",{className:Es.aside_menu},Zs.map(((e,t)=>J().createElement(M.Tooltip,{key:t,placement:"right",title:e.label},J().createElement(M.Button,{className:Es.item_box,type:u===e.value?"primary":"text",icon:e.icon,onClick:t=>c(e.value)}))))),J().createElement("div",{className:Es.aside_content},J().createElement("div",{className:Z()([Es.content,"story"===u&&Es.show])},J().createElement(nd,e)),J().createElement("div",{className:Z()([Es.content,"structure"===u&&Es.show])},J().createElement(od,e)),J().createElement("div",{className:Z()([Es.content,"block"===u&&Es.show])},J().createElement(rd,e)),J().createElement("div",{className:Z()([Es.content,"component"===u&&Es.show])},J().createElement(ad,e))))})),dd=sd,ud=(0,ae.observer)((e=>{var t;const{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,editorStore:a,operateStore:i,variableStore:r,componentList:s,core:d,config:u}=(0,$.useContext)($r.f),c=(0,$.useRef)(),m=null!==(t=a.settingInfo)&&void 0!==t&&t.moduleType?n[a.settingInfo.moduleType]:void 0;(0,$.useEffect)((()=>{var e;null===(e=c.current)||void 0===e||e.resetFields()}),[i.activeInfo]);return m&&J().createElement(m.Setting,{ref:c,module:a.settingInfo,control:m.control,funcs:m.funcs,contexts:{componentList:s},onChange:e=>(e=>{let{moduleId:t,values:n}=e,o=JSON.parse(JSON.stringify(a.customData));const{moduleInfo:l}=d.findModuleFunc(o,t);l&&(l.data={...(null===l||void 0===l?void 0:l.data)||{},...n||{}}),a.setsettingInfo(l),a.setcustomData(o)})(e)})}));var cd=__webpack_require__(8602);const md=(0,ae.observer)((e=>{var t,n,o;const{XinScreenEditorModulesMap:l,XinCoverView:a,XinTypeView:i,XinModuleView:r,customData:s,variableStore:d,core:u,addFunc:c,getVariableValue:m,config:p}=(0,$.useContext)($r.f);return J().createElement(r,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.html_content)}),J().createElement("div",{style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:d})},className:Z()([is.A.html_content,m(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.className,e,{variableStore:d})]),dangerouslySetInnerHTML:{__html:m(null===(o=e.module.data.attributes)||void 0===o?void 0:o.content,e,{variableStore:d})}}))}));var pd=__webpack_require__(1044),_d={};_d.styleTagTransform=q(),_d.setAttributes=U(),_d.insert=B().bind(null,"head"),_d.domAPI=F(),_d.insertStyleElement=z();A()(pd.A,_d);const vd=pd.A&&pd.A.locals?pd.A.locals:void 0;var bd=__webpack_require__(6183),fd={};fd.styleTagTransform=q(),fd.setAttributes=U(),fd.insert=B().bind(null,"head"),fd.domAPI=F(),fd.insertStyleElement=z();A()(bd.A,fd);const Ed=bd.A&&bd.A.locals?bd.A.locals:void 0,gd=window.__app__,yd=(0,ae.observer)((e=>{const t=(0,$.useMemo)((()=>n(e.treeData,e.path)),[e.treeData]);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const o=[];for(let a in e){if("asyncmap"===a)break;const i=e[a],r=(l=i,{"[object Object]":{title:"\u5bf9\u8c61",type:"object"},"[object Number]":{title:"\u6570\u5b57",type:"number"},"[object String]":{title:"\u5b57\u7b26\u4e32",type:"string"},"[object Boolean]":{title:"\u5e03\u5c14",type:"boolean"},"[object Function]":{title:"\u51fd\u6570",type:"function"},"[object Symbol]":{title:"Symbol",type:"symbol"},"[object Array]":{title:"\u6570\u7ec4",type:"array"},"[object Null]":{title:"Null",type:"null"},"[object Undefined]":{title:"Undefined",type:"undefined"}}[Object.prototype.toString.call(l)]),s=Array.isArray(e)?"[".concat(a,"]"):a,d={title:J().createElement("div",{className:Ed.tree_node},J().createElement(M.Space,null,J().createElement("span",{className:Ed.fieldname},a," : "),["object","array"].includes(r.type)&&J().createElement(J().Fragment,null,J().createElement("span",{className:Z()([Ed.attr,Ed[r.type]])},r.title),J().createElement("span",{className:Ed.number},"\u5c5e\u6027\u6570: ",Object.keys(i).length)),"string"===r.type&&J().createElement("span",{className:Ed.value,style:{color:"rgb(121, 137, 83)"}},String(i)),"number"===r.type&&J().createElement("span",{className:Ed.value,style:{color:"rgb(210, 132, 69)"}},String(i)),"boolean"===r.type&&J().createElement("span",{className:Ed.value,style:{color:"rgb(163, 107, 214)"}},String(i)))),key:gd.uuid("variable_"),data:{path:[...t,s]}};("object"===r.type||"array"===r.type)&&(d.children=n(i,[...t,s])),o.push(d)}var l;return o}return null!==t&&void 0!==t&&t.length?J().createElement(M.Tree,{className:Ed.tree,showLine:!0,blockNode:!0,defaultExpandedKeys:[],onSelect:(t,n)=>{var o,l,a;let i=(null===(o=n.node)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.path)||[];i=i.filter((e=>"tree"!==e)),i=i.join("."),i=i.replace(/\.\[/g,"["),i="state."+i,null===(a=e.onChange)||void 0===a||a.call(e,i)},treeData:t}):J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE})}));function hd(e,t){(0,$.useImperativeHandle)(t,(()=>({open:h})));const{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinChildrenView:a,XinModuleView:i,XinEmptyView:r,customData:s,editorStore:d,variableStore:u,core:c,addFunc:m,getVariableValue:p,config:_}=(0,$.useContext)($r.f),[v]=M.Form.useForm(),[b,f]=(0,$.useState)(!1),E=(0,$.useRef)(),g=(0,$.useMemo)((()=>{var t;const n=e.moduleId&&(null===(t=d.moduleMap[e.moduleId])||void 0===t?void 0:t.customContexts),o=Object.values(n||{}).length;return[{key:"system",label:"\u7cfb\u7edf\u4fe1\u606f",children:J().createElement(yd,{treeData:u.systemVariable,path:["systemVariable"],onChange:y})},{key:"dataSource",label:"\u6570\u636e\u6e90",children:J().createElement(yd,{treeData:u.dataSourceVariable,path:["dataSourceVariable"],onChange:y})},{key:"screen",label:"\u753b\u9762\u53d8\u91cf",children:J().createElement(yd,{treeData:u.screenVariable,path:["screenVariable"],onChange:y})},Boolean(o)&&{key:"context",label:"\u4e0a\u4e0b\u6587\u53c2\u6570",children:J().createElement(yd,{treeData:n||{},path:["contextVariable"],onChange:y})},Object.keys(u.exportVariable||{}).length>0&&{key:"export",label:"\u7ec4\u4ef6\u5bfc\u51fa\u503c",children:J().createElement(yd,{treeData:u.exportVariable,path:["exportVariable"],onChange:y})},{key:"dictionary",label:"\u6570\u636e\u5b57\u5178",children:J().createElement(yd,{treeData:u.dictionaryVariable,path:["dictionaryVariable"],onChange:y})},{key:"userinfo",label:"\u7528\u6237\u4fe1\u606f",children:J().createElement(yd,{treeData:u.userinfoVariable,path:["userinfoVariable"],onChange:y})},{key:"chrome",label:"\u6d4f\u89c8\u5668\u53c2\u6570",children:J().createElement(yd,{treeData:u.chromeVariable,path:["chromeVariable"],onChange:y})},{key:"commonData",label:"\u901a\u7528\u6570\u636e",children:J().createElement(yd,{treeData:u.commonDataVariable,path:["commonDataVariable"],onChange:y})}].filter(Boolean)}),[e.moduleId,d.moduleMap,u.systemVariable,u.chromeVariable,u.dataSourceVariable,u.userinfoVariable,u.dictionaryVariable,u.screenVariable,u.exportVariable]);function y(e){var t,n,o,l;const a=null===(t=E.current)||void 0===t||null===(n=t.resizableTextArea)||void 0===n?void 0:n.textArea,i=(null===a||void 0===a?void 0:a.selectionStart)||0,r=(null===a||void 0===a?void 0:a.selectionEnd)||0;v.setFieldsValue({formula:"".concat(null===(o=a.value)||void 0===o?void 0:o.substring(0,i)).concat(e).concat(null===(l=a.value)||void 0===l?void 0:l.substring(r))}),a.focus();let s=setTimeout((()=>{a.setSelectionRange(i+e.length,i+e.length),clearTimeout(s),s=null}),0)}function h(){f(!0),v.setFieldsValue({formula:e.value})}function x(){f(!1)}return J().createElement(M.Modal,{title:"\u6570\u636e\u7ed1\u5b9a",width:1200,open:b,destroyOnClose:!0,onOk:function(){v.validateFields().then((t=>{e.onChange(t),x()}))},onCancel:x},J().createElement(M.Form,{form:v,layout:"vertical"},J().createElement(M.Row,{gutter:[0,0]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u7f16\u8f91\u516c\u5f0f",name:"formula",tooltip:"\u70b9\u51fb\u4e0b\u65b9\u6570\u636e\u6e90\u53ef\u4ee5\u9009\u62e9\u53d8\u91cf\uff0c\u5728\u7f16\u8f91\u6846\u4e2d\u53ef\u4ee5\u8f93\u5165\u7b26\u53f7\u8fdb\u884c\u8fd0\u7b97",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u53d8\u91cf\u6216\u516c\u5f0f"}]},J().createElement(M.Input.TextArea,{ref:E,placeholder:"\u8bf7\u9009\u62e9\u6216\u8f93\u5165",autoSize:{minRows:1}}))),J().createElement(M.Col,{span:24},J().createElement(M.Tabs,{defaultActiveKey:"system",items:g})))))}const xd=(0,ae.observer)((0,$.forwardRef)(hd)),wd=window.__app__,Id=(0,ae.observer)((e=>{const{XinScreenEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinChildrenView:l,XinModuleView:a,customData:i,setcustomData:r,editorStore:s,variableStore:d,core:u,addFunc:c,getVariableValue:m,config:p}=(0,$.useContext)($r.f),_=(0,$.useMemo)((()=>s.customData&&[function t(n){var o,l,a,i,r,d;const u=null===(o=s.moduleInsMap)||void 0===o?void 0:o[n.moduleId];return{title:J().createElement("div",{style:{display:"flex",padding:"0 5px"}},J().createElement("div",{style:{flex:1}},J().createElement("span",null,n.name),(null===(l=n.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.componentTitle)&&J().createElement("span",{className:Ed.script_modal_subtitle},"[",null===(i=n.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.componentTitle,"]")),J().createElement("div",null,J().createElement(M.Dropdown,{overlayStyle:{width:170},menu:{items:[{key:"attributes",type:"group",label:"\u5c5e\u6027",children:((null===u||void 0===u?void 0:u.attributes)||[]).map((e=>{var t;return{key:"contexts.".concat(n.moduleId,".").concat(null===(t=e.value)||void 0===t?void 0:t.join(".")),label:e.label}}))},{key:"methods",type:"group",label:"\u65b9\u6cd5",children:((null===u||void 0===u?void 0:u.methods)||[]).map((e=>{var t;return{key:"contexts.".concat(n.moduleId,".").concat(null===(t=e.value)||void 0===t?void 0:t.join(".")),label:e.label}}))}],onClick:t=>{let{key:n}=t;e.onClick&&e.onClick(n)}},destroyPopupOnHide:!0,trigger:["hover"],placement:"bottomRight"},J().createElement(M.Button,{size:"small",type:"text",icon:J().createElement(H.MoreOutlined,null)})))),key:n.moduleId,selectable:!1,children:null===(d=n.children)||void 0===d?void 0:d.map((e=>t(e)))}}(s.customData)]),[s.customData,s.moduleInsMap]);return J().createElement(M.Tree,{defaultExpandAll:!0,treeData:_,blockNode:!0})})),Td=(0,ae.observer)((0,$.forwardRef)(((e,t)=>{var n,o,l;(0,$.useImperativeHandle)(t,(()=>({})));const a=wd.get("modules.components.basicCommon"),{XinScreenEditorModulesMap:i,XinCoverView:r,XinTypeView:s,XinChildrenView:d,XinModuleView:u,customData:c,setcustomData:m,editorStore:p,variableStore:_,core:v,addFunc:b,getVariableValue:f,config:E}=(wd.get("modules.components.basicForm"),(0,$.useContext)($r.f)),g=(0,$.useRef)(),y=(0,$.useRef)(),[h,x]=(0,$.useState)(!1),[w,I]=(0,$.useState)(),[T,C]=(0,$.useState)(!1);function S(){C(!1),x(!1)}return J().createElement(J().Fragment,null,J().createElement("div",{ref:g,style:{display:"inline-block",zIndex:1e4}}),J().createElement("span",{onClick:t=>function(){var t;I((null===(t=e.value)||void 0===t?void 0:t.value)||e.value),x(!0),setTimeout((()=>{C(!0)}),150)}()},e.children||J().createElement(M.Button,e.buttonProps||{},(null===(n=e.buttonProps)||void 0===n?void 0:n.title)||"\u7f16\u5199\u811a\u672c")),J().createElement(M.Modal,Object.assign({title:(null===(o=e.modalProps)||void 0===o?void 0:o.title)||"\u7f16\u5199\u811a\u672c",width:(null===(l=e.modalProps)||void 0===l?void 0:l.width)||1100,destroyOnClose:!0},e.modalProps||{},{getContainer:()=>e.inContainer?g.current:document.body,open:h,onOk:async function(){var t;const n=w&&{type:"js",value:w,transformCode:wd.transformScriptFunc(w)};null===(t=e.onChange)||void 0===t||t.call(e,n),S()},onCancel:S}),J().createElement(M.Row,{gutter:[15,10]},J().createElement(M.Col,{span:16},T&&J().createElement(a.CodeEditor,{ref:y,language:"javascript",style:{minHeight:400,height:"100%"},value:w,onChange:e=>I(e)})),J().createElement(M.Col,{span:8,style:{maxHeight:515,overflowY:"auto"}},h&&J().createElement(Id,{onClick:e=>{var t;null===(t=y.current)||void 0===t||t.insertText(e)}})))))}))),Cd=Td,Sd=window.__app__,Od=e=>{var t,n,o;const l=Sd.get("modules.components.basicForm"),a=(0,$.useRef)(),i=(0,$.useRef)();return J().createElement(J().Fragment,null,J().createElement(l.VariableContainer,Object.assign({ref:i},e,{modalRef:a}),e.children),J().createElement(xd,{ref:a,moduleId:null===(t=e.module)||void 0===t?void 0:t.moduleId,moduleType:null===(n=e.module)||void 0===n?void 0:n.moduleType,value:null===(o=e.value)||void 0===o?void 0:o.variable,onChange:e=>{var t;null===(t=i.current)||void 0===t||t.variable(e.formula)}}))},Pd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.BasicSelect,e))},Md=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.BasicInput,e))},kd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.BasicTextarea,e))},Dd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.BasicInputNumber,e))},Nd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.BasicDatePicker,e))},Ad=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.BasicDateRangePicker,e))},Ld=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.DateRangePlaceholder,e))},Fd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.RichText,e))},Rd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.RichTextModal,e))},Bd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.CodeEditor,e))},Vd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.JavascriptCodeModal,e))},Ud=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.JavascriptTransformCodeModal,e))},Yd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.CodeEditorModal,Object.assign({options:{props:{language:"json"}}},e)))},zd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.HtmlCodeModal,e))},jd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.JsonObjectModal,e))},qd=e=>J().createElement(Od,e,J().createElement(Wu,e)),Xd=e=>{var t;return J().createElement(Od,e,J().createElement(Cd,Object.assign({},(null===(t=e.options)||void 0===t?void 0:t.props)||{},e)))},Wd=e=>{var t,n,o;const{XinScreenEditorModulesMap:l,XinCoverView:a,XinTypeView:i,XinModuleView:r,editorStore:s,variableStore:d,core:u,addFunc:c,getVariableValue:m,config:p}=(0,$.useContext)($r.f);function _(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}function v(t){const n=JSON.parse(JSON.stringify(s.customData)),{moduleInfo:o}=u.findModuleFunc(n,e.module.moduleId),a=Array(t).fill(1).map(((e,t)=>{var n;return(null===(n=o.children)||void 0===n?void 0:n[t])||l.wrapin.createFunc({name:o.name+"\u5185\u90e8\u5bb9\u5668"})}));o.children=a,s.setcustomData(n)}return J().createElement(M.Popover,{placement:"leftTop",title:"\u5e03\u5c40\u8bbe\u7f6e",destroyTooltipOnHide:!0,trigger:"click",content:J().createElement(M.Space,{size:[10,10],wrap:!0,style:{width:300}},null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n||null===(o=n.options)||void 0===o?void 0:o.map(((t,n)=>J().createElement(M.Button,{key:n,type:t.label===e.value?"primary":"default",onClick:e=>{_(t.label),t.label&&v(t.label.split(":").length)}},t.label))))},J().createElement(M.Input,{value:e.value,placeholder:"\u8bf7\u8f93\u5165",style:{width:"100%"},onChange:e=>{const t=e.target.value;t&&v(t.split(":").length),_(t)}}))},Kd=e=>{var t,n;const o=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(o.BasicInput,{options:{props:{placeholder:{url:"\u8bf7\u8f93\u5165",page:"\u8bf7\u8f93\u5165\uff0c#/\u5f00\u5934"}[(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.linkType)||"url"]}},value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)}))},$d=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.RadioButtonGroupInLine,e))},Jd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.IconRadioGroup,e))},Hd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.InputNumberWithSlider,e))},Gd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.BasicSlider,e))},Qd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.BasicCheckboxGroup,e))},Zd=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.ButtonCheckboxGroup,e))},eu=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.ColorPicker,e))},tu=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.InputAndSelect,e))},nu=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.SizeAndUnit,e))},ou=e=>{var t,n,o;return J().createElement(M.Button.Group,{style:{width:"100%"}},null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n||null===(o=n.options)||void 0===o?void 0:o.map(((t,n)=>J().createElement(M.Tooltip,{key:n,title:t.label},J().createElement(M.Button,{block:!0,type:e.value&&e.value[t.name]?"primary":"default",icon:t.icon,onClick:n=>{!function(t,n){var o;null===(o=e.onChange)||void 0===o||o.call(e,{...e.value||{},[n]:t})}(!(e.value&&e.value[t.name]),t.name)}})))))},lu=e=>{const t=Sd.get("modules.components.basicCommon"),n=[{label:"\u5b9e\u7ebf",value:"solid"},{label:"\u865a\u7ebf",value:"dashed"},{label:"\u70b9\u7ebf",value:"dotted"}];return J().createElement(M.Popover,{placement:"leftTop",title:"\u8fb9\u6846\u8bbe\u7f6e",destroyTooltipOnHide:!0,content:J().createElement(M.Form,{className:vd.form,layout:"horizontal",labelAlign:"left",style:{width:340},colon:!1,initialValues:e.value,onValuesChange:(t,n)=>function(t,n){var o;null===(o=e.onChange)||void 0===o||o.call(e,n)}(0,n)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{offset:6,span:6,style:{textAlign:"center"}},"\u5bbd\u5ea6"),J().createElement(M.Col,{span:6,style:{textAlign:"center"}},"\u6837\u5f0f"),J().createElement(M.Col,{span:6,style:{textAlign:"center"}},"\u989c\u8272"),[{label:"\u4e0a\u8fb9\u6846",value:"top"},{label:"\u53f3\u8fb9\u6846",value:"right"},{label:"\u4e0b\u8fb9\u6846",value:"bottom"},{label:"\u5de6\u8fb9\u6846",value:"left"}].map(((e,o)=>J().createElement($.Fragment,{key:o},J().createElement(M.Col,{span:12},J().createElement(M.Form.Item,{label:e.label,name:[e.value,"width"],labelCol:{span:12}},J().createElement(M.InputNumber,{style:{width:"100%"},min:0,step:1}))),J().createElement(M.Col,{span:6},J().createElement(M.Form.Item,{name:[e.value,"style"]},J().createElement(M.Select,{style:{width:"100%"}},n.map(((e,t)=>J().createElement(M.Select.Option,{key:t,value:e.value},e.label)))))),J().createElement(M.Col,{span:6},J().createElement(M.Form.Item,{name:[e.value,"color"]},J().createElement(t.ColorPicker,{style:{width:"100%"}})))))))),trigger:"click"},J().createElement(M.Button,{block:!0},"\u70b9\u51fb\u914d\u7f6e"))},au=e=>{const t=Sd.get("modules.components.basicCommon");return J().createElement(M.Popover,{placement:"leftTop",title:"\u9634\u5f71\u8bbe\u7f6e",destroyTooltipOnHide:!0,trigger:"click",content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:e.value,onValuesChange:(t,n)=>function(t,n){var o;null===(o=e.onChange)||void 0===o||o.call(e,n)}(0,n)},J().createElement(M.Space,{direction:"vertical"},J().createElement(M.Form.Item,{label:"\u7c7b\u578b",name:"type"},J().createElement($d,{options:{props:{options:[{label:"\u5916\u9634\u5f71",value:!1},{label:"\u5185\u9634\u5f71",value:!0}]}}})),J().createElement(M.Form.Item,{label:"\u989c\u8272",name:"color"},J().createElement(t.ColorPicker,{style:{width:"100%"}})),J().createElement(M.Form.Item,{label:"\u6c34\u5e73\u504f\u79fb",name:"x"},J().createElement(tu,{options:{props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}}})),J().createElement(M.Form.Item,{label:"\u5782\u76f4\u504f\u79fb",name:"y"},J().createElement(tu,{options:{props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}}})),J().createElement(M.Form.Item,{label:"\u8ddd\u79bb",name:"blur"},J().createElement(tu,{options:{props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}}})),J().createElement(M.Form.Item,{label:"\u5c3a\u5bf8",name:"spread"},J().createElement(tu,{options:{props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}}}))))},J().createElement(M.Button,{block:!0},"\u70b9\u51fb\u914d\u7f6e"))},iu=e=>{var t,n,o,l;const[a,i]=(0,$.useState)(!0),[r,s]=(0,$.useState)();function d(t,n){var o;null===(o=e.onChange)||void 0===o||o.call(e,{...e.value,[n]:t})}return J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:12},J().createElement($d,{options:{props:{options:[{label:J().createElement(H.BorderOutlined,null),value:!0},{label:J().createElement(H.RadiusUpleftOutlined,null),value:!1}]}},value:a,onChange:e=>{i(e),s()}})),J().createElement(M.Col,{span:12},a?J().createElement(M.InputNumber,{value:r,placeholder:"",style:{width:"100%"},disabled:!a,onChange:t=>{s(t),e.onChange({top:t,left:t,bottom:t,right:t})}}):J().createElement(M.InputNumber,{style:{width:"100%"},disabled:!0})),!a&&J().createElement($.Fragment,null,J().createElement(M.Col,{span:12},J().createElement(M.InputNumber,{value:null===(t=e.value)||void 0===t?void 0:t.top,placeholder:"\u5de6\u4e0a",style:{width:"100%"},onChange:e=>{d(e,"top")}})),J().createElement(M.Col,{span:12},J().createElement(M.InputNumber,{value:null===(n=e.value)||void 0===n?void 0:n.right,placeholder:"\u53f3\u4e0a",style:{width:"100%"},onChange:e=>{d(e,"right")}})),J().createElement(M.Col,{span:12},J().createElement(M.InputNumber,{value:null===(o=e.value)||void 0===o?void 0:o.left,placeholder:"\u5de6\u4e0b",style:{width:"100%"},onChange:e=>{d(e,"left")}})),J().createElement(M.Col,{span:12},J().createElement(M.InputNumber,{value:null===(l=e.value)||void 0===l?void 0:l.bottom,placeholder:"\u53f3\u4e0b",style:{width:"100%"},onChange:e=>{d(e,"bottom")}}))))},ru=e=>{var t,n,o,l;const[a,i]=(0,$.useState)("same"),[r,s]=(0,$.useState)();function d(t,n){var o;null===(o=e.onChange)||void 0===o||o.call(e,{...e.value||{},[n]:t})}return(0,$.useEffect)((()=>{var t,n,o,l,a,r,d,u,c,m,p,_,v,b,f;(null!==(t=e.value)&&void 0!==t&&t.top||null!==(n=e.value)&&void 0!==n&&n.left||null!==(o=e.value)&&void 0!==o&&o.right||null!==(l=e.value)&&void 0!==l&&l.bottom?i("diff"):i("same"),null!==(a=e.value)&&void 0!==a&&a.top&&null!==(r=e.value)&&void 0!==r&&r.left&&null!==(d=e.value)&&void 0!==d&&d.right&&null!==(u=e.value)&&void 0!==u&&u.bottom&&(null===(c=e.value)||void 0===c?void 0:c.right)===(null===(m=e.value)||void 0===m?void 0:m.left)&&(null===(p=e.value)||void 0===p?void 0:p.bottom)===(null===(_=e.value)||void 0===_?void 0:_.top)&&(null===(v=e.value)||void 0===v?void 0:v.bottom)===(null===(b=e.value)||void 0===b?void 0:b.right))?s(null===(f=e.value)||void 0===f?void 0:f.top):s()}),[e.value]),J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:12},J().createElement($d,{options:{props:{options:[{label:J().createElement(H.BorderOuterOutlined,null),value:"same"},{label:J().createElement(H.BorderLeftOutlined,null),value:"diff"}]}},value:a,onChange:e=>{i(e)}})),J().createElement(M.Col,{span:12},"same"===a?J().createElement(M.InputNumber,{value:r,placeholder:"",style:{width:"100%"},disabled:!a,onChange:t=>{s(t),e.onChange({top:t,left:t,bottom:t,right:t})}}):J().createElement(M.InputNumber,{style:{width:"100%"},disabled:!0})),"diff"===a&&J().createElement($.Fragment,null,J().createElement(M.Col,{span:12,offset:6},J().createElement(M.InputNumber,{style:{width:"100%"},placeholder:"\u4e0a\u95f4\u8ddd",value:null===(t=e.value)||void 0===t?void 0:t.top,onChange:e=>{d(e,"top")}})),J().createElement(M.Col,{span:12},J().createElement(M.InputNumber,{style:{width:"100%"},placeholder:"\u5de6\u95f4\u8ddd",value:null===(n=e.value)||void 0===n?void 0:n.left,onChange:e=>{d(e,"left")}})),J().createElement(M.Col,{span:12},J().createElement(M.InputNumber,{style:{width:"100%"},placeholder:"\u53f3\u95f4\u8ddd",value:null===(o=e.value)||void 0===o?void 0:o.right,onChange:e=>{d(e,"right")}})),J().createElement(M.Col,{span:12,offset:6},J().createElement(M.InputNumber,{style:{width:"100%"},placeholder:"\u4e0b\u95f4\u8ddd",value:null===(l=e.value)||void 0===l?void 0:l.bottom,onChange:e=>{d(e,"bottom")}}))))},su=e=>{const t=Sd.get("modules.components.basicCommon");return J().createElement(t.CodeEditorModal,{buttonProps:{block:!0},modalProps:{},value:e.value,onChange:t=>{!function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)}})},du=e=>J().createElement(Od,e,J().createElement(su,e)),uu=e=>{var t,n,o;const l=Sd.get("modules.components.basicForm");return J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:12},J().createElement(l.BasicSelect,{options:{variable:!0,props:{placeholder:"\u5b57\u6bb5",options:null===(t=e.fields)||void 0===t?void 0:t.map((e=>{var t,n;return{label:(null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.title)||e.name,value:e.moduleId}}))}},value:null===(n=e.value)||void 0===n?void 0:n.field,onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,{...e.value||{},field:t})}})),J().createElement(M.Col,{span:12},J().createElement(Md,{value:null===(o=e.value)||void 0===o?void 0:o.value,options:{variable:!0,props:{placeholder:"\u503c"}},onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,{...e.value||{},value:t})}})))},cu=e=>{const[t,n]=(0,$.useState)([]);return(0,$.useEffect)((()=>{n(e.value||[])}),[e.value]),J().createElement(M.Row,{gutter:[10,10]},t.map(((o,l)=>J().createElement(M.Col,{span:24,key:l},J().createElement(uu,{value:o,fields:e.fields,onChange:e=>{t[l]=e,n([...t])}})))),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:e=>{n([...t,{}])}},"\u65b0\u589e\u5b57\u6bb5")))},mu=e=>{const t=Sd.get("modules.components.basicWork");return J().createElement(Od,e,J().createElement(t.ImageChoose,e))},pu=(0,$.forwardRef)(((e,t)=>{(0,$.useImperativeHandle)(t,(()=>({open:m})));const n=Sd.get("modules.components.basicForm"),{EventTypeListMap:o,EventListMap:l,createEventItemFunc:a}=Sd.get("modules.screenEditor.config"),[i,r]=(0,$.useState)(!1),[s]=M.Form.useForm(),[d,u]=(0,$.useState)(),c=(0,$.useMemo)((()=>{var t;const[n]=null===(t=e.tableList)||void 0===t?void 0:t.filter((e=>e._id===d.table));return n}),[null===d||void 0===d?void 0:d.table]);function m(e){r(!0),e=e||a(),u(e),s.setFieldsValue(e)}function p(){r(!1),s.resetFields()}return J().createElement(M.Modal,{title:"\u65b0\u589e\u4e8b\u4ef6",width:360,open:i,onOk:function(){s.validateFields().then((t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t),p()}))},onCancel:p},J().createElement(M.Form,{form:s,labelCol:{span:6},layout:"horizontal",labelAlign:"right",colon:!1,onValuesChange:(e,t)=>u(t)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"ID",name:"_id",hidden:!0},J().createElement(M.Input,{readOnly:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u89e6\u53d1\u65b9\u5f0f",name:"event",rules:[],style:{marginBottom:0}},J().createElement(n.BasicSelect,{options:{props:{options:Object.values(l).map(((e,t)=>({label:e.name,value:e.value})))}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u52a8\u4f5c\u7c7b\u578b",name:"action",rules:[],style:{marginBottom:0}},J().createElement(n.BasicSelect,{options:{props:{options:Object.values(o).map(((e,t)=>({label:e.name,value:e.value})))}}}))),"url"===(null===d||void 0===d?void 0:d.action)&&J().createElement(J().Fragment,null,J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8df3\u8f6cURL",name:"url",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}],style:{marginBottom:0}},J().createElement(Md,{module:e.module,options:{variable:!0,props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u6253\u5f00\u65b9\u5f0f",name:"target",style:{marginBottom:0}},J().createElement($d,{module:e.module,options:{variable:!0,props:{options:[{label:"\u5f53\u524d\u9875\u9762",value:"_self"},{label:"\u65b0\u9875\u9762",value:"_blank"}]}}})))),"table"===(null===d||void 0===d?void 0:d.action)&&J().createElement(J().Fragment,null,J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u6570\u636e\u8868",name:"table",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}],style:{marginBottom:0}},J().createElement(n.BasicSelect,{module:e.module,options:{variable:!0,props:{options:e.tableList.map((e=>({label:e.name,value:e._id})))}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8bb0\u5f55(ID)",name:"record",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}],style:{marginBottom:0}},J().createElement(Md,{module:e.module,options:{variable:!0,props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5b57\u6bb5",name:"fields",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}],style:{marginBottom:0}},J().createElement(cu,{fields:(null===c||void 0===c?void 0:c.fields)||[]})))),"variable"===(null===d||void 0===d?void 0:d.action)&&J().createElement(J().Fragment,null,J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u53d8\u91cf\u540d",name:"variable",rules:[{required:!0,message:"\u8bf7\u7ed1\u5b9a"}],style:{marginBottom:0}},J().createElement(vu,{module:e.module,options:{variable:!0,props:{readOnly:!0,placeholder:"\u8bf7\u7ed1\u5b9a"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u53d8\u91cf\u503c",name:"variableValue",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}],tooltip:"\u6b64\u8f93\u5165\u9ed8\u8ba4\u4e3a\u5b57\u7b26\u4e32\uff0c\u5176\u5b83\u6570\u636e\u7c7b\u578b\uff0c\u8bf7\u901a\u8fc7\u3010\u53d8\u91cf\u7ed1\u5b9a\u3011\u8f93\u5165\u6846\u8f93\u5165\u3002",style:{marginBottom:0}},J().createElement(Md,{module:e.module,options:{variable:!0,props:{placeholder:"\u8bf7\u8f93\u5165"}}})))),"script"===(null===d||void 0===d?void 0:d.action)&&J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u811a\u672c",name:"script",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}],style:{marginBottom:0},initialValue:"({\n  main: function (contexts, data) {\n    // contexts \u4e3a\u6267\u884c\u4e0a\u4e0b\u6587\uff0c\u53ef\u6253\u5370\u67e5\u770b\n    // data \u4e3a\u5f53\u524d\u8868\u5355\u9879\u503c\u3002\n    // \u6b64\u5904\u7f16\u5199JS\u811a\u672c\n\n  },\n})"},J().createElement(Xd,{options:{},buttonProps:{block:!0}}))))))})),_u=e=>{const t=Sd.get("modules.components.basicCommon"),{EventTypeListMap:n,EventListMap:o}=(Sd.get("modules.components.basicForm"),Sd.get("modules.screenEditor.config")),l=(0,$.useRef)(),a=(0,$.useRef)(),[i,r]=(0,$.useState)([]);(0,$.useEffect)((()=>{s()}),[]);const s=async()=>{var e;const t=await Sd.xrequest.post("/api/core/table/list",{filter:{},current:1,pageSize:1e4,select:{},sort:{create_time:1}}),n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[];r(n)};function d(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return J().createElement(J().Fragment,null,Object.values(o).map(((o,i)=>{var r;return J().createElement($.Fragment,{key:i},e.module.data.events&&Boolean(null===(r=e.module.data.events[o.value])||void 0===r?void 0:r.length)&&J().createElement(t.Block,{title:o.name},J().createElement(M.Row,{gutter:[10,10]},(e.module.data.events&&e.module.data.events[o.value]||[]).map(((t,o)=>{var i,r,s,u,c;return J().createElement(M.Col,{span:24,key:t._id||o},J().createElement("div",{className:vd.event_box},J().createElement(M.Row,{gutter:[10,5]},J().createElement(M.Col,{span:24,style:{fontSize:12,display:"flex"}},J().createElement("div",{style:{flex:1}},J().createElement("span",{style:{marginRight:10}},"\u52a8\u4f5c",o+1),J().createElement("span",{style:{fontWeight:"bold"}},null===(i=n[t.action])||void 0===i?void 0:i.name)),J().createElement("div",null,J().createElement(M.Button,{style:{transform:"scale(0.8)"},type:"link",size:"small",icon:J().createElement(H.EditOutlined,null),onClick:e=>function(e,t){var n;a.current={item:e,index:t},null===(n=l.current)||void 0===n||n.open(e)}(t,o)}),J().createElement(M.Popconfirm,{placement:"topRight",overlayInnerStyle:{width:270},title:"\u786e\u8ba4\u5220\u9664\uff1f",onConfirm:n=>function(t,n){let o=JSON.parse(JSON.stringify(e.module.data.events||{}));o[t.event].splice(n,1),d(o)}(t,o)},J().createElement(M.Button,{style:{transform:"scale(0.8)"},danger:!0,size:"small",type:"link",icon:J().createElement(H.DeleteOutlined,null)})))),"url"===t.action&&J().createElement(M.Col,{span:24,style:{fontSize:12}},J().createElement("span",{style:{marginRight:10}},"\u8df3\u8f6cURL\uff1a",null!==(r=t.url)&&void 0!==r&&r.variable?t.url.variable:t.url)),"table"===t.action&&J().createElement(J().Fragment,null,J().createElement(M.Col,{span:12,style:{fontSize:12,overflow:"hidden",whiteSpace:"nowrap"}},J().createElement("span",{style:{marginRight:10}},"\u6570\u636e\u8868\uff1a",t.table)),J().createElement(M.Col,{span:12,style:{fontSize:12,overflow:"hidden",whiteSpace:"nowrap"}},J().createElement("span",{style:{marginRight:10}},"\u6570\u636e(ID)\uff1a",t.record)),J().createElement(M.Col,{span:24},null===(s=t.fields)||void 0===s?void 0:s.map(((e,t)=>J().createElement(M.Row,{gutter:[10,10],key:t},J().createElement(M.Col,{span:12,style:{fontSize:12,overflow:"hidden",whiteSpace:"nowrap"}},J().createElement("span",{style:{marginRight:10}},"\u5b57\u6bb5\uff1a",e.field)),J().createElement(M.Col,{span:12,style:{fontSize:12,overflow:"hidden",whiteSpace:"nowrap"}},J().createElement("span",{style:{marginRight:10}},"\u5b57\u6bb5\u503c\uff1a",e.value))))))),"variable"===t.action&&J().createElement(J().Fragment,null,J().createElement(M.Col,{span:12,style:{fontSize:12}},J().createElement("span",{style:{marginRight:10}},"\u53d8\u91cf\u540d\uff1a",null!==(u=t.variable)&&void 0!==u&&u.variable?t.variable.variable:t.variable)),J().createElement(M.Col,{span:12,style:{fontSize:12}},J().createElement("span",{style:{marginRight:10}},"\u53d8\u91cf\u503c\uff1a",null!==(c=t.variableValue)&&void 0!==c&&c.variable?t.variableValue.variable:t.variableValue))))))})))))})),J().createElement(M.Button,{type:"primary",style:{width:"50%",margin:"0 auto",display:"block"},onClick:e=>{var t;null===(t=l.current)||void 0===t||t.open()}},"\u65b0\u589e\u4e8b\u4ef6"),J().createElement(pu,Object.assign({ref:l},e,{tableList:i,onChange:t=>function(t){let n=JSON.parse(JSON.stringify(e.module.data.events||{}));n[t.event]=n[t.event]||[],a.current?n[t.event].splice(a.current.index,1,t):n[t.event].push(t),d(n),a.current=void 0}(t)})))},vu=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,Object.assign({},e,{options:{variable:!0,target:"item"}}),J().createElement(t.BasicInput,{options:{props:{readOnly:!0,placeholder:"\u8bf7\u7ed1\u5b9a"}},value:e.value,onChange:e.onChange}))},bu=e=>{var t,n,o,l;const a=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(a.BasicSelect,{options:{props:{options:null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n||null===(o=n.items)||void 0===o||null===(l=o.map)||void 0===l?void 0:l.call(o,((e,t)=>({label:e.label+(t+1),value:t})))}},value:e.value,onChange:e.onChange}))},fu=e=>{const t=Sd.get("modules.components.basicCommon"),{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinModuleView:a,editorStore:i,variableStore:r,core:s,addFunc:d,getVariableValue:u,config:c}=(0,$.useContext)($r.f);function m(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return J().createElement(M.Row,{gutter:[10,10]},J().createElement(t.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"value",itemRender:t=>{let{item:n,index:o,itemProps:l,handleProps:a}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},l),J().createElement(M.Input,{readOnly:!0,style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},a,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t,n){const o=JSON.parse(JSON.stringify(e.value||[]));o.splice(n,1),m(o);const l=JSON.parse(JSON.stringify(i.customData)),{moduleInfo:a}=s.findModuleFunc(l,e.module.moduleId);a.children.splice(n,1),i.setcustomData(l)}(0,o)}))),value:(n.label||"")+(o+1)}))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{const o=[...e.value,e.funcs.createItemFunc()];!function(t){const o=JSON.parse(JSON.stringify(i.customData)),{moduleInfo:l}=s.findModuleFunc(o,e.module.moduleId),a=Array(t).fill(1).map(((e,t)=>{var o;return(null===(o=l.children)||void 0===o?void 0:o[t])||n.wrapin.createFunc({name:l.name+"\u5185\u90e8\u5bb9\u5668"})}));l.children=a,i.setcustomData(o)}(o.length),m(o)}},"\u65b0\u589e\u4e00\u9879")))},Eu=(0,ae.observer)((e=>{const t=Sd.get("modules.components.basicWork"),{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinModuleView:a,editorStore:i,core:r,addFunc:s,getVariableValue:d,config:u}=(0,$.useContext)($r.f),c=e=>{var t,o;let l=(null===e||void 0===e?void 0:e.fields)||[];l=l.filter((e=>{var t,n;return null===(t=e.data.attributes)||void 0===t||null===(n=t.listPermission)||void 0===n?void 0:n.includes("show")}));const a=l.map(((e,t)=>{var o,l,a,i,r;const s=(null===(o=n.tableShow.funcs)||void 0===o?void 0:o.createColumnItemFunc({}))||{},d=(null===(l=e.data.attributes)||void 0===l?void 0:l.listPermission)||[];return{...s,title:((null===(a=e.data.attributes)||void 0===a?void 0:a.title)||e.name)+(null!==(i=e.data.attributes)&&void 0!==i&&i.unit?" (".concat((null===(r=e.data.attributes)||void 0===r?void 0:r.unit)||"",")"):""),dataIndex:e.moduleId,copyable:d.includes("copy")}}));return{columns:[(null===(t=n.tableShow.funcs)||void 0===t?void 0:t.createColumnItemFunc({dataIndex:"_id",title:"ID",moduleType:"oidinput"}))||{},...a,(null===(o=n.tableShow.funcs)||void 0===o?void 0:o.createColumnItemFunc({dataIndex:"create_time",title:"\u521b\u5efa\u65f6\u95f4",moduleType:"datePicker",width:200}))||{}]}},m=t=>{let n=JSON.parse(JSON.stringify(i.customData));const{moduleInfo:o}=r.findModuleFunc(n,e.module.moduleId);var l;o&&(o.data.attributes={...(null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.attributes)||{},...t||{}});i.setsettingInfo(o),i.setcustomData(n)};return J().createElement(t.TableTreeSelect,{value:e.value,onChange:function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t),t&&(async e=>{const t=await Sd.xrequest.post("/api/core/table/detail",{_id:e}),n=null===t||void 0===t?void 0:t.data;n&&"editor"===u.mode&&M.Modal.confirm({title:"\u63d0\u793a",icon:J().createElement(H.ExclamationCircleFilled,null),content:"\u5df2\u83b7\u53d6\u5230\u6570\u636e\u8868\u4fe1\u606f\uff0c\u662f\u5426\u81ea\u52a8\u586b\u5145\u914d\u7f6e\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:()=>{const e=c(n);m(e),M.message.success("\u64cd\u4f5c\u6210\u529f")}})})(t)}})})),gu=(0,ae.observer)((e=>{const{XinScreenEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinModuleView:l,editorStore:a,core:i,addFunc:r,getVariableValue:s,config:d}=(0,$.useContext)($r.f),[u,c]=(0,$.useState)([]);(0,$.useEffect)((()=>{p()}),[]);const m=(0,$.useMemo)((()=>u.map((e=>({title:e.name,value:e._id,selectable:!0})))),[u]),p=async()=>{var e;const t=await Sd.xrequest.post("/api/core/workflow/list",{filter:{workflow_type:{$in:["table_record_add","table_record_update","table_record_delete"]}},pageSize:1e4}),n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[];c(n)},_=e=>{var n,o;let l=(null===e||void 0===e?void 0:e.fields)||[];l=l.filter((e=>{var t,n;return null===(t=e.data.attributes)||void 0===t||null===(n=t.listPermission)||void 0===n?void 0:n.includes("show")}));let a=l.map(((e,n)=>{var o,l,a,i,r;const s=(null===(o=t.workflowTable.funcs)||void 0===o?void 0:o.createColumnItemFunc({}))||{},d=(null===(l=e.data.attributes)||void 0===l?void 0:l.listPermission)||[];return{...s,title:((null===(a=e.data.attributes)||void 0===a?void 0:a.title)||e.name)+(null!==(i=e.data.attributes)&&void 0!==i&&i.unit?" (".concat((null===(r=e.data.attributes)||void 0===r?void 0:r.unit)||"",")"):""),dataIndex:e.moduleId,copyable:d.includes("copy")}}));return{columns:[(null===(n=t.workflowTable.funcs)||void 0===n?void 0:n.createColumnItemFunc({dataIndex:"_id",title:"\u8868\u8bb0\u5f55ID",moduleType:"oidinput"}))||{},...a,(null===(o=t.workflowTable.funcs)||void 0===o?void 0:o.createColumnItemFunc({dataIndex:"create_time",title:"\u521b\u5efa\u65f6\u95f4",moduleType:"datePicker",width:200}))||{}],title:null===e||void 0===e?void 0:e.name,table_id:null===e||void 0===e?void 0:e._id}},v=t=>{let n=JSON.parse(JSON.stringify(a.customData));const{moduleInfo:o}=i.findModuleFunc(n,e.module.moduleId);var l;o&&(o.data.attributes={...(null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.attributes)||{},...t||{}});a.setsettingInfo(o),a.setcustomData(n)};function b(t){var n;if(null===(n=e.onChange)||void 0===n||n.call(e,t),t){const[e]=u.filter((e=>e._id===t)).map((e=>e.table_id));e&&(async e=>{const t=await Sd.xrequest.post("/api/core/table/detail",{_id:e}),n=null===t||void 0===t?void 0:t.data;n&&"editor"===d.mode&&M.Modal.confirm({title:"\u63d0\u793a",icon:J().createElement(H.ExclamationCircleFilled,null),content:"\u5df2\u83b7\u53d6\u5230\u6570\u636e\u8868\u4fe1\u606f\uff0c\u662f\u5426\u81ea\u52a8\u586b\u5145\u914d\u7f6e\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:()=>{const e=_(n);v(e),M.message.success("\u64cd\u4f5c\u6210\u529f")}})})(e)}}return J().createElement(M.TreeSelect,{style:{width:"100%"},showSearch:!0,value:e.value,popupMatchSelectWidth:!1,treeNodeFilterProp:"title",placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,treeDefaultExpandAll:!0,onChange:e=>b(e),treeData:m})})),yu=e=>{var t,n,o;return J().createElement(M.Space.Compact,{block:!0},null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n||null===(o=n.options)||void 0===o?void 0:o.map(((t,n)=>J().createElement(M.Button,{key:n,style:{width:100/e.options.props.options.length+"%",padding:0},type:e.value===t.value?"primary":"default",onClick:n=>{var o;null===(o=e.onChange)||void 0===o||o.call(e,t.value)}},t.label))))},hu=(0,$.memo)((e=>{var t;const n=Sd.get("modules.components.basicCommon"),o=Sd.get("modules.components.basicWork"),l=Sd.get("modules.components.basicForm"),a={url:"\u8bf7\u8f93\u5165",page:"\u8bf7\u8f93\u5165\uff0c#/\u5f00\u5934"};return J().createElement(M.Row,{gutter:[10,10]},J().createElement(n.Sortable,{value:"variable"!==(null===(t=e.value)||void 0===t?void 0:t.type)&&(e.value||[]),onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"value",itemRender:t=>{var n;let{item:i,index:r,itemProps:s,handleProps:d}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},s),J().createElement(M.Popover,{placement:"leftTop",title:"\u56fe\u7247 ".concat(r+1),trigger:"click",destroyTooltipOnHide:!0,content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:i,onValuesChange:(t,n)=>function(t,n,o){var l;let a=JSON.parse(JSON.stringify(e.value||[]));a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,r)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"\u503c",name:"value"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u56fe\u7247",name:"url"},J().createElement(o.ImageChoose,{inContainer:!0,options:{props:{}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"label"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u94fe\u63a5\u7c7b\u578b",name:["link","linkType"]},J().createElement(yu,{options:{props:{options:[{label:"\u5185\u90e8\u9875\u9762",value:"page"},{label:"\u7f51\u7edc\u94fe\u63a5",value:"url"}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u94fe\u63a5",name:["link","href"]},J().createElement(l.BasicInput,{options:{props:{placeholder:a[(null===(n=i.link)||void 0===n?void 0:n.linkType)||"url"]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u6253\u5f00\u65b9\u5f0f",name:["link","target"]},J().createElement(yu,{options:{props:{options:[{label:"\u5f53\u524d\u9875\u9762",value:"_self"},{label:"\u65b0\u9875\u9762",value:"_blank"}]}}})))))},J().createElement(M.Input,{readOnly:!0,style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},d,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(r)})),value:i.label})))}}),J().createElement(M.Col,{span:24},J().createElement(Od,e,J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{var n;const o=[...e.value||[],null===(n=e.funcs)||void 0===n?void 0:n.createItemFunc()];e.onChange(o)}},"\u65b0\u589e\u4e00\u9879"))))})),xu=(0,$.memo)((e=>{var t;const n=Sd.get("modules.components.basicCommon"),o=(Sd.get("modules.components.basicWork"),Sd.get("modules.components.basicForm"));return J().createElement(M.Row,{gutter:[10,10]},J().createElement(n.Sortable,{value:"variable"!==(null===(t=e.value)||void 0===t?void 0:t.type)&&(e.value||[]),onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:n,index:l,itemProps:a,handleProps:i}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},a),J().createElement(M.Popover,{placement:"leftTop",title:"\u56fe\u7247 ".concat(l+1),trigger:"click",destroyTooltipOnHide:!0,content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:n,onValuesChange:(t,n)=>function(t,n,o){var l;let a=JSON.parse(JSON.stringify(e.value||[]));a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,l)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"\u503c",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"label"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u56fe\u6807",name:"icon"},J().createElement(o.IconChoose,null))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8df3\u8f6c\u8def\u5f84",name:"path"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}})))))},J().createElement(M.Input,{readOnly:!0,style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},i,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(l)})),value:n.label})))}}),J().createElement(M.Col,{span:24},J().createElement(Od,e,J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{var n;const o=[...e.value||[],null===(n=e.funcs)||void 0===n?void 0:n.createItemFunc()];e.onChange(o)}},"\u65b0\u589e\u4e00\u9879"))))})),wu=e=>{var t,n;return J().createElement(Od,e,J().createElement(M.Select,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,showSearch:!1,mode:(null===(t=e.module.data.attributes)||void 0===t?void 0:t.mode)&&"multiple",options:null===(n=e.module.data.attributes)||void 0===n?void 0:n.items,value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)}))},Iu=e=>{var t,n;const o=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(o.BasicSelect,{options:{props:{...e.options.props||{},options:(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.items)||[]}},value:e.value,onChange:e.onChange}))},Tu=e=>{var t,n,o,l,a;const{editorStore:i}=(0,$.useContext)($r.f),[r,s]=(0,$.useState)(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.defaultActiveKey);return J().createElement(Od,e,J().createElement(M.Select,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,showSearch:!1,options:null===(o=e.module.data.attributes)||void 0===o||null===(l=o.items)||void 0===l||null===(a=l.map)||void 0===a?void 0:a.call(l,((e,t)=>({label:t+1+". "+e.label,value:t}))),value:r,onChange:t=>{var n,o,l,a,r;s(t);const d=null===(n=e.module)||void 0===n?void 0:n.moduleId,u=(null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l?void 0:l.methodName)||"change",c=i.moduleIns[d];null===c||void 0===c||null===(a=c.methods)||void 0===a||null===(r=a[u])||void 0===r||r.call(a,t)}}))},Cu=e=>{var t,n,o;return J().createElement(Od,e,J().createElement(M.Select,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,showSearch:!1,options:null===(t=e.module.data.attributes)||void 0===t||null===(n=t.items)||void 0===n||null===(o=n.map)||void 0===o?void 0:o.call(n,((e,t)=>({label:t+1+". "+e.label,value:t}))),value:e.value,onChange:e.onChange}))},Su=e=>{const t=Sd.get("modules.components.basicCommon");return J().createElement(M.Row,{gutter:[10,10]},J().createElement(t.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"value",itemRender:t=>{let{item:n,index:o,itemProps:l,handleProps:a}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},l),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u9009\u9879"+(o+1),trigger:"click",content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:n,onValuesChange:(t,n)=>function(t,n,o){var l;let a=JSON.parse(JSON.stringify(e.value||[]));a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,o)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u503c",name:"value"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"label"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}})))))},J().createElement(M.Input,{readOnly:!0,style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},a,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>{!function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(o)}})),value:(n.label||"")+(o+1)})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{const n=[...e.value,e.funcs.createItemFunc()];e.onChange(n)}},"\u65b0\u589e\u4e00\u9879")))},Ou=e=>{var t;const n=Sd.get("modules.components.basicCommon"),o=Sd.get("modules.components.basicForm");return J().createElement(M.Row,{gutter:[10,10]},J().createElement(n.Sortable,{value:"variable"!==(null===(t=e.value)||void 0===t?void 0:t.type)&&(e.value||[]),onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:n,index:l,itemProps:a,handleProps:i}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},a),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u5217 ".concat(l+1),trigger:"click",content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:n,onValuesChange:(t,n)=>function(t,n,o){var l;let a=JSON.parse(JSON.stringify(e.value||[]));a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,l)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"Key",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"title"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5b57\u6bb5\u540d",name:"dataIndex"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5185\u5bb9\u5bf9\u9f50",name:"align"},J().createElement(o.IconRadioGroup,{options:{props:{options:[{label:"\u5c45\u5de6\u5bf9\u9f50",value:"left",icon:J().createElement(H.AlignLeftOutlined,null)},{label:"\u5c45\u4e2d\u5bf9\u9f50",value:"center",icon:J().createElement(H.AlignCenterOutlined,null)},{label:"\u5c45\u53f3\u5bf9\u9f50",value:"right",icon:J().createElement(H.AlignRightOutlined,null)}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u56fa\u5b9a",name:"fixed"},J().createElement(o.IconRadioGroup,{options:{props:{options:[{label:"\u4e0d\u56fa\u5b9a",value:!1,icon:"\u4e0d"},{label:"\u5de6\u4fa7\u56fa\u5b9a",value:"left",icon:"\u5de6"},{label:"\u53f3\u4fa7\u56fa\u5b9a",value:"right",icon:"\u53f3"}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8d85\u51fa\u7701\u7565",name:"ellipsis"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5bbd\u5ea6",name:"width"},J().createElement(o.BasicInputNumber,{options:{props:{min:0,step:1}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u81ea\u5b9a\u4e49\u6e32\u67d3",name:"customRender"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:n.customRender?24:0},J().createElement(M.Form.Item,{label:"\u6e32\u67d3\u4ee3\u7801",name:"script"},J().createElement(o.JavascriptTransformCodeModal,{inContainer:!0,modalProps:{maskClosable:!1}})))))},J().createElement(M.Input,{readOnly:!0,style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},i,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(l)})),value:n.title||""})))}}),J().createElement(M.Col,{span:24},J().createElement(Od,e,J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{const n=[...e.value,e.funcs.createColumnItemFunc({})];e.onChange(n)}},"\u65b0\u589e\u4e00\u5217"))))},Pu=e=>{const t=Sd.get("modules.components.basicCommon");Sd.get("modules.components.basicForm");return J().createElement(M.Row,{gutter:[10,10]},J().createElement(t.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:n,index:o,itemProps:l,handleProps:a}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},l),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u64cd\u4f5c"+(o+1),trigger:"click",content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:n,onValuesChange:(t,n)=>function(t,n,o){var l;let a=JSON.parse(JSON.stringify(e.value||[]));a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,o)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"\u7f16\u53f7",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"title"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u6309\u94ae\u989c\u8272",name:"color"},J().createElement($d,{options:{props:{options:[{label:"\u84dd\u8272",value:!1},{label:"\u7ea2\u8272",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u4e8c\u6b21\u786e\u8ba4",name:"confirm",tooltip:"\u4f1a\u5728\u70b9\u51fb\u540e\uff0c\u4e8c\u6b21\u5f39\u7a97\u786e\u8ba4\u540e\u518d\u6267\u884c"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u4ee3\u7801\u7f16\u8f91",name:"code"},J().createElement(Xd,{inContainer:!0,options:{props:{modalProps:{maskClosable:!1}}},buttonProps:{block:!0}})))))},J().createElement(M.Input,{readOnly:!0,style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},a,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(o)})),value:n.title})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{let n=[...e.value,e.funcs.createActionItemFunc()];e.onChange(n)}},"\u65b0\u589e\u64cd\u4f5c")))},Mu=e=>{var t;const n=Sd.get("modules.components.basicCommon"),o=Sd.get("modules.components.basicForm"),{XinScreenEditorModulesMap:l,XinCoverView:a,XinTypeView:i,XinModuleView:r,editorStore:s,variableStore:d,core:u,addFunc:c,getVariableValue:m,config:p}=(0,$.useContext)($r.f);return J().createElement(M.Row,{gutter:[10,10]},J().createElement(n.Sortable,{value:"variable"!==(null===(t=e.value)||void 0===t?void 0:t.type)&&(e.value||[]),onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:n,index:l,itemProps:a,handleProps:i}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},a),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u6807\u7b7e\u9879 ".concat(l+1),trigger:"click",content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:n,onValuesChange:(t,n)=>function(t,n,o){var l;let a=JSON.parse(JSON.stringify(e.value||[]));a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,l)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"KEY",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u503c",name:"value"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"label"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u56fe\u6807",name:"icon"},J().createElement(o.IconChoose,null))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u9690\u85cf\u65f6\u9500\u6bc1",name:"destroyInactiveTabPane"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u9690\u85cf\u65f6\u6e32\u67d3",name:"forceRender"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}})))))},J().createElement(M.Input,{readOnly:!0,style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},i,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t,n){var o;let l=JSON.parse(JSON.stringify(e.value||[]));l.splice(n,1),null===(o=e.onChange)||void 0===o||o.call(e,l);const a=JSON.parse(JSON.stringify(s.customData)),{moduleInfo:i}=u.findModuleFunc(a,e.module.moduleId);i.children.splice(n,1),s.setcustomData(a)}(0,l)})),value:n.label})))}}),J().createElement(M.Col,{span:24},J().createElement(Od,e,J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{const n=[...e.value,e.funcs.createItemFunc()];!function(t){const n=JSON.parse(JSON.stringify(s.customData)),{moduleInfo:o}=u.findModuleFunc(n,e.module.moduleId),a=Array(t).fill(1).map(((e,t)=>{var n;return(null===(n=o.children)||void 0===n?void 0:n[t])||l.wrapin.createFunc({name:o.name+"\u5185\u90e8\u5bb9\u5668"})}));o.children=a,s.setcustomData(n)}(n.length),e.onChange(n)}},"\u65b0\u589e\u4e00\u9879"))))},ku={formSeniorActions_reset:{action:"\u91cd\u7f6e",data:{key:"formSeniorActions_reset",component:"FormSubmitButtonView",componentProps:{},title:"\u91cd\u7f6e",color:"white",confirm:!1,code:"({\n  main: function (contexts, data) {\n    // \u6b64\u5904\u7f16\u5199\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879\u4ee3\u7801\n    var form = contexts.form\n    if (form) {\n      form.resetFields()\n    }\n  }\n})\n",type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["formSeniorActions"]},formSeniorActions_back:{action:"\u8fd4\u56de",data:{key:"formSeniorActions_back",component:"FormSubmitButtonView",componentProps:{},title:"\u8fd4\u56de",color:"white",confirm:!1,code:"({\n  main: function (contexts, data) {\n    // \u6b64\u5904\u7f16\u5199\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879\u4ee3\u7801\n    var history = contexts.history\n    if (history) {\n      history.back()\n    }\n  }\n})\n",type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["formSeniorActions"]},formSeniorActions_submit:{action:"\u63d0\u4ea4",data:{key:"formSeniorActions_submit",component:"FormSubmitButtonView",componentProps:{},title:"\u63d0\u4ea4",color:"blue",confirm:!1,code:"({\n  main: async function (contexts, data) {\n    return new Promise((resolve, reject) => {\n      // \u6b64\u5904\u7f16\u5199\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879\u4ee3\u7801\n      var antd = contexts.antd\n      var scene = contexts.scene\n      var form = contexts.form\n      var apis = contexts.apis\n      var tableInfo = data.tableInfo || {}\n      var recordInfo = data.recordInfo || {}\n      var tableShow_formSeniorModal = contexts.tableShow_formSeniorModal || {}\n      if (form) {\n        form.validateFields().then(values => {\n          if (scene === 'create') {\n            contexts.xrequest.post('/api/core/table/record/add', {\n              table_id: tableInfo._id,\n              ...(values || {}),\n            }).then(res => {\n              if (res) {\n                antd.message.success('\u63d0\u4ea4\u6210\u529f')\n                tableShow_formSeniorModal.onCancel && tableShow_formSeniorModal.onCancel()\n              }\n              resolve(Boolean(res))\n            })\n          } else {\n            contexts.xrequest.post('/api/core/table/record/update', {\n              filter: {\n                _id: recordInfo._id,\n                table_id: tableInfo._id,\n              },\n              data: {\n                // values: values,\n                ...(values || {}),\n              },\n            }).then(res => {\n              if (res) {\n                antd.message.success('\u63d0\u4ea4\u6210\u529f')\n                tableShow_formSeniorModal.onCancel && tableShow_formSeniorModal.onCancel()\n              }\n              resolve(Boolean(res))\n            })\n          }\n        })\n      }\n    })\n  }\n})\n",type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["formSeniorActions"]},formSeniorActions_submitAndReset:{action:"\u63d0\u4ea4\u5e76\u7ee7\u7eed\u6dfb\u52a0\u4e0b\u4e00\u6761",data:{key:"formSeniorActions_submitAndReset",component:"FormSubmitButtonView",componentProps:{},title:"\u63d0\u4ea4\u5e76\u91cd\u7f6e",color:"blue",confirm:!1,code:"({\n  main: function (contexts, data) {\n    return new Promise((resolve, reject) => {\n      // \u6b64\u5904\u7f16\u5199\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879\u4ee3\u7801\n      var antd = contexts.antd\n      var scene = contexts.scene\n      var form = contexts.form\n      var apis = contexts.apis\n      var tableInfo = data.tableInfo || {}\n      var recordInfo = data.recordInfo || {}\n      var tableShow_formSeniorModal = contexts.tableShow_formSeniorModal || {}\n      if (form) {\n        form.validateFields().then(values => {\n          if (scene === 'create') {\n            contexts.xrequest.post('/api/core/table/record/update', {\n              table_id: tableInfo._id,\n              ...(values || {}),\n            }).then(res => {\n              if (res) {\n                antd.message.success('\u63d0\u4ea4\u6210\u529f')\n                form.resetFields()\n              }\n              resolve(Boolean(res))\n            })\n          } else {\n            contexts.xrequest.post('/api/core/table/record/update', {\n              filter: {\n                _id: recordInfo._id,\n                table_id: tableInfo._id,\n              },\n              data: {\n                ...(values || {}),\n              },\n            }).then(res => {\n              if (res) {\n                antd.message.success('\u63d0\u4ea4\u6210\u529f')\n                form.resetFields()\n              }\n              resolve(Boolean(res))\n            })\n          }\n        })\n      }\n    })\n  }\n})\n",type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["formSeniorActions"]}},Du=e=>{const t=Sd.get("modules.components.basicCommon"),n=Sd.get("modules.components.basicForm"),[o,l]=(0,$.useState)(!1),[a,i]=(0,$.useState)([]),r=[{title:"\u64cd\u4f5c",dataIndex:"action",width:"15%",render:(e,n,o,l)=>J().createElement(M.Space,null,e,J().createElement(t.ToolTip,{title:n.tooltip}))},{title:"\u6309\u94ae\u6587\u5b57",dataIndex:["data","title"],width:"20%",render:(e,t,o,l)=>J().createElement(n.EditTextByInput,{value:t.data.title,onChange:e=>{t.data.title=e,i([...a])}})},{title:"\u6309\u94ae\u989c\u8272",dataIndex:["data","color"],width:"25%",align:"center",render:(e,t,n,o)=>J().createElement("div",{style:{margin:"0 10px"}},J().createElement($d,{options:{props:{options:[{label:"\u84dd\u8272",value:"blue"},{label:"\u767d\u8272",value:"white"},{label:"\u7ea2\u8272",value:"red"}]}},size:"small",value:t.data.color,onChange:e=>{t.data.color=e,i([...a])}}))},{title:"\u4e8c\u6b21\u786e\u8ba4",dataIndex:["data","confirm"],width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.data.confirm,onChange:e=>{t.data.confirm=e||!1,i([...a])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:["data","status"],width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.data.status,onChange:e=>{t.data.status=e||!1,i([...a])}})}].filter(Boolean),[s,d]=(0,$.useState)([]),u=[{title:"\u6309\u94ae\u6587\u5b57",dataIndex:"title",width:"20%",render:(e,t,n,o)=>J().createElement(M.Input,{style:{width:"100%"},value:t.title,onChange:e=>{t.title=e.target.value,d([...s])}})},{title:"\u811a\u672c",dataIndex:"code",width:"20%",render:(e,t,n,o)=>J().createElement(Xd,{inContainer:!0,options:{props:{modalProps:{maskClosable:!1}}},buttonProps:{block:!0},value:t.code,onChange:e=>{t.code=e,d([...s])}})},{title:"\u6309\u94ae\u989c\u8272",dataIndex:"color",width:"20%",render:(e,t,n,o)=>J().createElement("div",{style:{margin:"0 10px"}},J().createElement($d,{options:{props:{options:[{label:"\u84dd\u8272",value:"blue"},{label:"\u767d\u8272",value:"white"},{label:"\u7ea2\u8272",value:"red"}]}},size:"small",value:t.color,onChange:e=>{t.color=e,d([...s])}}))},{title:"\u4e8c\u6b21\u786e\u8ba4",dataIndex:"confirm",width:"20%",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.confirm,onChange:e=>{t.confirm=e,d([...s])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:"status",width:"20%",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.status,onChange:e=>{t.status=e,d([...s])}})}].filter(Boolean);(0,$.useEffect)((()=>{let t=JSON.parse(JSON.stringify(ku)),n=(e.value||[]).filter((e=>"admin"===e.type)),o=(e.value||[]).filter((e=>"custom"===e.type));n.forEach((e=>{let n=t[e.key];n&&(n.data={...n.data||{},...e})}));let l=Object.values(t).filter((t=>{var n;return t.scenes.includes(null===(n=e.options)||void 0===n?void 0:n.props.scene)}));i(l),d(o)}),[e.value]);const c=()=>a.map((e=>e.data)).filter((e=>e.status)).concat(s),m=()=>{l(!1)};return J().createElement(J().Fragment,null,J().createElement(M.Row,{gutter:[10,10]},J().createElement(t.Sortable,{value:(e.value||[]).filter((e=>e.status)),onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:n,index:o,itemProps:l,handleProps:a}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},l),J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},a,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u53d6\u6d88\u542f\u7528"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t,n,o){var l,a;let i=c();i=JSON.parse(JSON.stringify(i));let[r]=null===(l=i)||void 0===l?void 0:l.filter((e=>e.key===t.key));r[n]=o,null===(a=e.onChange)||void 0===a||a.call(e,i)}(n,"status",!1)}))),value:n.title}))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:e=>{l(!0)}},"\u70b9\u51fb\u914d\u7f6e"))),J().createElement(M.Modal,{title:"\u64cd\u4f5c\u9879\u8bbe\u7f6e",width:900,destroyOnClose:!0,open:o,onOk:()=>{(()=>{var t;const n=c();null===(t=e.onChange)||void 0===t||t.call(e,n)})(),m()},onCancel:m},J().createElement(M.Table,{size:"small",style:{margin:"20px 0"},columns:r,dataSource:a,bordered:!0,rowKey:e=>e.data.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement("h4",null,"\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879"),J().createElement(M.Table,{size:"small",style:{margin:"20px 0"},columns:u,dataSource:s,bordered:!0,rowKey:e=>e.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement(M.Button,{type:"primary",onClick:t=>{var n;const o=[...s,null===(n=e.funcs)||void 0===n?void 0:n.createActionItemFunc()];d(o)}},"\u65b0\u589e\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879")))},Nu={tableActions_detail:{action:"\u5f39\u7a97\u67e5\u770b",data:{key:"tableActions_detail",component:"RecordButtonView",componentProps:{type:"detail"},title:"\u8be6\u60c5",color:"blue",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["tableActions"]},tableActions_update:{action:"\u5f39\u7a97\u4fee\u6539",data:{key:"tableActions_update",component:"RecordButtonView",componentProps:{type:"edit"},title:"\u4fee\u6539",color:"blue",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["tableActions"]},tableActions_delete:{action:"\u5220\u9664",tooltip:"\u6267\u884c\u4eba\u5c06\u5de5\u4f5c\u505a\u5b8c\u540e\u70b9\u51fb\u5b8c\u6210\u6309\u94ae",data:{key:"tableActions_delete",component:"DeleteButtonView",componentProps:{},title:"\u5220\u9664",color:"red",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["tableActions"]},workflowTableActions_detail:{action:"\u5f39\u7a97\u67e5\u770b",data:{key:"workflowTableActions_detail",component:"WorkflowButtonView",componentProps:{type:"detail"},title:"\u67e5\u770b\u8be6\u60c5",color:"blue",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["workflowTableActions"]},workflowTableActions_delete:{action:"\u5220\u9664",tooltip:"\u6267\u884c\u4eba\u5c06\u5de5\u4f5c\u505a\u5b8c\u540e\u70b9\u51fb\u5b8c\u6210\u6309\u94ae",data:{key:"workflowTableActions_delete",component:"WorkflowDeleteButtonView",componentProps:{},title:"\u5220\u9664",color:"red",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["workflowTableActions"]},toolBarActions_add:{action:"\u5f39\u7a97\u65b0\u589e",data:{key:"toolBarActions_add",component:"RecordButtonView",componentProps:{type:"create"},title:"\u65b0\u589e\u6570\u636e",color:"blue",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["toolBarActions"]},batchActions_delete:{action:"\u6279\u91cf\u5220\u9664",data:{key:"batchActions_delete",component:"BatchDeleteButtonView",componentProps:{},title:"\u6279\u91cf\u5220\u9664",color:"red",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["batchActions"]},workflowTableBatchActions_delete:{action:"\u6279\u91cf\u5220\u9664",data:{key:"workflowTableBatchActions_delete",component:"WorkflowBatchDeleteButtonView",componentProps:{},title:"\u6279\u91cf\u5220\u9664",color:"red",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["workflowTableBatchActions"]}},Au=e=>{var t;const n=Sd.get("modules.components.basicCommon"),o=(Sd.get("modules.components.basicWork"),Sd.get("modules.components.basicForm")),[l,a]=(0,$.useState)(!1),[i,r]=(0,$.useState)([]),s=[{title:"\u64cd\u4f5c",dataIndex:"action",width:"15%",render:(e,t,o,l)=>J().createElement(M.Space,null,e,J().createElement(n.ToolTip,{title:t.tooltip}))},{title:"\u6309\u94ae\u6587\u5b57",dataIndex:["data","title"],width:"25%",render:(e,t,n,l)=>J().createElement(o.EditTextByInput,{value:t.data.title,onChange:e=>{t.data.title=e,r([...i])}})},{title:"\u6309\u94ae\u989c\u8272",dataIndex:["data","color"],width:"20%",align:"center",render:(e,t,n,o)=>J().createElement("div",{style:{margin:"0 10px"}},J().createElement($d,{options:{props:{options:[{label:"\u767d\u8272",value:"white"},{label:"\u84dd\u8272",value:"blue"},{label:"\u7ea2\u8272",value:"red"}]}},size:"small",value:t.data.color,onChange:e=>{t.data.color=e,r([...i])}}))},["tableActions","batchActions"].includes(null===(t=e.options)||void 0===t?void 0:t.props.scene)&&{title:"\u4e8c\u6b21\u786e\u8ba4",dataIndex:["data","confirm"],width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.data.confirm,onChange:e=>{t.data.confirm=e||!1,r([...i])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:["data","status"],width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.data.status,onChange:e=>{t.data.status=e||!1,r([...i])}})}].filter(Boolean),[d,u]=(0,$.useState)([]),c=[{title:"\u6309\u94ae\u6587\u5b57",dataIndex:"title",width:"20%",render:(e,t,n,o)=>J().createElement(M.Input,{style:{width:"100%"},value:t.title,onChange:e=>{t.title=e.target.value,u([...d])}})},{title:"\u811a\u672c",dataIndex:"code",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(Xd,{options:{},buttonProps:{block:!0},value:t.code,onChange:e=>{t.code=e,u([...d])}})},{title:"\u6309\u94ae\u989c\u8272",dataIndex:"color",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement("div",{style:{margin:"0 10px"}},J().createElement($d,{options:{props:{options:[{label:"\u767d\u8272",value:"white"},{label:"\u84dd\u8272",value:"blue"},{label:"\u7ea2\u8272",value:"red"}]}},size:"small",value:t.color,onChange:e=>{t.color=e,u([...d])}}))},{title:"\u4e8c\u6b21\u786e\u8ba4",dataIndex:"confirm",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.confirm,onChange:e=>{t.confirm=e,u([...d])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:"status",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.status,onChange:e=>{t.status=e,u([...d])}})}].filter(Boolean),[m,p]=(0,$.useState)([]),_=[{title:"\u64cd\u4f5c\u540d\u79f0",dataIndex:"title",width:"20%",render:(e,t,n,o)=>J().createElement(M.Input,{style:{width:"100%"},value:t.title,onChange:e=>{t.title=e.target.value,p([...m])}})},{title:"\u6e32\u67d3\u811a\u672c",dataIndex:"code",width:"60%",align:"center",render:(e,t,n,o)=>J().createElement(Xd,{options:{},buttonProps:{block:!0},value:t.code,onChange:e=>{t.code=e,p([...m])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:"status",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.status,onChange:e=>{t.status=e,p([...m])}})}].filter(Boolean);(0,$.useEffect)((()=>{let t=JSON.parse(JSON.stringify(Nu)),n=(e.value||[]).filter((e=>"admin"===e.type)),o=(e.value||[]).filter((e=>"custom"===e.type)),l=(e.value||[]).filter((e=>"render"===e.type));n.forEach((e=>{let n=t[e.key];n&&(n.data={...n.data||{},...e})}));const a=Object.values(t).filter((t=>{var n;return t.scenes.includes(null===(n=e.options)||void 0===n?void 0:n.props.scene)}));r(a),u(o),p(l)}),[e.value]);const v=()=>i.map((e=>e.data)).filter((e=>e.status)).concat(d,m),b=()=>{a(!1)};return J().createElement(J().Fragment,null,J().createElement(M.Row,{gutter:[10,10]},J().createElement(n.Sortable,{value:(e.value||[]).filter((e=>e.status)),onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},itemKeyName:"key",itemRender:t=>{let{item:n,index:o,itemProps:l,handleProps:a}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},l),J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},a,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u53d6\u6d88\u542f\u7528"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t,n,o){var l,a;let i=v();i=JSON.parse(JSON.stringify(i));let[r]=null===(l=i)||void 0===l?void 0:l.filter((e=>e.key===t.key));r[n]=o,null===(a=e.onChange)||void 0===a||a.call(e,i)}(n,"status",!1)}))),value:n.title}))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:e=>{a(!0)}},"\u70b9\u51fb\u914d\u7f6e"))),J().createElement(M.Modal,{title:"\u64cd\u4f5c\u9879\u8bbe\u7f6e",width:900,destroyOnClose:!0,open:l,onOk:()=>{(()=>{var t;const n=v();null===(t=e.onChange)||void 0===t||t.call(e,n)})(),b()},onCancel:b},J().createElement(M.Table,{size:"small",style:{margin:"10px 0"},columns:s,dataSource:i,bordered:!0,rowKey:e=>e.data.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement("h4",null,"\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879"),J().createElement(M.Table,{size:"small",style:{margin:"10px 0"},columns:c,dataSource:d,bordered:!0,rowKey:e=>e.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement(M.Button,{type:"primary",onClick:t=>{var n;const o=[...d,null===(n=e.funcs)||void 0===n?void 0:n.createActionItemFunc()];u(o)}},"\u65b0\u589e\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879"),J().createElement("h4",null,"\u81ea\u5b9a\u4e49\u6e32\u67d3"),J().createElement(M.Table,{size:"small",style:{margin:"10px 0"},columns:_,dataSource:m,bordered:!0,rowKey:e=>e.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement(M.Button,{type:"primary",onClick:t=>{var n;const o=[...m,null===(n=e.funcs)||void 0===n?void 0:n.createRenderActionItemFunc()];p(o)}},"\u65b0\u589e\u81ea\u5b9a\u4e49\u6e32\u67d3\u9879")))},Lu=(0,ae.observer)((e=>{var t;const n=Sd.get("modules.components.basicCommon"),o=Sd.get("modules.components.basicWork"),l=Sd.get("modules.components.basicForm"),[a,i]=(0,$.useState)();(0,$.useEffect)((()=>{var t;null!==(t=e.module.data.attributes)&&void 0!==t&&t.table_id?r():i()}),[null===(t=e.module.data.attributes)||void 0===t?void 0:t.table_id]);const r=async()=>{var t;const n=await Sd.xrequest.post("/api/core/table/detail",{_id:null===(t=e.module.data.attributes)||void 0===t?void 0:t.table_id});i(null===n||void 0===n?void 0:n.data)};return J().createElement(M.Row,{gutter:[10,10]},J().createElement(n.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:n,index:i,itemProps:r,handleProps:s}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},r),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u5217 ".concat(i+1),trigger:"click",content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:n,onValuesChange:(t,n)=>function(t,n,o){var l;let a=e.value||[];a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,i)},J().createElement(M.Row,{gutter:[10,10]},n.moduleType&&J().createElement(J().Fragment,null,J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"\u5185\u7f6e\u5c5e\u6027",tooltip:"\u5185\u7f6e\u5c5e\u6027\u4f7f\u7528\u7684\u9690\u85cf\u5b57\u6bb5",name:"moduleType"},J().createElement(M.Input,null)))),J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"KEY",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5173\u8054\u5b57\u6bb5",name:"dataIndex"},J().createElement(o.TableFieldSelect,{options:{props:{fields:(null===a||void 0===a?void 0:a.fields)||[],moduleTypes:Array.from(new Set(((null===a||void 0===a?void 0:a.fields)||[]).map((e=>e.moduleType)))),defaultModuleIds:["_id","create_time"]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u540d\u79f0",name:"title"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8bf4\u660e",name:"tooltip"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5185\u5bb9\u5bf9\u9f50",name:"align"},J().createElement(l.IconRadioGroup,{options:{props:{options:[{label:"\u5c45\u5de6\u5bf9\u9f50",value:"left",icon:J().createElement(H.AlignLeftOutlined,null)},{label:"\u5c45\u4e2d\u5bf9\u9f50",value:"center",icon:J().createElement(H.AlignCenterOutlined,null)},{label:"\u5c45\u53f3\u5bf9\u9f50",value:"right",icon:J().createElement(H.AlignRightOutlined,null)}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u56fa\u5b9a",name:"fixed"},J().createElement(l.IconRadioGroup,{options:{props:{options:[{label:"\u4e0d\u56fa\u5b9a",value:!1,icon:"\u4e0d"},{label:"\u5de6\u4fa7\u56fa\u5b9a",value:"left",icon:"\u5de6"},{label:"\u53f3\u4fa7\u56fa\u5b9a",value:"right",icon:"\u53f3"}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5f00\u542f\u590d\u5236",name:"copyable"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u641c\u7d22\u680f\u641c\u7d22",name:"search"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8d85\u51fa\u7701\u7565",name:"ellipsis"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5bbd\u5ea6",name:"width"},J().createElement(Dd,{options:{props:{min:0,step:1}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u81ea\u5b9a\u4e49\u6e32\u67d3",name:"customRender"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:n.customRender?24:0},J().createElement(M.Form.Item,{label:"\u6e32\u67d3\u4ee3\u7801",name:"script"},J().createElement(l.JavascriptTransformCodeModal,{inContainer:!0,modalProps:{maskClosable:!1}})))))},J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},s,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(i)}))),value:n.title})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{let n=[...e.value,e.funcs.createColumnItemFunc({})];e.onChange(n)}},"\u65b0\u589e\u4e00\u5217")))})),Fu=(0,ae.observer)((e=>{const t=Sd.get("modules.components.basicCommon"),[n,o]=(Sd.get("modules.components.basicWork"),Sd.get("modules.components.basicForm"),(0,$.useState)(!1)),[l,a]=(0,$.useState)([]),i=[{title:"\u6309\u94ae\u6587\u5b57",dataIndex:"title",width:"20%",render:(e,t,n,o)=>J().createElement(M.Input,{style:{width:"100%"},value:t.title,onChange:e=>{t.title=e.target.value,a([...l])}})},{title:"\u811a\u672c",dataIndex:"code",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(Xd,{options:{},buttonProps:{block:!0},value:t.code,onChange:e=>{t.code=e,a([...l])}})},{title:"\u6309\u94ae\u989c\u8272",dataIndex:"color",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement("div",{style:{margin:"0 10px"}},J().createElement($d,{options:{props:{options:[{label:"\u767d\u8272",value:"white"},{label:"\u84dd\u8272",value:"blue"},{label:"\u7ea2\u8272",value:"red"}]}},size:"small",value:t.color,onChange:e=>{t.color=e,a([...l])}}))},{title:"\u4e8c\u6b21\u786e\u8ba4",dataIndex:"confirm",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.confirm,onChange:e=>{t.confirm=e,a([...l])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:"status",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.status,onChange:e=>{t.status=e,a([...l])}})}].filter(Boolean),[r,s]=(0,$.useState)([]),d=[{title:"\u64cd\u4f5c\u540d\u79f0",dataIndex:"title",width:"20%",render:(e,t,n,o)=>J().createElement(M.Input,{style:{width:"100%"},value:t.title,onChange:e=>{t.title=e.target.value,s([...r])}})},{title:"\u6e32\u67d3\u811a\u672c",dataIndex:"code",width:"60%",align:"center",render:(e,t,n,o)=>J().createElement(Xd,{options:{},buttonProps:{block:!0},value:t.code,onChange:e=>{t.code=e,s([...r])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:"status",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.status,onChange:e=>{t.status=e,s([...r])}})}].filter(Boolean);(0,$.useEffect)((()=>{let t=(e.value||[]).filter((e=>"custom"===e.type)),n=(e.value||[]).filter((e=>"render"===e.type));a(t),s(n)}),[e.value]);const u=()=>l.concat(r),c=()=>{o(!1)};return J().createElement(J().Fragment,null,J().createElement(M.Row,{gutter:[10,10]},J().createElement(t.Sortable,{value:(e.value||[]).filter((e=>e.status)),onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},itemKeyName:"key",itemRender:t=>{let{item:n,index:o,itemProps:l,handleProps:a}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},l),J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},a,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u53d6\u6d88\u542f\u7528"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t,n,o){var l,a;let i=u();i=JSON.parse(JSON.stringify(i));let[r]=null===(l=i)||void 0===l?void 0:l.filter((e=>e.key===t.key));r[n]=o,null===(a=e.onChange)||void 0===a||a.call(e,i)}(n,"status",!1)}))),value:n.title}))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:e=>{o(!0)}},"\u70b9\u51fb\u914d\u7f6e"))),J().createElement(M.Modal,{title:"\u64cd\u4f5c\u9879\u8bbe\u7f6e",width:900,destroyOnClose:!0,open:n,onOk:()=>{(()=>{var t;const n=u();null===(t=e.onChange)||void 0===t||t.call(e,n)})(),c()},onCancel:c},J().createElement(M.Table,{size:"small",style:{margin:"20px 0"},columns:i,dataSource:l,bordered:!0,rowKey:e=>e.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement(M.Button,{type:"primary",onClick:t=>{var n;const o=[...l,null===(n=e.funcs)||void 0===n?void 0:n.createActionItemFunc()];a(o)}},"\u65b0\u589e\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879"),J().createElement("h4",null,"\u81ea\u5b9a\u4e49\u6e32\u67d3"),J().createElement(M.Table,{size:"small",style:{margin:"10px 0"},columns:d,dataSource:r,bordered:!0,rowKey:e=>e.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement(M.Button,{type:"primary",onClick:t=>{var n;const o=[...r,null===(n=e.funcs)||void 0===n?void 0:n.createRenderActionItemFunc()];s(o)}},"\u65b0\u589e\u81ea\u5b9a\u4e49\u6e32\u67d3\u9879")))})),Ru=(0,ae.observer)((e=>{const t=Sd.get("modules.components.basicCommon"),n=Sd.get("modules.components.basicWork"),o=Sd.get("modules.components.basicForm");return J().createElement(M.Row,{gutter:[10,10]},J().createElement(t.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:l,index:a,itemProps:i,handleProps:r}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},i),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u5217 ".concat(a+1),trigger:"click",content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:l,onValuesChange:(t,n)=>function(t,n,o){var l;let a=e.value||[];a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,a)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"KEY",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5b57\u6bb5\u7c7b\u578b",name:"moduleType"},J().createElement(n.TableAllFieldsSelect,{options:{props:{}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u540d\u79f0",name:"title"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5b57\u6bb5\u540d",name:"dataIndex",tooltip:"\u5d4c\u5957\u5b57\u6bb5\u7528\u70b9\u8fde\u63a5\uff0c\u4f8b\u5982\uff1avalues.name"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8bf4\u660e",name:"tooltip"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5185\u5bb9\u5bf9\u9f50",name:"align"},J().createElement(o.IconRadioGroup,{options:{props:{options:[{label:"\u5c45\u5de6\u5bf9\u9f50",value:"left",icon:J().createElement(H.AlignLeftOutlined,null)},{label:"\u5c45\u4e2d\u5bf9\u9f50",value:"center",icon:J().createElement(H.AlignCenterOutlined,null)},{label:"\u5c45\u53f3\u5bf9\u9f50",value:"right",icon:J().createElement(H.AlignRightOutlined,null)}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u56fa\u5b9a",name:"fixed"},J().createElement(o.IconRadioGroup,{options:{props:{options:[{label:"\u4e0d\u56fa\u5b9a",value:!1,icon:"\u4e0d"},{label:"\u5de6\u4fa7\u56fa\u5b9a",value:"left",icon:"\u5de6"},{label:"\u53f3\u4fa7\u56fa\u5b9a",value:"right",icon:"\u53f3"}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5f00\u542f\u590d\u5236",name:"copyable"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u641c\u7d22\u680f\u641c\u7d22",name:"search"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8d85\u51fa\u7701\u7565",name:"ellipsis"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5bbd\u5ea6",name:"width"},J().createElement(Dd,{options:{props:{min:0,step:1}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u81ea\u5b9a\u4e49\u6e32\u67d3",name:"customRender"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:l.customRender?24:0},J().createElement(M.Form.Item,{label:"\u6e32\u67d3\u4ee3\u7801",name:"script"},J().createElement(o.JavascriptTransformCodeModal,{inContainer:!0,modalProps:{maskClosable:!1}})))))},J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},r,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(a)}))),value:l.title})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{const n=[...e.value,e.funcs.createColumnItemFunc({})];e.onChange(n)}},"\u65b0\u589e\u4e00\u5217")))})),Bu=(0,ae.observer)((e=>{var t,n;const o=Sd.get("modules.components.basicCommon"),l=Sd.get("modules.components.basicWork"),a=Sd.get("modules.components.basicForm"),[i,r]=(0,$.useState)();(0,$.useEffect)((()=>{var t;null!==(t=e.module.data.attributes)&&void 0!==t&&t.table_id?d():r()}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table_id]);const s=(0,$.useMemo)((()=>{let t=[],n=e.value||[],o=(null===i||void 0===i?void 0:i.fields)||[];return n.forEach((e=>{o.forEach((n=>{var o,l;e.dataIndex===n.moduleId&&((null===(o=n.data.attributes)||void 0===o||null===(l=o.searchPermission)||void 0===l||!l.includes("show"))&&t.push(e.dataIndex))}))})),t}),[e.value,i]),d=async()=>{var t;const n=await Sd.xrequest.post("/api/core/table/detail",{_id:null===(t=e.module.data.attributes)||void 0===t?void 0:t.table_id});r(null===n||void 0===n?void 0:n.data)};return J().createElement(M.Row,{gutter:[10,10]},J().createElement(o.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:n,index:o,itemProps:r,handleProps:d}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},r),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u5217 ".concat(o+1),trigger:"click",content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:n,onValuesChange:(t,n)=>function(t,n,o){var l;let a=e.value||[];a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,o)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"KEY",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u64cd\u4f5c\u7c7b\u578b",name:"type"},J().createElement($d,{options:{props:{options:[{label:"\u5185\u7f6e",value:"system"},{label:"\u81ea\u5b9a\u4e49",value:"custom"}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5173\u8054\u5b57\u6bb5",name:"dataIndex"},J().createElement(l.TableFieldSelect,{options:{props:{fields:(null===i||void 0===i?void 0:i.fields)||[],moduleTypes:Array.from(new Set(((null===i||void 0===i?void 0:i.fields)||[]).map((e=>e.moduleType)))),defaultModuleIds:["_id"]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u540d\u79f0",name:"title"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8bf4\u660e",name:"tooltip"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5185\u5bb9\u5bf9\u9f50",name:"align"},J().createElement(a.IconRadioGroup,{options:{props:{options:[{label:"\u5c45\u5de6\u5bf9\u9f50",value:"left",icon:J().createElement(H.AlignLeftOutlined,null)},{label:"\u5c45\u4e2d\u5bf9\u9f50",value:"center",icon:J().createElement(H.AlignCenterOutlined,null)},{label:"\u5c45\u53f3\u5bf9\u9f50",value:"right",icon:J().createElement(H.AlignRightOutlined,null)}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u56fa\u5b9a",name:"fixed"},J().createElement(a.IconRadioGroup,{options:{props:{options:[{label:"\u4e0d\u56fa\u5b9a",value:!1,icon:"\u4e0d"},{label:"\u5de6\u4fa7\u56fa\u5b9a",value:"left",icon:"\u5de6"},{label:"\u53f3\u4fa7\u56fa\u5b9a",value:"right",icon:"\u53f3"}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5f00\u542f\u590d\u5236",name:"copyable"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),!s.includes(n.dataIndex)&&J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u641c\u7d22\u680f\u641c\u7d22",name:"search"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8d85\u51fa\u7701\u7565",name:"ellipsis"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5bbd\u5ea6",name:"width"},J().createElement(Dd,{options:{props:{min:0,step:1}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u81ea\u5b9a\u4e49\u6e32\u67d3",name:"customRender"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:n.customRender?24:0},J().createElement(M.Form.Item,{label:"\u6e32\u67d3\u4ee3\u7801",name:"script"},J().createElement(a.JavascriptTransformCodeModal,{inContainer:!0,modalProps:{maskClosable:!1}})))))},J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},d,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(o)}))),value:n.title})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{let n=[...e.value,e.funcs.createColumnItemFunc({})];e.onChange(n)}},"\u65b0\u589e\u4e00\u5217")))})),Vu=e=>{const t=Sd.get("modules.components.basicCommon");Sd.get("modules.components.basicForm");return J().createElement(M.Row,{gutter:[10,10]},J().createElement(t.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:n,index:o,itemProps:l,handleProps:a}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},l),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u64cd\u4f5c"+(o+1),trigger:"click",content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:n,onValuesChange:(t,n)=>function(t,n,o){var l;let a=JSON.parse(JSON.stringify(e.value||[]));a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,o)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u7f16\u53f7",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"title"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u6309\u94ae\u989c\u8272",name:"color"},J().createElement($d,{options:{props:{options:[{label:"\u84dd\u8272",value:!1},{label:"\u7ea2\u8272",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u4e8c\u6b21\u786e\u8ba4",name:"confirm",tooltip:"\u4f1a\u5728\u70b9\u51fb\u540e\uff0c\u4e8c\u6b21\u5f39\u7a97\u786e\u8ba4\u540e\u518d\u6267\u884c"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u4ee3\u7801\u7f16\u8f91",name:"code"},J().createElement(Xd,{inContainer:!0,options:{props:{modalProps:{maskClosable:!1}}},buttonProps:{block:!0}})))))},J().createElement(M.Input,{readOnly:!0,style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},a,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null)})),value:"\u64cd\u4f5c"+(o+1)})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{const n=[...e.value,e.funcs.createActionItemFunc()];e.onChange(n)}},"\u65b0\u589e\u64cd\u4f5c")))},Uu=(0,ae.observer)((e=>{var t;const{core:n,editorStore:o}=(0,$.useContext)($r.f),[l,a]=(0,$.useState)();return(0,$.useEffect)((()=>{var t,l;const{parents:i}=n.findModuleParentsFunc(o.customData,e.module.moduleId),r=(i||[]).filter((e=>["screenFormSenior","formSenior"].includes(e.moduleType))).pop(),s=null===r||void 0===r||null===(t=r.data)||void 0===t||null===(l=t.attributes)||void 0===l?void 0:l.table_id;s&&async function(e){const t=await Sd.xrequest.post("/api/core/table/detail",{_id:e});a(null===t||void 0===t?void 0:t.data)}(s)}),[o.customData,e.module.moduleId]),J().createElement(M.Select,{value:e.value,style:{width:"100%"},options:null===l||void 0===l||null===(t=l.fields)||void 0===t?void 0:t.map((e=>{var t,n;return{label:(null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.title)||e.name,value:e.moduleId}})),placeholder:"\u8bf7\u9009\u62e9",onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)})})),Yu=(0,ae.observer)((e=>{var t,n;const{editorStore:o}=(0,$.useContext)($r.f);return J().createElement(M.Button,{type:"primary",onClick:t=>{var n,l,a,i,r;const s=null===(n=e.module)||void 0===n?void 0:n.moduleId,d=(null===(l=e.options)||void 0===l||null===(a=l.props)||void 0===a?void 0:a.methodName)||"open",u=o.moduleIns[s];null===u||void 0===u||null===(i=u.methods)||void 0===i||null===(r=i[d])||void 0===r||r.call(i)}},(null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.content)||"\u6253\u5f00\u5f39\u7a97")})),zu=e=>{const t=Sd.get("modules.components.basicForm");return J().createElement(Od,e,J().createElement(t.IconChoose,e))},ju=(0,ae.observer)((e=>{const t=Sd.get("modules.components.basicWork"),{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinModuleView:a,editorStore:i,variableStore:r,core:s,addFunc:d,getVariableValue:u,config:c}=(0,$.useContext)($r.f),m=e=>((null===e||void 0===e?void 0:e.fields)||[]).map(((e,t)=>{const o=n.formSeniorItem.createFunc();return o.data.attributes.field=e.moduleId,o})),p=t=>{const n=JSON.parse(JSON.stringify(i.customData)),{moduleInfo:o}=s.findModuleFunc(n,e.module.moduleId);o&&(o.children=t),i.setcustomData(n)};function _(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t),t&&(async t=>{var n,o;const l=await Sd.xrequest.post("/api/core/table/detail",{_id:t}),a=null===l||void 0===l?void 0:l.data;a&&["formSenior"].includes(null===(n=e.options)||void 0===n||null===(o=n.props)||void 0===o?void 0:o.moduleType)&&M.Modal.confirm({title:"\u63d0\u793a",icon:J().createElement(H.ExclamationCircleFilled,null),content:"\u5df2\u83b7\u53d6\u5230\u6570\u636e\u8868\u4fe1\u606f\uff0c\u662f\u5426\u81ea\u52a8\u586b\u5145\u8868\u5355\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:()=>{const e=m(a);p(e),M.message.success("\u64cd\u4f5c\u6210\u529f")}})})(t)}return J().createElement(t.TableTreeSelect,{value:e.value,onChange:e=>_(e)})})),qu=(0,ae.observer)((e=>{var t,n,o;const l=Sd.get("modules.components.basicWork"),[a,i]=(0,$.useState)();(0,$.useEffect)((()=>{var t,n,o;r(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.table_id)}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.table_id]);const r=async e=>{const t=await Sd.xrequest.post("/api/core/table/detail",{_id:e});i(null===t||void 0===t?void 0:t.data)};return J().createElement(M.Row,{gutter:[10,10],className:vd.table_filter},(e.value||[]).map(((e,t)=>J().createElement(M.Col,{span:24,key:t},J().createElement("div",{className:vd.table_area},e.map(((e,t)=>{var n,o,l;return J().createElement("div",{className:vd.table_line,key:t},J().createElement("div",{style:{flex:5,textAlign:"left"}},null===(n=e.field)||void 0===n?void 0:n.label),J().createElement("div",{style:{flex:4,textAlign:"center"}},null===(o=e.symbol)||void 0===o?void 0:o.label),J().createElement("div",{style:{flex:4,textAlign:"right"}},null===(l=e.value)||void 0===l?void 0:l.label))})))))),J().createElement(M.Col,{span:24},J().createElement(l.ConditionEditorModal,{buttonProps:{},modalProps:{},fields:(null===a||void 0===a?void 0:a.fields)||[],value:e.value,onChange:e.onChange})))})),Xu=(0,ae.observer)((e=>{const t=Sd.get("modules.components.basicForm"),{iconListMap:n}=Sd.get("datas.configs.work");return J().createElement(M.Row,{gutter:[10,10]},(Array.isArray(e.value)?e.value:[]).map(((o,l)=>J().createElement(M.Col,{span:24,size:[10,10],key:l},J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u5217 ".concat(l+1),trigger:"click",content:J().createElement(M.Form,{className:vd.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:o,onValuesChange:(t,n)=>function(t,n,o){var l;let a=e.value||[];a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,l)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"ID",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"name"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u53d8\u91cf\u540d",name:"fieldName"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u7c7b\u578b",name:"component"},J().createElement(Pd,{options:{props:{options:[{label:"\u6587\u5b57",value:"BasicInput"},{label:"\u6570\u5b57",value:"BasicInputNumber"},{label:"\u5e03\u5c14\u503c",value:"RadioButtonGroupInLine"},{label:"\u56fe\u7247",value:"ImageChoose"},{label:"\u56fe\u6807",value:"IconChoose"},{label:"\u989c\u8272",value:"ColorPicker"},{label:"JSON\u5b57\u7b26\u4e32",value:"JsonCodeModal"},{label:"JSON\u5bf9\u8c61",value:"JsonObjectModal"},{label:"\u83dc\u5355",value:"MenuEditorModal"}]}}}))),J().createElement(M.Col,{span:24},"BasicInput"===o.component&&J().createElement(M.Form.Item,{label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}})),"BasicInputNumber"===o.component&&J().createElement(M.Form.Item,{label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},J().createElement(Dd,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}})),"RadioButtonGroupInLine"===o.component&&J().createElement(M.Form.Item,{label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}})),"ImageChoose"===o.component&&J().createElement(M.Form.Item,{label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},J().createElement(mu,{inContainer:!0,options:{props:{}}})),"IconChoose"===o.component&&J().createElement(M.Form.Item,{label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},J().createElement(zu,{options:{props:{}}})),"ColorPicker"===o.component&&J().createElement(M.Form.Item,{label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},J().createElement(eu,{options:{props:{iconListMap:n}}})),"JsonCodeModal"===o.component&&J().createElement(M.Form.Item,{label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},J().createElement(t.JsonCodeModal,{inContainer:!0,modalProps:{maskClosable:!1}})),"JsonObjectModal"===o.component&&J().createElement(M.Form.Item,{label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},J().createElement(t.JsonObjectModal,{inContainer:!0,options:{props:{}}})),"MenuEditorModal"===o.component&&J().createElement(M.Form.Item,{label:"\u9ed8\u8ba4\u503c",name:"defaultValue"},J().createElement(qd,{inContainer:!0,options:{props:{}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8bf4\u660e",name:"tooltip"},J().createElement(Md,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u53d8\u91cf\u7ed1\u5b9a",name:"variable"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6",name:"customRender"},J().createElement($d,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:o.customRender?24:0},J().createElement(M.Form.Item,{label:"\u6e32\u67d3\u4ee3\u7801",name:"script"},J().createElement(t.JavascriptTransformCodeModal,{inContainer:!0,modalProps:{maskClosable:!1}})))))},J().createElement(M.Input,{readOnly:!0,suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(l)}))),value:o.name||"\u5c5e\u6027\u540d\u79f0"}))))),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{const n=[...e.value,e.funcs.createAttributeItemFunc({})];e.onChange(n)}},"\u65b0\u589e\u4e00\u9879")))})),Wu=(0,ae.observer)((e=>{var t,n,o;const l=Sd.get("modules.components.basicForm"),{iconListMap:a}=Sd.get("datas.configs.work"),{XinScreenEditorModulesMap:i,XinCoverView:r,XinTypeView:s,XinModuleView:d,editorStore:u,core:c,addFunc:m,getVariableValue:p,config:_}=(0,$.useContext)($r.f),v=(0,$.useRef)(),[b]=M.Form.useForm(),[f,E]=(0,$.useState)(!1),[g,y]=(0,$.useState)(),[h,x]=(0,$.useState)([]),w=(0,$.useMemo)((()=>{function e(t,n,o){const l=(null===t||void 0===t?void 0:t.icon)&&a[t.icon];return{title:C(t,"dir",n,o),stitle:t.name,icon:l&&J().createElement(l,null),data:t,parents:o,key:t.key,selectable:!0,children:(t.children||[]).map((l=>e(l,n+1,[...o,t])))}}return h.map((t=>e(t,1,[])))}),[h]);function I(){E(!1)}(0,$.useEffect)((()=>{x(e.value||[])}),[e.value]);function T(e){var t,n,o;const l=null===(t=i.menu)||void 0===t||null===(n=t.funcs)||void 0===n||null===(o=n.createMenuItemFunc)||void 0===o?void 0:o.call(n);e?(e.children||(e.children=[]),e.children.push(l)):h.push(l),x(JSON.parse(JSON.stringify(h)))}function C(e,t,n,o){return J().createElement("div",{className:vd.title,style:{width:{1:"87.5%",2:"86%",3:"84.5%",4:"82.5%",5:"79.5%"}[n]}},J().createElement("div",{className:vd.text},e.label),J().createElement("div",{className:vd.control,onClick:e=>function(e){e.stopPropagation&&e.stopPropagation()}(e)},J().createElement(M.Tooltip,{title:"\u65b0\u589e\u5b50\u83dc\u5355"},J().createElement(H.PlusCircleFilled,{className:vd.btn,onClick:t=>{T(e)}})),J().createElement(M.Popconfirm,{title:"\u5220\u9664\u786e\u8ba4",description:"\u786e\u8ba4\u5220\u9664\u5f53\u524d\u83dc\u5355\uff1f",onConfirm:e=>{},placement:"topRight",overlayInnerStyle:{width:270},onCancel:e=>{},okText:"\u5220\u9664",okButtonProps:{danger:!0},cancelText:"\u53d6\u6d88"},J().createElement(M.Tooltip,{title:"\u5220\u9664\u83dc\u5355"},J().createElement(H.DeleteFilled,{className:Z()([vd.btn,vd.red])})))))}return J().createElement(J().Fragment,null,J().createElement("div",{ref:v,style:{display:"inline-block",zIndex:1e4}}),J().createElement(M.Button,Object.assign({block:!0},e.buttonProps||{},{onClick:e=>E(!0)}),(null===(t=e.buttonProps)||void 0===t?void 0:t.title)||"\u7f16\u8f91\u83dc\u5355"),J().createElement(M.Modal,Object.assign({title:(null===(n=e.modalProps)||void 0===n?void 0:n.title)||"\u7f16\u8f91\u83dc\u5355",width:(null===(o=e.modalProps)||void 0===o?void 0:o.width)||800,footer:e.footer},e.modalProps||{},{getContainer:()=>e.inContainer?v.current:document.body,open:f,onOk:function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,h),I()},onCancel:I}),J().createElement("div",{className:vd.menu_editor_box,style:{display:"flex"}},J().createElement("div",{style:{width:300}},J().createElement(M.Card,{title:"\u83dc\u5355\u9879",size:"small",extra:J().createElement(M.Tooltip,{title:"\u65b0\u589e\u83dc\u5355"},J().createElement(M.Button,{size:"small",type:"primary",icon:J().createElement(H.PlusOutlined,null),onClick:e=>{T()}}))},J().createElement("div",{style:{maxHeight:517,overflowY:"auto"}},Boolean(w.length)?J().createElement(M.Tree.DirectoryTree,{rootClassName:vd.xin_tree,defaultSelectedKeys:[g],defaultExpandAll:!0,onDrop:e=>{},expandAction:!1,treeData:w,onSelect:(e,t)=>{var n,o;y(null===t||void 0===t||null===(n=t.node)||void 0===n?void 0:n.key);const l=(null===t||void 0===t||null===(o=t.node)||void 0===o?void 0:o.data)||{};b.resetFields(),b.setFieldsValue({...l})}}):J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE})))),J().createElement("div",{style:{flex:1,marginLeft:20}},J().createElement(M.Card,{title:"\u83dc\u5355\u4fe1\u606f",size:"small"},g?J().createElement(M.Form,{form:b,labelCol:{span:5},wrapperCol:{span:19},layout:"horizontal",labelAlign:"right"},J().createElement(M.Row,{gutter:[10,0]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"\u83dc\u5355ID",name:"key",hidden:!0},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165",disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"label"},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165"}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u83dc\u5355\u8def\u5f84",name:"path"},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165\uff0c#/\u5f00\u5934"}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u83dc\u5355\u56fe\u6807",name:"icon"},J().createElement(zu,null))),J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"\u5371\u9669\u56fe\u6807",name:"danger"},J().createElement(l.BasicRadioGroup,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u7981\u7528",name:"disabled"},J().createElement(l.BasicRadioGroup,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:" ",colon:!1},J().createElement(M.Button,{type:"primary",onClick:e=>{b.validateFields().then((e=>{let t=JSON.parse(JSON.stringify(h)),n=null;!function e(t,o){o.forEach((o=>{t===o.key?n=o:e(t,o.children||[])}))}(e.key,t||[]),n&&Object.keys(e).forEach((t=>{n[t]=e[t]})),x(t)}))}},"\u6682\u5b58"))))):J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE}))))))})),Ku=window.__app__,$u=(0,$.memo)((e=>React.createElement(M.Form.Item,{label:e.label,tooltip:e.tooltip,name:e.name,noStyle:e.noStyle,initialValue:e.initialValue,required:e.required},e.children))),Ju=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Ku.get("modules.components.basicForm"),o=Ku.get("modules.components.basicWork");return React.createElement(M.Row,{gutter:[10,10]},t.map(((t,l)=>{var a,i;let r=t.component;if("string"===typeof t.component){const e=t.component;r=m[e]||o[e]||n[e]}return r?React.createElement(M.Col,{key:l,span:null!==(a=t.hidden)&&void 0!==a&&a.call(t,e)?0:24},React.createElement($u,(null===t||void 0===t?void 0:t.formItemProps)||{},React.createElement(r,Object.assign({},e,{options:t})))):React.createElement("div",{key:l,style:{color:"red",fontSize:12}},"\u914d\u7f6e\u9879\u3010",null===(i=t.formItemProps)||void 0===i?void 0:i.label,": ",t.component,"\u3011\u7f3a\u5931\u6216\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458")})))},Hu=window.__app__,Gu=(0,$.memo)((e=>{var t;const n=Hu.get("modules.components.basicCommon");return null===(t=e.items)||void 0===t?void 0:t.map(((t,o)=>{var l,a;const i="function"===typeof t?t(e):t;return!(null!==i&&void 0!==i&&null!==(l=i.hidden)&&void 0!==l&&l.call(i,e))&&((null===i||void 0===i||null===(a=i.render)||void 0===a?void 0:a.call(i,e))||J().createElement($.Fragment,{key:o},J().createElement(n.Block,{title:i.title,tooltip:i.tooltip,border:!0},Ju(e,i.children))))}))})),Qu=e=>{var t,n,o,l,a,i,r,s,d,u,c;const m=Hu.get("modules.components.basicCommon");return J().createElement(m.Tabs,{defaultValue:"attributes",moduleId:e.module.moduleId},(null===(t=e.control)||void 0===t?void 0:t.attributes)&&J().createElement(m.Tabs.Item,{title:"\u5c5e\u6027\u914d\u7f6e",value:"attributes"},J().createElement("div",{style:{padding:"0 10px",height:"100%",boxSizing:"border-box"}},null===(n=e.control)||void 0===n?void 0:n.attributeNode,J().createElement(Gu,Object.assign({},e,{items:(null===(o=e.control)||void 0===o?void 0:o.attributes)||[]})))),(null===(l=e.control)||void 0===l?void 0:l.styles)&&J().createElement(m.Tabs.Item,{title:"\u6837\u5f0f",value:"styles"},J().createElement("div",{style:{padding:"0 10px",height:"100%",boxSizing:"border-box"}},null!==(a=e.control.styles)&&void 0!==a&&a.tabs?J().createElement(m.Segment,{options:null===(i=e.control.styles)||void 0===i||null===(r=i.tabs)||void 0===r?void 0:r.map(((t,n)=>({label:t.label,value:t.value,children:J().createElement(Gu,Object.assign({},e,{items:t.styles}))})))}):J().createElement(Gu,Object.assign({},e,{items:(null===(s=e.control)||void 0===s?void 0:s.styles)||[]})))),(null===(d=e.control)||void 0===d?void 0:d.events)&&J().createElement(m.Tabs.Item,{title:"\u4e8b\u4ef6",value:"events"},J().createElement("div",{style:{padding:"0 10px",height:"100%",boxSizing:"border-box"}},null===(u=e.control)||void 0===u||null===(c=u.events)||void 0===c?void 0:c.map(((t,n)=>J().createElement($.Fragment,{key:n},Ju(e,t.children)))))))},Zu=(0,$.memo)(Qu),ec=(e,t)=>{(0,$.useImperativeHandle)(t,(()=>({resetFields:d})));const{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,editorStore:a,core:i,config:r}=(0,$.useContext)($r.f),[s]=M.Form.useForm();(0,$.useEffect)((()=>{s.setFieldsValue(e.module.data)}),[e.module.data]);const d=()=>{s.resetFields(),s.setFieldsValue(a.settingInfo)};return J().createElement(M.Form,{className:vd.form,form:s,labelCol:{span:8},wrapperCol:{span:16},layout:"horizontal",labelAlign:"left",colon:!1,initialValues:e.module.data,onValuesChange:(t,n)=>function(t,n){var o;null===(o=e.onChange)||void 0===o||o.call(e,{values:n,moduleId:e.module.moduleId})}(0,n)},J().createElement(Zu,Object.assign({},e,{onChange:void 0})))},tc=(0,ae.observer)((0,$.forwardRef)(ec)),nc=window.__app__,oc={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"html",NAME:"html\u6e90\u7801",ICON:J().createElement(H.Html5Outlined,null)},lc={title:oc.NAME,attributes:{content:"<div>html\u5185\u5bb9</div>",hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},ac={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"HtmlCodeModal",variable:!0,formItemProps:{label:"\u5185\u5bb9",name:["attributes","content"]}}]},(0,cd.createCommonOptionFunc)({moduleType:oc.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:oc.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:oc.MODULE_TYPE})};const ic={type:oc.TYPE,moduleType:oc.MODULE_TYPE,name:oc.NAME,icon:oc.ICON,data:lc,control:ac,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:md,Setting:tc,createFunc:function(){const e=nc.uuid(oc.MODULE_TYPE+"_"),t={type:oc.TYPE,moduleType:oc.MODULE_TYPE,moduleId:e,name:oc.NAME,data:lc};return JSON.parse(JSON.stringify(t))}};var rc=__webpack_require__(7891);const sc=window.__app__,dc=(0,ae.observer)((e=>{var t,n,o,l;const{XinScreenEditorModulesMap:a,XinCoverView:i,XinTypeView:r,XinModuleView:s,customData:d,variableStore:u,editorStore:c,core:m,addFunc:p,getVariableValue:_,config:v}=(0,$.useContext)($r.f),{createScriptContexts:b}=sc.get("handles"),f=(0,$.useRef)(),E=(0,$.useRef)();return(0,$.useEffect)((()=>{var t;if("view"===(null===(t=e.contexts)||void 0===t?void 0:t.mode)){var n;!async function(t){var n,o;const l={...b(),...c.contexts.moduleIns,...u.contexts,screenScripts:null===(n=e.contexts)||void 0===n?void 0:n.screenScripts},a=sc.runScriptFunc(t),i=a.main;E.current||(E.current=rc.createRoot(f.current));i&&(null===(o=E.current)||void 0===o||o.render(J().createElement(i,{contexts:l,data:null})))}(_(null===(n=e.module.data.attributes)||void 0===n?void 0:n.content,e,{variableStore:u}))}}),[null===(t=e.module.data.attributes)||void 0===t?void 0:t.content]),J().createElement(s,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.jsx_content)}),J().createElement("div",{ref:f,className:Z()([is.A.jsx_content,_(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.className,e,{variableStore:u})]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:u})}},"editor"===(null===(l=e.contexts)||void 0===l?void 0:l.mode)&&J().createElement(J().Fragment,null," JSX\u7ec4\u4ef6\u5185\u5bb9")))})),uc=window.__app__,cc={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"jsx",NAME:"JSX",ICON:J().createElement("span",null,"jsx")},mc={title:cc.NAME,attributes:{content:"({\n  main: function (props) {\n    // \u8bf7\u5728\u6b64\u7f16\u5199 Hook \u7ec4\u4ef6\n    // props.contexts \u6267\u884c\u4e0a\u4e0b\u6587\n    // props.data \u5176\u5b83\u53c2\u6570\n    // props.contexts.antd \u7ec4\u4ef6\u5e93\n    return (\n      <div>\u8bf7\u4f7f\u7528 JSX \u8bed\u6cd5\u7f16\u5199\u81ea\u5b9a\u4e49\u7ec4\u4ef6</div>\n    )\n  }\n})\n",hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},pc={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"JavascriptTransformCodeModal",formItemProps:{label:"\u5185\u5bb9",name:["attributes","content"]}}]},(0,cd.createCommonOptionFunc)({moduleType:cc.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:cc.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:cc.MODULE_TYPE})};const _c={type:cc.TYPE,moduleType:cc.MODULE_TYPE,name:cc.NAME,icon:cc.ICON,data:mc,control:pc,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:dc,Setting:tc,createFunc:function(){const e=uc.uuid(cc.MODULE_TYPE+"_"),t={type:cc.TYPE,moduleType:cc.MODULE_TYPE,moduleId:e,name:cc.NAME,data:mc};return JSON.parse(JSON.stringify(t))}},vc=window.__app__,bc=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c;const{XinScreenEditorModulesMap:m,XinCoverView:p,XinTypeView:_,XinModuleView:v,customData:b,editorStore:f,variableStore:E,core:g,addFunc:y,getVariableValue:h,config:x}=(0,$.useContext)($r.f),w=(0,$.useRef)(),[I,T]=(0,$.useState)((null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.defaultActiveKey)||0),C=(0,$.useCallback)((async e=>{var t,n;null===(t=w.current)||void 0===t||null===(n=t.next)||void 0===n||n.call(t)}),[]),S=(0,$.useCallback)((async e=>{var t,n;null===(t=w.current)||void 0===t||null===(n=t.prev)||void 0===n||n.call(t)}),[]),O=(0,$.useCallback)((async(e,t)=>{var n,o;null===(n=w.current)||void 0===n||null===(o=n.goTo)||void 0===o||o.call(n,e,t)}),[]);return J().createElement(v,Object.assign({},e,{className:Z()([]),style:{},exports:{activeKey:I},methods:[{label:"\u5207\u6362\u5230\u4e0b\u4e00\u9762\u677f",value:"next",method:C,params:""},{label:"\u5207\u6362\u5230\u4e0a\u4e00\u9762\u677f",value:"prev",method:S,params:""},{label:"\u5207\u6362\u5230\u6307\u5b9a\u9762\u677f",value:"goTo",method:O,params:"0, false"}]}),J().createElement(M.Carousel,{ref:w,style:{overflow:"hidden",...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:E})},autoplay:h(null===(o=e.module.data.attributes)||void 0===o?void 0:o.autoplay,e,{variableStore:E}),draggable:h(null===(l=e.module.data.attributes)||void 0===l?void 0:l.draggable,e,{variableStore:E}),fade:h(null===(a=e.module.data.attributes)||void 0===a?void 0:a.fade,e,{variableStore:E}),dots:h(null===(i=e.module.data.attributes)||void 0===i?void 0:i.dots,e,{variableStore:E}),speed:h((null===(r=e.module.data.attributes)||void 0===r?void 0:r.speed)||500,e,{variableStore:E}),autoplaySpeed:h((null===(s=e.module.data.attributes)||void 0===s?void 0:s.autoplaySpeed)||3e3,e,{variableStore:E}),dotPosition:h(null===(d=e.module.data.attributes)||void 0===d?void 0:d.dotPosition,e,{variableStore:E}),effect:h(null===(u=e.module.data.attributes)||void 0===u?void 0:u.effect,e,{variableStore:E}),beforeChange:(e,t)=>{T(t)}},h(null===(c=e.module.data.attributes)||void 0===c?void 0:c.items,e,{variableStore:E}).map(((e,t)=>{var n,o,l,a;return J().createElement("a",{key:t,className:is.A.carousel_img_content,href:null===(n=e.link)||void 0===n?void 0:n.href,target:null===(o=e.link)||void 0===o?void 0:o.target},e.url?J().createElement("img",{className:is.A.carousel_img,src:null===(l=(a=vc.handles).resourceUrl)||void 0===l?void 0:l.call(a,e.url),alt:e.label}):J().createElement("div",{className:is.A.carousel_empty},e.label))}))))})),fc=window.__app__;function Ec(e){const t=fc.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-a-003_lunbotu"})}const gc={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"carouselImage",NAME:"\u8f6e\u64ad\u56fe",ICON:J().createElement(Ec,null)};function yc(){return{label:"\u56fe\u7247",value:fc.uuid("uid_"),url:void 0,link:{linkType:"page",href:void 0,target:"_self"}}}const hc={attributes:{title:gc.NAME,items:Array(2).fill(1).map((()=>yc())),autoplay:!0,autoplaySpeed:3e3,speed:500,dots:!0,dotPosition:"bottom",draggable:!1,fade:!1,effect:"scrollx",hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},xc={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u81ea\u52a8\u64ad\u653e",name:["attributes","autoplay"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u62d6\u62fd\u5207\u6362",name:["attributes","draggable"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u6e10\u53d8\u5207\u6362",name:["attributes","fade"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u5207\u6362\u65f6\u95f4",name:["attributes","speed"]},props:{suffix:"\u6beb\u79d2"}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u5207\u6362\u95f4\u9694",name:["attributes","autoplaySpeed"]},props:{suffix:"\u6beb\u79d2"}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u663e\u793a\u6307\u793a\u70b9",name:["attributes","dots"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u6307\u793a\u70b9\u4f4d\u7f6e",name:["attributes","dotPosition"]},props:{options:[{label:"\u4e0a\u65b9",value:"top"},{label:"\u4e0b\u65b9",value:"bottom"},{label:"\u5de6\u4fa7",value:"left"},{label:"\u53f3\u4fa7",value:"right"}]}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u52a8\u753b\u6548\u679c",name:["attributes","effect"]},props:{options:[{label:"\u6c34\u5e73\u79fb\u52a8",value:"scrollx"},{label:"\u6e10\u9690\u6e10\u73b0",value:"fade"}]}},{component:"CarouselImageItems",variable:!0,formItemProps:{label:"\u56fe\u7247\u9879",name:["attributes","items"]}}]},(0,cd.createCommonOptionFunc)({moduleType:gc.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:gc.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:gc.MODULE_TYPE})};const wc={type:gc.TYPE,moduleType:gc.MODULE_TYPE,name:gc.NAME,icon:gc.ICON,data:hc,control:xc,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:bc,Setting:tc,createFunc:function(){const e=fc.uuid(gc.MODULE_TYPE+"_"),t={type:gc.TYPE,moduleType:gc.MODULE_TYPE,moduleId:e,name:gc.NAME,data:hc};return JSON.parse(JSON.stringify(t))},funcs:{createItemFunc:yc}},Ic=window.__app__;const Tc=(0,ae.observer)((function(e){var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f;const{XinScreenEditorModulesMap:E,XinCoverView:g,XinTypeView:y,XinModuleView:h,XinChildrenView:x,customData:w,variableStore:I,core:T,addFunc:C,getVariableValue:S,config:O}=(0,$.useContext)($r.f),P=Ic.get("modules.components.basicCommon"),M=(0,$.useRef)(),[k,D]=(0,$.useState)((null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.defaultActiveKey)||0),N=(0,$.useCallback)((async e=>{var t,n;null===(t=M.current)||void 0===t||null===(n=t.next)||void 0===n||n.call(t)}),[]),A=(0,$.useCallback)((async e=>{var t,n;null===(t=M.current)||void 0===t||null===(n=t.prev)||void 0===n||n.call(t)}),[]),L=(0,$.useCallback)((async e=>{var t,n;null===(t=M.current)||void 0===t||null===(n=t.goTo)||void 0===n||n.call(t,e)}),[]);return J().createElement(h,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.carousel_content),exports:{activeKey:k},methods:[{label:"\u5207\u6362\u5230\u4e0b\u4e00\u9762\u677f",value:"next",method:N,params:""},{label:"\u5207\u6362\u5230\u4e0a\u4e00\u9762\u677f",value:"prev",method:A,params:""},{label:"\u5207\u6362\u5230\u6307\u5b9a\u9762\u677f",value:"goTo",method:L,params:"0"}]}),J().createElement(P.Carousel,{ref:M,className:Z()([is.A.carousel_content,S(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.className,e,{variableStore:I})]),style:(0,cd.styleObjToStylesFunc)(null===(a=e.module.data)||void 0===a?void 0:a.styles,e,{variableStore:I}),activeKey:k,autoplay:S(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.autoplay,e,{variableStore:I}),draggable:S(null===(s=e.module.data.attributes)||void 0===s?void 0:s.draggable,e,{variableStore:I}),fade:S(null===(d=e.module.data.attributes)||void 0===d?void 0:d.fade,e,{variableStore:I}),dots:S(null===(u=e.module.data)||void 0===u||null===(c=u.attributes)||void 0===c?void 0:c.dots,e,{variableStore:I}),dotPosition:S(null===(m=e.module.data)||void 0===m||null===(p=m.attributes)||void 0===p?void 0:p.dotPosition,e,{variableStore:I}),effect:S(null===(_=e.module.data)||void 0===_||null===(v=_.attributes)||void 0===v?void 0:v.effect,e,{variableStore:I}),beforeChange:(e,t)=>{D(t)}},S(null===(b=e.module.data)||void 0===b||null===(f=b.attributes)||void 0===f?void 0:f.items,e,{variableStore:I}).map(((t,n)=>J().createElement($.Fragment,{key:n},J().createElement(x.Item,Object.assign({},e,{contexts:{...e.contexts,parents:[...e.contexts.parents||[],e.module]},module:e.module.children[n]})))))))})),Cc=(0,ae.observer)((e=>{const{XinScreenEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinChildrenView:l,XinModuleView:a,customData:i,core:r,addFunc:s,getVariableValue:d,variableStore:u,config:c}=(0,$.useContext)($r.f);return J().createElement(a,Object.assign({},e,{className:Z()([]),style:{gridColumnStart:e.contexts.span?"span ".concat(e.contexts.span):void 0,...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:u})}}),e.children||J().createElement(l,e))})),Sc=window.__app__,Oc={TYPE:"\u5e03\u5c40\u7ec4\u4ef6",MODULE_TYPE:"wrapin",NAME:"\u5e03\u5c40",ICON:J().createElement(H.BorderOutlined,null)},Pc={title:Oc.NAME,attributes:{hidden:!1},styles:{_style:":root {\n    \n}"}};const Mc={type:Oc.TYPE,moduleType:Oc.MODULE_TYPE,name:Oc.NAME,icon:Oc.ICON,data:Pc,control:{attributes:[],styles:[],animations:[],events:[]},config:{dragable:!1,insertable:!0,removeable:!1,copyable:!1,componentable:!1,display:"block",button:!1},View:Cc,Setting:tc,createFunc:function(e){const t=Sc.uuid(Oc.MODULE_TYPE+"_"),n={type:Oc.TYPE,moduleType:Oc.MODULE_TYPE,moduleId:t,name:(null===e||void 0===e?void 0:e.name)||Oc.NAME,data:Pc,children:[]};return JSON.parse(JSON.stringify(n))}},kc=window.__app__;function Dc(e){const t=kc.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-a-003_lunbotu"})}const Nc={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"carousel",NAME:"\u8f6e\u64ad",ICON:J().createElement(Dc,null)};function Ac(){return{label:"\u8f6e\u64ad",value:kc.uuid("uid_")}}const Lc={title:Nc.NAME,attributes:{items:Array(2).fill(1).map((()=>Ac())),autoplay:!1,autoplaySpeed:3e3,defaultActiveKey:0,speed:500,dots:!0,dotPosition:"bottom",draggable:!1,fade:!1,effect:"scrollx",hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},Fc={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u81ea\u52a8\u64ad\u653e",name:["attributes","autoplay"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u62d6\u62fd\u5207\u6362",name:["attributes","draggable"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u6e10\u53d8\u5207\u6362",name:["attributes","fade"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u5207\u6362\u65f6\u95f4",name:["attributes","speed"]},props:{suffix:"\u6beb\u79d2"}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u5207\u6362\u95f4\u9694",name:["attributes","autoplaySpeed"]},props:{suffix:"\u6beb\u79d2"}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u663e\u793a\u6307\u793a\u70b9",name:["attributes","dots"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u6307\u793a\u70b9\u4f4d\u7f6e",name:["attributes","dotPosition"]},props:{options:[{label:"\u4e0a\u65b9",value:"top"},{label:"\u4e0b\u65b9",value:"bottom"},{label:"\u5de6\u4fa7",value:"left"},{label:"\u53f3\u4fa7",value:"right"}]}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u52a8\u753b\u6548\u679c",name:["attributes","effect"]},props:{options:[{label:"\u6c34\u5e73\u79fb\u52a8",value:"scrollx"},{label:"\u6e10\u9690\u6e10\u73b0",value:"fade"}]}},{component:"SelectItemsIndex",formItemProps:{label:"\u5207\u6362\u9879\u76ee",tooltip:"\u4ec5\u5728\u7f16\u8f91\u6a21\u5f0f\u4e0b\u7528\u4e8e\u5207\u6362Tab\u4f7f\u7528"},props:{methodName:"goTo"}},{component:"SelectFromItemsIndex",formItemProps:{label:"\u9ed8\u8ba4\u9879",name:["attributes","defaultActiveKey"]},props:{allowClear:!0,showSearch:!1}},{component:"CarouselItems",formItemProps:{label:"\u9009\u9879",name:["attributes","items"]}}]},(0,cd.createCommonOptionFunc)({moduleType:Nc.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Nc.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Nc.MODULE_TYPE})};const Rc={type:Nc.TYPE,moduleType:Nc.MODULE_TYPE,name:Nc.NAME,icon:Nc.ICON,data:Lc,control:Fc,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Tc,Setting:tc,createFunc:function(){const e=kc.uuid(Nc.MODULE_TYPE+"_"),t={type:Nc.TYPE,moduleType:Nc.MODULE_TYPE,moduleId:e,name:Nc.NAME,data:Lc,children:[Mc.createFunc({name:Nc.NAME+"\u5185\u90e8\u5bb9\u5668"}),Mc.createFunc({name:Nc.NAME+"\u5185\u90e8\u5bb9\u5668"})]};return JSON.parse(JSON.stringify(t))},funcs:{createItemFunc:Ac}},Bc=window.__app__,Vc=(0,ae.observer)((e=>{var t,n,o,l,a;const{XinScreenEditorModulesMap:i,XinCoverView:r,XinTypeView:s,XinChildrenView:d,XinModuleView:u,customData:c,core:m,addFunc:p,getVariableValue:_,variableStore:v,config:b}=(0,$.useContext)($r.f),{ScreenView:f}=Bc.get("modules.screenEditor"),[E,g]=(0,$.useState)(!1),[y,h]=(0,$.useState)();(0,$.useEffect)((()=>{var t;(null===(t=e.module.data.attributes)||void 0===t?void 0:t.screen_id)&&x()}),[null===(t=e.module.data.attributes)||void 0===t?void 0:t.screen_id]);const x=async()=>{var t;g(!0);const n=await Bc.xrequest.post("/api/core/screen/detail",{_id:null===(t=e.module.data.attributes)||void 0===t?void 0:t.screen_id});g(!1),h(null===n||void 0===n?void 0:n.data)};return J().createElement(u,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.screenQuote_content)}),J().createElement("div",{className:Z()([is.A.screenQuote_content,_(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.className,e,{variableStore:v}),"editor"===(null===(l=e.contexts)||void 0===l?void 0:l.mode)?is.A.none_event:""]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:v})}},J().createElement(M.Spin,{spinning:E,size:"default"},null!==y&&void 0!==y&&null!==(a=y.body)&&void 0!==a&&a.customData?J().createElement(f,{detailInfo:y,contexts:{},customContexts:{}}):J().createElement("div",{style:{padding:10}},J().createElement(M.Empty,{imageStyle:{height:60},description:J().createElement("span",{style:{color:"#ffffff"}},"\u8bf7\u9009\u62e9\u9700\u8981\u5f15\u7528\u7684\u753b\u9762")})))))})),Uc=window.__app__,Yc={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"screenQuote",NAME:"\u753b\u9762\u5f15\u7528",ICON:J().createElement(H.SwitcherOutlined,null)},zc={title:Yc.NAME,attributes:{screen_id:void 0,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},jc={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"ScreenTreeSelect",variable:!0,formItemProps:{label:"\u9009\u62e9\u753b\u9762",name:["attributes","screen_id"]}}]},(0,cd.createCommonOptionFunc)({moduleType:Yc.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Yc.MODULE_TYPE,names:["styles"],exclude:["_style"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Yc.MODULE_TYPE})};const qc={type:Yc.TYPE,moduleType:Yc.MODULE_TYPE,name:Yc.NAME,icon:Yc.ICON,data:zc,control:jc,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!1,display:"block",button:!0},View:Vc,Setting:tc,createFunc:function(){const e=Uc.uuid(Yc.MODULE_TYPE+"_"),t={type:Yc.TYPE,moduleType:Yc.MODULE_TYPE,moduleId:e,name:Yc.NAME,data:zc};return JSON.parse(JSON.stringify(t))}},Xc=(0,$.createContext)(),Wc=window.__app__,Kc="view",$c=(e,t)=>{(0,$.useImperativeHandle)(t,(()=>({getForm:v,setValues:_})));const n=Wc.get("contexts.app"),{operateStore:o,propsvariableStore:l}=(0,$.useContext)(Xc),a=Wc.get("modules.screenEditor.modules"),{createScriptContexts:i}=Wc.get("handles"),r=(0,$.useRef)(new ws),s=(0,$.useRef)(new ys),d=r.current,u=s.current,[c,m]=(0,$.useState)(!1),p=(0,$.useRef)({});async function _(e){if(e.dataSource&&(d.setdataSource(e.dataSource||[]),u.initDataSource(e.dataSource||[])),e.screenVariable&&(d.setscreenVariable(e.screenVariable),u.initScreenVariable(e.screenVariable)),e.screenScript){d.setscreenScript(e.screenScript);const t=Wc.runScriptFunc(e.screenScript);p.current=t,setTimeout((()=>b("mounted")),0)}e.customData&&d.setcustomData(e.customData)}(0,$.useEffect)((()=>{if(e.detailInfo){var t;_((null===(t=e.detailInfo)||void 0===t?void 0:t.body)||{})}else e._id&&async function(){var t;m(!0),d.setcustomData();const n=await Wc.xrequest.post("/api/core/screen/detail",{_id:e._id});m(!1);_((null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.body)||{})}()}),[e.detailInfo,e._id]),(0,$.useEffect)((()=>(u.initData(),()=>{u.reset(),d.reset(),b("destroy")})),[]);const v=e=>{null===e||void 0===e||e(d.seniorForm)};async function b(e){var t;const n=null===(t=p.current)||void 0===t?void 0:t[e],o={...i(),...d.contexts.moduleIns,...u.contexts,screenScripts:p.current||{}};null===n||void 0===n||n.call(p.current,o,void 0)}return J().createElement($r.f.Provider,{value:{XinScreenEditorModulesMap:a,XinCoverView:ts,XinTypeView:Jr,XinChildrenView:as,XinModuleView:ss,editorStore:d,operateStore:o,variableStore:u,propsvariableStore:l,core:ps,componentList:n.componentList,getVariableValue:_s.A,setVariableValue:vs.A,config:{mode:Kc,deviceType:n.deviceType,scene:e.scene||"create"}}},d.customData?J().createElement(M.Alert.ErrorBoundary,null,J().createElement(Jr,Object.assign({},e,{module:d.customData,contexts:{mode:Kc,...e.contexts||{},screenScripts:p.current||{}},customContexts:{...e.customContexts||{}}}))):J().createElement(M.Empty,{description:"\u753b\u9762\u672a\u914d\u7f6e\u5185\u5bb9",style:{padding:"100px"}}))},Jc=(0,ae.observer)((0,$.forwardRef)($c)),Hc=(window.__app__,(0,ae.observer)((e=>{var t,n,o,l;const{XinScreenEditorModulesMap:a,XinCoverView:i,XinTypeView:r,XinChildrenView:s,XinModuleView:d,customData:u,componentList:c,core:m,addFunc:p,getVariableValue:_,editorStore:v,operateStore:b,variableStore:f,config:E}=(0,$.useContext)($r.f),g=(0,$.useMemo)((()=>{var t,n,o;const l=null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.screen_id,[a]=(c||[]).filter((e=>e._id===l));return a}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.screen_id,c]),y=(0,$.useMemo)((()=>{var e,t,n,o;return(null===g||void 0===g||null===(e=g.body)||void 0===e||null===(t=e.customData)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.componentAttributes)||[]}),[g]);return J().createElement(d,Object.assign({},e,{className:Z()([]),style:(0,cd.styleObjToStylesFunc)(null===(l=e.module.data)||void 0===l?void 0:l.styles,e,{variableStore:f})}),J().createElement(Xc.Provider,{value:{operateStore:b,propsvariableStore:f}},J().createElement(Jc,{detailInfo:g,contexts:{propsChildren:J().createElement(s,e)},customContexts:{componentAttributes:Object.fromEntries(y.map((t=>{var n,o,l;return[t.fieldName,_(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(l=o.componentAttributes)||void 0===l?void 0:l[t.fieldName||t.key],e,{variableStore:f})]})))}})))}))),Gc=window.__app__;const Qc={TYPE:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6",MODULE_TYPE:"component",NAME:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6",ICON:J().createElement(H.SwitcherOutlined,null)},Zc={title:Qc.NAME,attributes:{screen_id:void 0,componentAttributes:{},hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},em={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{hidden:e=>!0,component:"BasicInput",variable:!1,formItemProps:{label:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6",name:["attributes","screen_id"]}},{component:e=>J().createElement(M.Button,{block:!0,onClick:t=>{window.open("#/admin/screen/creator/"+e.module.data.attributes.screen_id)}},"\u53bb\u7f16\u8f91"),variable:!1,formItemProps:{label:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6",name:["attributes","jump"]}}]},function(e){var t,n,o,l,a,i,r,s;const d=null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.screen_id,u=(null===(l=e.contexts)||void 0===l?void 0:l.componentList)||[],[c]=u.filter((e=>e._id===d)),m=null===c||void 0===c||null===(a=c.body)||void 0===a||null===(i=a.customData)||void 0===i||null===(r=i.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.componentAttributes;return m&&{title:"\u7ec4\u4ef6\u81ea\u5b9a\u4e49\u5c5e\u6027",children:m.map(((e,t)=>({component:e.component||"BasicInput",variable:e.variable||!1,formItemProps:{label:e.name||"\u5c5e\u6027\u540d\u79f0",name:["attributes","componentAttributes",e.fieldName||e.key],tooltip:e.tooltip},props:{...(e.component,{}),...(e.component,{}),..."RadioButtonGroupInLine"===e.component?{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}:{},...(e.component,{}),...(e.component,{}),...(e.component,{}),...(e.component,{})}})))}},(0,cd.createCommonOptionFunc)({moduleType:Qc.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Qc.MODULE_TYPE,names:["styles"]}),animations:[],events:[]};const tm={type:Qc.TYPE,moduleType:Qc.MODULE_TYPE,name:Qc.NAME,icon:Qc.ICON,data:Zc,control:em,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!1,display:"block",button:!1},View:Hc,Setting:tc,createFunc:function(e){const t=Gc.uuid(Qc.MODULE_TYPE+"_"),n={type:Qc.TYPE,moduleType:Qc.MODULE_TYPE,moduleId:t,name:(null===e||void 0===e?void 0:e.name)||Qc.NAME,data:Zc,children:[Mc.createFunc({name:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u5185\u90e8\u5bb9\u5668"})]};return JSON.parse(JSON.stringify(n))},funcs:{createAttributeItemFunc:function(e){return{key:Gc.uuid(),name:void 0,fieldName:void 0,component:"BasicInput",defaultValue:void 0,tooltip:void 0,variable:!1,customRender:!1,script:void 0}}}},nm=(0,ae.observer)((e=>{var t;const{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinModuleView:a,customData:i,core:r,addFunc:s,getVariableValue:d,variableStore:u,config:c}=(0,$.useContext)($r.f),m=(0,Wt.useLocation)(),p=(0,Wt.useOutletContext)();return J().createElement(a,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:u})}}),J().createElement(Wt.Outlet,{context:p,key:m.pathname}),"editor"===(null===(t=e.contexts)||void 0===t?void 0:t.mode)&&J().createElement("div",{className:is.A.outlet_content},J().createElement(M.Empty,{description:J().createElement("span",{style:{color:"#888888"}},"\u7236\u7ea7\u753b\u9762\u4e2d\u6dfb\u52a0\u8be5\u7ec4\u4ef6\uff0c\u901a\u8fc7\u914d\u7f6e\u8def\u7531\u6765\u5c55\u793a\u5b50\u7ea7\u753b\u9762")})))})),om=window.__app__,lm={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"outlet",NAME:"\u5185\u5bb9\u533a\u57df",ICON:J().createElement(H.BorderOutlined,null)},am={title:lm.NAME,attributes:{path:void 0,hidden:!1},styles:{width:{value:100,unit:"auto"},_style:":root {\n\n}"},animations:{},events:{}},im={attributes:[(0,cd.createCommonOptionFunc)({moduleType:lm.MODULE_TYPE})],styles:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"SizeAndUnit",formItemProps:{label:"\u5bbd\u5ea6",name:["styles","width"]}},{component:"SizeAndUnit",formItemProps:{label:"\u9ad8\u5ea6",name:["styles","height"]}}]}],animations:[],events:[]};const rm={type:lm.TYPE,moduleType:lm.MODULE_TYPE,name:lm.NAME,icon:lm.ICON,data:am,control:im,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!1,display:"block",button:!0},View:nm,Setting:tc,createFunc:function(){const e=om.uuid(lm.MODULE_TYPE+"_"),t={type:lm.TYPE,moduleType:lm.MODULE_TYPE,moduleId:e,name:lm.NAME,data:am};return JSON.parse(JSON.stringify(t))}},sm=(window.__app__,(0,ae.observer)((e=>{var t,n,o,l,a;const{XinScreenEditorModulesMap:i,XinCoverView:r,XinTypeView:s,XinChildrenView:d,XinModuleView:u,XinEmptyView:c,customData:m,editorStore:p,variableStore:_,core:v,addFunc:b,getVariableValue:f,config:E}=(0,$.useContext)($r.f);return J().createElement(u,Object.assign({},e,{className:Z()([{[is.A.loop_block]:f(null===(t=e.module.data.attributes)||void 0===t?void 0:t.block,e,{variableStore:_})}]),style:{...(0,cd.styleObjToStylesFunc)(null===(n=e.module.data)||void 0===n?void 0:n.styles,e,{variableStore:_})}}),null===(o=f(null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.dataSource,e,{variableStore:_}))||void 0===o?void 0:o.map(((t,n)=>{var o,l,a,i;return J().createElement($.Fragment,{key:n},J().createElement(d,Object.assign({},e,{customContexts:{...e.customContexts||{},[f(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.loopItemName,e,{variableStore:_})]:t,[f(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.loopIndexName,e,{variableStore:_})]:n}})))})))}))),dm=window.__app__,um={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"loop",NAME:"\u5faa\u73af",ICON:J().createElement(H.SyncOutlined,null)},cm={title:um.NAME,attributes:{dataSource:[{label:"\u7b2c\u4e00\u9879",value:1},{label:"\u7b2c\u4e8c\u9879",value:2},{label:"\u7b2c\u4e09\u9879",value:3},{label:"\u7b2c\u56db\u9879",value:4},{label:"\u7b2c\u4e94\u9879",value:5}],loopItemName:"item",loopIndexName:"index",block:!1,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},mm={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"JsonObjectModal",variable:!0,formItemProps:{label:"\u6570\u636e\u6e90",name:["attributes","dataSource"]}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u5faa\u73af\u5b57\u6bb5\u540d",name:["attributes","loopItemName"]}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u5faa\u73af\u5e8f\u53f7\u540d",name:["attributes","loopIndexName"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u7236\u7ea7\u540c\u5bbd",name:["attributes","block"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},(0,cd.createCommonOptionFunc)({moduleType:um.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:um.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:um.MODULE_TYPE})};const pm={type:um.TYPE,moduleType:um.MODULE_TYPE,name:um.NAME,icon:um.ICON,data:cm,control:mm,config:{dragable:!0,insertable:!0,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:sm,Setting:tc,createFunc:function(){const e=dm.uuid(um.MODULE_TYPE+"_"),t={type:um.TYPE,moduleType:um.MODULE_TYPE,moduleId:e,name:um.NAME,data:cm,children:[]};return JSON.parse(JSON.stringify(t))}},_m=(window.__app__,(0,ae.observer)((e=>{var t,n,o;const{XinScreenEditorModulesMap:l,XinCoverView:a,XinTypeView:i,XinChildrenView:r,XinModuleView:s,XinEmptyView:d,customData:u,editorStore:c,variableStore:m,core:p,addFunc:_,getVariableValue:v,config:b}=(0,$.useContext)($r.f),f=(0,$.useRef)(),E=(0,$.useRef)(),g=(0,$.useRef)({scrollTop:0,onHover:!1});return(0,$.useEffect)((()=>{var t;const n=(null===(t=e.module.data.attributes)||void 0===t?void 0:t.speed)||1;const o=setInterval((function(){var e;!E.current||"editor"===b.mode||null!==(e=g.current)&&void 0!==e&&e.onHover||(g.current.scrollTop>=E.current.clientHeight/2?g.current.scrollTop=0:(E.current.style.transform="translateY(-".concat(g.current.scrollTop,"px)"),g.current.scrollTop+=n||1))}),25);return()=>{clearInterval(o)}}),[e.module.children,null===(t=e.module.data.attributes)||void 0===t?void 0:t.speed]),(0,$.useEffect)((()=>{var t;const n=null===(t=e.module.data.attributes)||void 0===t?void 0:t.pauseOnHover;function o(){g.current.onHover=!0}function l(){g.current.onHover=!1}var a,i;n&&(null===(a=f.current)||void 0===a||a.addEventListener("mouseover",o),null===(i=f.current)||void 0===i||i.addEventListener("mouseout",l));return()=>{var e,t;n&&(null===(e=f.current)||void 0===e||e.removeEventListener("mouseover",o),null===(t=f.current)||void 0===t||t.removeEventListener("mouseout",l))}}),[null===(n=e.module.data.attributes)||void 0===n?void 0:n.pauseOnHover]),J().createElement(s,Object.assign({},e,{className:Z()([{}]),style:{...(0,cd.styleObjToStylesFunc)(null===(o=e.module.data)||void 0===o?void 0:o.styles,e,{variableStore:m})}}),J().createElement("div",{ref:f,className:is.A.scroll_container},J().createElement("div",{ref:E,className:is.A.scroll_content},("editor"===b.mode?[0]:[0,1]).map(((t,n)=>{var o;return J().createElement("div",{className:is.A.item_box,key:n},J().createElement(r,e),J().createElement("div",{style:{height:v(null===(o=e.module.data.attributes)||void 0===o?void 0:o.offset,e,{variableStore:m})}}))})))))}))),vm=window.__app__,bm={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"scroll",NAME:"\u6eda\u52a8",ICON:J().createElement(H.ColumnHeightOutlined,null)},fm={title:bm.NAME,attributes:{pauseOnHover:!1,offset:0,speed:.5,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},Em={attributes:[{render:e=>J().createElement(M.Alert,{message:"\u4e3a\u65b9\u4fbf\u8bbe\u7f6e\u7f16\u8f91\u5668\u5185\u5df2\u5c4f\u853d\u6eda\u52a8\uff0c\u8bf7\u9884\u89c8\u67e5\u770b\u6548\u679c",banner:!0,style:{margin:10,marginTop:4,borderRadius:6},type:"info"})},{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"InputAndSelect",variable:!1,formItemProps:{label:"\u95f4\u8ddd",name:["attributes","offset"]},props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}],min:0,step:1}},{component:"InputAndSelect",variable:!1,formItemProps:{label:"\u6eda\u52a8\u901f\u5ea6",name:["attributes","speed"]},props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}],min:.5,step:.5}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u60ac\u6d6e\u6682\u505c",name:["attributes","pauseOnHover"],tooltip:"\u9f20\u6807\u60ac\u6d6e\u65f6\u6682\u505c\u6eda\u52a8"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},(0,cd.createCommonOptionFunc)({moduleType:bm.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:bm.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:bm.MODULE_TYPE})};const gm={type:bm.TYPE,moduleType:bm.MODULE_TYPE,name:bm.NAME,icon:bm.ICON,data:fm,control:Em,config:{dragable:!0,insertable:!0,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:_m,Setting:tc,createFunc:function(){const e=vm.uuid(bm.MODULE_TYPE+"_"),t={type:bm.TYPE,moduleType:bm.MODULE_TYPE,moduleId:e,name:bm.NAME,data:fm,children:[]};return JSON.parse(JSON.stringify(t))}},ym=window.__app__,hm=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v;const{XinScreenEditorModulesMap:b,XinCoverView:f,XinTypeView:E,XinModuleView:g,customData:y,editorStore:h,variableStore:x,core:w,addFunc:I,getVariableValue:T,config:C}=(0,$.useContext)($r.f),{createScriptContexts:S}=ym.get("handles"),[O,P]=(0,$.useState)(!1),k=(0,$.useRef)(),D=(0,$.useRef)(),[N,A]=(0,$.useState)(0),L=(0,$.useMemo)((()=>{var t,n,o,l;const a=null===(t=e.module.data.attributes)||void 0===t||null===(n=t.columns)||void 0===n?void 0:n.map((e=>({...e,render:e.customRender?(t,n,o,l)=>{if(e.script){const t=ym.runScriptFunc(e.script),l=S(),a=t.main,i=n[e.dataIndex];return J().createElement(a,{contexts:l,data:{value:i,item:n,index:o}})}}:void 0})));return null!==(o=e.module.data.attributes)&&void 0!==o&&o.actions&&Boolean(null===(l=e.module.data.attributes)||void 0===l?void 0:l.actions.length)&&a.push({title:"\u64cd\u4f5c",key:"actions",fixed:"right",width:150,render:(t,n,o,l)=>{var a,i;return null===(a=e.module.data.attributes)||void 0===a||null===(i=a.actions)||void 0===i?void 0:i.map(((e,t)=>e.confirm?J().createElement(M.Popconfirm,{key:e.key,title:"\u64cd\u4f5c\u786e\u8ba4",description:"\u786e\u8ba4\u6267\u884c\u6b64\u64cd\u4f5c\uff1f",onConfirm:t=>F(e)},J().createElement(M.Button,{type:"link",danger:e.color,size:"small"},e.title)):J().createElement(M.Button,{type:"link",key:e.key,danger:e.color,size:"small",onClick:t=>F(e)},e.title)))}}),a}),[null===(t=e.module.data.attributes)||void 0===t?void 0:t.columns,null===(n=e.module.data.attributes)||void 0===n?void 0:n.actions]);async function F(t){let n=t.code;if(n){var o;const t={...S(),...h.contexts.moduleIns,...x.contexts,screenScripts:null===(o=e.contexts)||void 0===o?void 0:o.screenScripts},l=ym.runScriptFunc(n);await l.main(t,{})}}return J().createElement(g,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(null===(o=e.module.data)||void 0===o?void 0:o.styles,e,{variableStore:x})}}),J().createElement(M.Table,{title:null!==(l=e.module.data)&&void 0!==l&&null!==(a=l.attributes)&&void 0!==a&&a.title?t=>{var n,o;return T(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.title,e,{variableStore:x})}:void 0,columns:L,dataSource:T(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.dataSource,e,{variableStore:x}),bordered:T(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.bordered,e,{variableStore:x}),rowKey:e=>Math.random().toString(),size:T(null===(u=e.module.data)||void 0===u||null===(c=u.attributes)||void 0===c?void 0:c.size,e,{variableStore:x}),loading:O,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!!T(null===(m=e.module.data)||void 0===m||null===(p=m.attributes)||void 0===p?void 0:p.pagination,e,{variableStore:x})&&{showSizeChanger:!1,showTotal:(e,t)=>"\u5171 ".concat(e," \u6761\u8bb0\u5f55"),current:k.current,pageSize:D.current,total:N},scroll:{y:T(null===(_=e.module.data)||void 0===_||null===(v=_.attributes)||void 0===v?void 0:v.scrollY,e,{variableStore:x}),x:200},onChange:e=>function(e){let{current:t,pageSize:n}=e;k.current=t,D.current=n}(e)}))})),xm=window.__app__,wm="({\n  main: function (props) {\n    // props.contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data.value\uff1a\u5355\u5143\u683c\u503c\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data.index\uff1a\u884c\u5e8f\u53f7\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data.item\uff1a\u884c\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    \n    return <span>-</span>\n  }\n})\n",Im={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"table",NAME:"\u8868\u683c",ICON:J().createElement(H.TableOutlined,null)};JSON.stringify;const Tm={title:Im.NAME,attributes:{title:"\u8868\u683c\u6807\u9898",columns:[{key:xm.uuid("uid_"),title:"\u79d1\u76ee",dataIndex:"subject",align:"left",ellipsis:!0,customRender:!1,script:wm,width:void 0,fixed:!1},{key:xm.uuid("uid_"),title:"\u6210\u7ee9",dataIndex:"score",align:"left",ellipsis:!0,customRender:!1,script:wm,width:void 0,fixed:!1}],actions:[],size:"middle",pagination:!0,scrollY:void 0,bordered:!0,dataSource:[{subject:"\u8bed\u6587",score:102,teacher:"\u5f20\u4e09"},{subject:"\u6570\u5b66",score:127,teacher:"\u738b\u4e94"},{subject:"\u82f1\u8bed",score:96,teacher:"\u674e\u56db"},{subject:"\u5316\u5b66",score:71,teacher:"\u8d75\u516d"}],hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},Cm={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",variable:!0,formItemProps:{label:"\u6807\u9898",name:["attributes","title"]}},{component:"JsonObjectModal",variable:!0,formItemProps:{label:"\u6570\u636e\u6e90",name:["attributes","dataSource"]}},{component:"TableColumns",variable:!0,formItemProps:{label:"\u5217\u5b9a\u4e49",name:["attributes","columns"]}},{component:"TableActions",formItemProps:{label:"\u8868\u683c\u64cd\u4f5c",name:["attributes","actions"]}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u8fb9\u6846",name:["attributes","bordered"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u7d27\u51d1\u7a0b\u5ea6",name:["attributes","size"]},props:{options:[{label:"\u5927\u5c3a\u5bf8",value:"large"},{label:"\u4e2d\u5c3a\u5bf8",value:"middle"},{label:"\u5c0f\u5c3a\u5bf8",value:"small"}]}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u662f\u5426\u5206\u9875",name:["attributes","pagination"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u6eda\u52a8\u9ad8\u5ea6",name:["attributes","scrollY"],tooltip:"\u8868\u683c\u6eda\u52a8\u533a\u57df\u9ad8\u5ea6\uff0c\u4e0d\u5305\u542b\u8868\u5934\u9ad8\u5ea6\u3002"},props:{min:0,step:1}}]},(0,cd.createCommonOptionFunc)({moduleType:Im.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Im.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Im.MODULE_TYPE})};const Sm={type:Im.TYPE,moduleType:Im.MODULE_TYPE,name:Im.NAME,icon:Im.ICON,data:Tm,control:Cm,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:hm,Setting:tc,createFunc:function(){const e=xm.uuid(Im.MODULE_TYPE+"_"),t={type:Im.TYPE,moduleType:Im.MODULE_TYPE,moduleId:e,name:Im.NAME,data:Tm};return JSON.parse(JSON.stringify(t))},funcs:{createColumnItemFunc:function(){return{key:xm.uuid("uid_"),dataIndex:"",title:"\u5217\u540d\u79f0",align:"left",width:void 0,fixed:!1,ellipsis:!0,customRender:!1,script:wm}},createActionItemFunc:function(){return{key:xm.uuid("uid_"),title:"\u64cd\u4f5c",color:!1,confirm:!1,code:"({\n  main: function (contexts, data) {\n    // props.contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // \u8bf7\u5728\u6b64\u7f16\u5199\u4ee3\u7801\uff1b\u652f\u6301\u8fd4\u56dePromise\u3002\n\n  },\n})\n"}}}},Om=window.__app__;const Pm=(0,ae.observer)((e=>{var t,n,o,l,a,i,r;const{XinScreenEditorModulesMap:s,XinCoverView:d,XinTypeView:u,XinChildrenView:c,XinModuleView:m,customData:p,setcustomData:_,editorStore:v,variableStore:b,core:f,addFunc:E,getVariableValue:g,config:y}=(0,$.useContext)($r.f),{iconListMap:h}=Om.get("datas.configs.work"),{createScriptContexts:x}=Om.get("handles"),w=(0,$.useRef)(),[I,T]=(0,$.useState)([]),C=function(){var t,n;const o=g(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.items,e,{variableStore:b})||[];return null===o||void 0===o?void 0:o.map((e=>P(e,1)))}(),S=(e=>{const t={},n=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.forEach((e=>{e.key&&(t[e.key]=o),e.children&&n(e.children,o+1)}))};return n(e),t})(C),O=g(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.defaultSelectedKey,e,{variableStore:b});function P(t,n){var o,l,a,i,r,s,d;const u=null!==t&&void 0!==t&&t.icon?h[t.icon]:void 0,c=J().createElement(M.Space,null,u&&J().createElement(u,null),(null===t||void 0===t?void 0:t.image)&&J().createElement("img",{style:{width:20,height:20,verticalAlign:"middle"},src:t.image}),J().createElement("span",null,t.label),(null===(o=t.children)||void 0===o?void 0:o.length)&&(null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.dropdownIcon)&&1===n&&J().createElement(H.CaretDownOutlined,{style:{marginLeft:-4,transform:"translateY(-2px)",fontSize:10}}));return"group"===t.type?{type:t.type,label:t.label,children:(null===(i=t.children)||void 0===i?void 0:i.length)&&(null===(r=t.children)||void 0===r?void 0:r.map((e=>P(e,n+1))))}:{label:t.path?J().createElement("a",{href:t.path},c):c,key:t.path||t.key,children:(null===(s=t.children)||void 0===s?void 0:s.length)&&(null===(d=t.children)||void 0===d?void 0:d.map((e=>P(e,n+1)))),danger:t.danger,disabled:t.disabled}}(0,$.useEffect)((()=>{k()}),[]),(0,$.useEffect)((()=>{if(null!==C&&void 0!==C&&C.length&&O){const e=function(e,t){const n=[];function o(e,l){if(e.key===t)return n.push(...l),!0;if(e.children&&e.children.length>0)for(const t of e.children)if(o(t,[...l,e.key]))return!0;return!1}for(const l of e)if(o(l,[]))break;return n}(C,O);T(e)}}),[O]);const k=async()=>{var t,n,o,l,a,i;if(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||!o.script)return;const r=Om.runScriptFunc(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.script);w.current=r};return J().createElement(m,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(null===(o=e.module.data)||void 0===o?void 0:o.styles,e,{variableStore:b})},methods:[]}),J().createElement(M.Menu,{onClick:function(t){var n,o,l;const a={...x(),...v.contexts.moduleIns,...b.contexts,screenScripts:null===(n=e.contexts)||void 0===n?void 0:n.screenScripts};null===(o=w.current)||void 0===o||null===(l=o.onClick)||void 0===l||l.call(o,a,t)},defaultSelectedKeys:[O],openKeys:I,onOpenChange:function(t){var n,o;if(g(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.onlyOpenCurrentMenu,e,{variableStore:b})){const e=t.find((e=>-1===I.indexOf(e)));if(void 0!==e){const n=t.filter((t=>t!==e)).findIndex((t=>S[t]===S[e]));T(t.filter(((e,t)=>t!==n)).filter((t=>S[t]<=S[e])))}else T(t)}else T(t)},mode:g(null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.mode,e,{variableStore:b}),theme:g(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.theme,e,{variableStore:b}),items:C}))})),Mm=window.__app__;function km(){return{key:Mm.uuid("uid_"),icon:void 0,disabled:!1,label:"\u83dc\u5355\u9879",path:void 0}}const Dm={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"menu",NAME:"\u83dc\u5355",ICON:J().createElement(H.MenuOutlined,null)},Nm={title:Dm.NAME,attributes:{defaultSelectedKey:void 0,items:Array(2).fill(1).map((e=>km())),mode:"vertical",theme:"light",dropdownIcon:!1,onlyOpenCurrentMenu:!1,inlineIndent:24,inlineCollapsed:!1,script:"({\n  onClick: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // contexts.next\uff1a\u9ed8\u8ba4\u884c\u4e3a\u51fd\u6570\n    // data\uff1a{ item, key, keyPath, domEvent }\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    \n  },\n})\n",hidden:!1},styles:{_style:":root {\n    \n}"},animations:{},events:{}},Am={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u83dc\u5355\u65b9\u5411",name:["attributes","mode"]},props:{options:[{label:"\u5782\u76f4",value:"vertical"},{label:"\u6c34\u5e73",value:"horizontal"},{label:"\u5185\u5d4c",value:"inline"}]}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u4e3b\u9898\u989c\u8272",name:["attributes","theme"]},props:{options:[{label:"\u4eae",value:"light"},{label:"\u9ed1",value:"dark"}]}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u5c55\u5f00\u56fe\u6807",name:["attributes","dropdownIcon"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u53ea\u5c55\u5f00\u5f53\u524d",name:["attributes","onlyOpenCurrentMenu"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"MenuEditorModal",variable:!0,formItemProps:{label:"\u83dc\u5355\u9879",name:["attributes","items"]},props:{}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u9ed8\u8ba4\u503c",name:["attributes","defaultSelectedKey"]},props:{options:[]}}]},(0,cd.createSeniorOptionFunc)({moduleType:Dm.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:Dm.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Dm.MODULE_TYPE,names:["styles"]}),animations:[],events:[]};const Lm={type:Dm.TYPE,moduleType:Dm.MODULE_TYPE,name:Dm.NAME,icon:Dm.ICON,data:Nm,control:Am,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Pm,Setting:tc,funcs:{createMenuItemFunc:km},createFunc:function(){const e=Mm.uuid(Dm.MODULE_TYPE+"_"),t={type:Dm.TYPE,moduleType:Dm.MODULE_TYPE,moduleId:e,name:Dm.NAME,data:Nm};return JSON.parse(JSON.stringify(t))}},Fm=(0,ae.observer)((e=>{var t,n,o;const l=(0,$.useContext)($r.f),{XinScreenEditorModulesMap:a,XinCoverView:i,XinTypeView:r,XinChildrenView:s,XinModuleView:d,customData:u,screenType:c,core:m,addFunc:p,getVariableValue:_,editorStore:v,operateStore:b,variableStore:f,propsvariableStore:E,componentList:g,setVariableValue:y,config:h}=(0,$.useContext)($r.f);return"editor"===(null===(t=e.contexts)||void 0===t?void 0:t.mode)?J().createElement(d,Object.assign({},e,{className:Z()([{[is.A.block]:"editor"===(null===(n=e.contexts)||void 0===n?void 0:n.mode)}]),style:{}}),J().createElement(M.Empty,{description:J().createElement("span",{style:{color:"#888888"}},"\u81ea\u5b9a\u4e49\u7ec4\u4ef6 Props.Children \u5185\u5bb9\u533a\u57df")})):J().createElement($r.f.Provider,{value:{...l,variableStore:l.propsvariableStore}},null===(o=e.contexts)||void 0===o?void 0:o.propsChildren)})),Rm=window.__app__,Bm={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"props",NAME:"\u7ec4\u4ef6\u5185\u5bb9",ICON:J().createElement(H.BorderOutlined,null)},Vm={title:Bm.NAME,attributes:{hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},Um={attributes:[(0,cd.createCommonOptionFunc)({moduleType:Bm.MODULE_TYPE})],styles:[],animations:[],events:[]};const Ym={type:Bm.TYPE,moduleType:Bm.MODULE_TYPE,name:Bm.NAME,icon:Bm.ICON,data:Vm,control:Um,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!1,componentable:!1,display:"block",button:!0,buttonExclude:["screen","layout","formSenior","screenFormSenior"]},View:Fm,Setting:tc,createFunc:function(){const e=Rm.uuid(Bm.MODULE_TYPE+"_"),t=JSON.parse(JSON.stringify(Vm));t.attributes.WrapIn=Mc.createFunc({name:"\u81ea\u5b9a\u4e49\u5185\u90e8\u5bb9\u5668"});const n={type:Bm.TYPE,moduleType:Bm.MODULE_TYPE,moduleId:e,name:Bm.NAME,data:t};return JSON.parse(JSON.stringify(n))}},zm=helmet,jm=window.__app__;const qm=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C,S,O,P,k,D,N,A,L,F,R,B,V,U,Y,z,j,q;const{XinScreenEditorModulesMap:X,XinCoverView:W,XinTypeView:K,XinModuleView:Q,editorStore:ee,core:ne,addFunc:oe,getVariableValue:le,variableStore:ae,config:ie}=(0,$.useContext)($r.f),se=(jm.get("contexts.app"),jm.get("modules.formEditor.modules")),de=jm.get("modules.formEditor.table"),ue=jm.get("modules.formEditor.SearchComponent"),{createScriptContexts:ce}=jm.get("handles"),[me,pe]=(0,$.useState)(!1),_e=(0,$.useRef)(),ve=(0,$.useRef)(),[be,fe]=(0,$.useState)(),Ee=(0,$.useRef)(),ge=(0,$.useRef)(),ye=(0,$.useMemo)((()=>{var t,n,o,l;let a=(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.columns)||[];const i=(null===be||void 0===be?void 0:be.fields)||[];return i.length?(a=a.map((e=>{const[t]=i.filter((t=>t.moduleId===e.dataIndex));return e.moduleType?{...e,key:void 0,renderFormItem:(t,n,o)=>ue({column:t,form:o,options:n,moduleType:e.moduleType}),..."datePicker"===e.moduleType?{sorter:!0,render:(e,t,n,o)=>t.create_time?re()(t.create_time).format("YYYY-MM-DD HH:mm:ss"):void 0}:{}}:t?{...e,key:void 0,dataIndex:["values",e.dataIndex],renderFormItem:(e,n,o)=>ue({column:e,options:n,form:o,module:t,moduleType:t.moduleType}),render:(n,o,l,a)=>{var i,r;const s=null===(i=se[t.moduleType])||void 0===i||null===(r=i.funcs)||void 0===r?void 0:r.formatTableFunc,d=o[t.moduleId];if(e.customRender&&e.script){const t=jm.runScriptFunc(e.script),n=ce(),l=t.main;return l&&J().createElement(l,{contexts:n,data:{value:d,recordInfo:o}})}return s?s(d,{moduleinfo:t,recordInfo:o},"list",n):(null===d||void 0===d?void 0:d.text)||n}}:void 0})).filter(Boolean),("mobile"===ie.deviceType||null!==(o=e.module.data)&&void 0!==o&&null!==(l=o.attributes)&&void 0!==l&&l.showInstance)&&a.unshift({dataIndex:"_id",xins_id:!0,title:"\u8bb0\u5f55\u5b9e\u4f8bID",align:"left",fixed:"left",copyable:!1,ellipsis:!0,search:!1,filters:!1,width:160,render:(e,t,n,o)=>{var l;const a=de.RecordButtonView;return t._id?J().createElement(a,{buttonProps:{type:"link",size:"small",style:{padding:0,fontSize:"mobile"===ie.deviceType?16:void 0,width:"mobile"===ie.deviceType?"100%":void 0,textAlign:"mobile"===ie.deviceType?"left":void 0,justifyContent:"mobile"===ie.deviceType?"space-between":void 0}},options:{},modalProps:{},formSenior:!0,mode:"view",scene:"detail",record:t,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,callback:(e,t)=>{},refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},J().createElement("div",{style:{display:"flex",justifyContent:"space-between"}},J().createElement("span",null,"".concat((null===(l=t.createUserInfo)||void 0===l?void 0:l.name)||"\u7cfb\u7edf","\u53d1\u8d77\u7684").concat(be.name||"\u8bb0\u5f55")),"mobile"===ie.deviceType&&J().createElement(H.RightOutlined,{style:{fontSize:"12px",color:"#888888"}}))):e}}),a):[]}),[be,null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.columns,null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.showInstance]),he=(0,$.useMemo)((()=>{var t,n,o,l;const a=[];return"mobile"!==ie.deviceType&&null!==(t=e.module.data)&&void 0!==t&&null!==(n=t.attributes)&&void 0!==n&&null!==(o=n.actions)&&void 0!==o&&null!==(l=o.filter((e=>e.status)))&&void 0!==l&&l.length&&a.push({title:"\u64cd\u4f5c",dataIndex:"actions",fixed:"right",width:150,search:!1,render:(t,n,o,l)=>{var a,i,r;return null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i||null===(r=i.actions)||void 0===r?void 0:r.filter((e=>e.status)).map(((e,t)=>{var o;const l=de[e.component],a=de.CustomScriptButtonView;let i;const r={...ce(),...ee.contexts.moduleIns,...ae.contexts};if("render"===e.type){i=jm.runScriptFunc(e.code).main}return"admin"===e.type?l&&J().createElement($.Fragment,{key:t},J().createElement(l,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},options:e,modalProps:{},formSenior:!0,mode:"view",scene:(null===(o=e.componentProps)||void 0===o?void 0:o.type)||"create",record:n,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,callback:(e,t)=>{},refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},e.title)):"render"===e.type?i&&J().createElement(i,{contexts:r,data:{recordInfo:n,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id}}):J().createElement($.Fragment,{key:t},J().createElement(a,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},recordInfo:n,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,options:e,refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},e.title))}))}}),a}),[be,ie.deviceType,null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.actions]),xe=(0,$.useMemo)((()=>{var t,n,o,l;let a=[];var i,r,s;"mobile"===ie.deviceType&&null!==(t=e.module.data)&&void 0!==t&&null!==(n=t.attributes)&&void 0!==n&&null!==(o=n.actions)&&void 0!==o&&null!==(l=o.filter((e=>e.status)))&&void 0!==l&&l.length&&(a=null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r||null===(s=r.actions)||void 0===s?void 0:s.filter((e=>e.status)).map(((e,t)=>{const n=de[e.component],o=de.CustomScriptButtonView;let l;const a={...ce(),...ee.contexts.moduleIns,...ae.contexts};if("render"===e.type){const t=jm.runScriptFunc(e.code);l=t.main}return i=>{var r;let{record:s}=i;return"admin"===e.type?n&&J().createElement($.Fragment,{key:t},J().createElement(n,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},options:e,modalProps:{},formSenior:!0,mode:"view",scene:(null===(r=e.componentProps)||void 0===r?void 0:r.type)||"create",record:s,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,callback:(e,t)=>{},refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},e.title)):"render"===e.type?J().createElement(l,{contexts:a,data:{recordInfo:s,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id}}):J().createElement($.Fragment,{key:t},J().createElement(o,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},recordInfo:s,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,options:e,refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},e.title))}})));return a}),[be,ie.deviceType,null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.actions]),we=(0,$.useMemo)((()=>{var t,n,o,l;return(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table_id)&&new Promise((async(t,n)=>{var o,l;const a=await jm.xrequest.post("/api/core/table/detail",{_id:null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.table_id});fe(null===a||void 0===a?void 0:a.data),t()})),null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.table_id}),[null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.table_id]),Ie=(0,$.useMemo)((()=>"xituyun-table-".concat((null===be||void 0===be?void 0:be._id)||"base","-fields-setting")),[be]);(0,$.useEffect)((()=>{Te()}),[]);const Te=async()=>{var t,n,o,l,a,i;if(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||!o.script)return;const r=jm.runScriptFunc(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.script);ge.current=r};const Ce=(0,$.useCallback)((e=>{var t;null===(t=_e.current)||void 0===t||t.reload(e)}),[]),Se=(0,$.useCallback)((()=>{var e;null===(e=_e.current)||void 0===e||e.reloadAndRest()}),[]),Oe=(0,$.useCallback)((e=>{null===e||void 0===e||e(_e.current)}),[]),Pe=(0,$.useCallback)((e=>{var t,n;return null===(t=ve.current)||void 0===t||null===(n=t.form)||void 0===n?void 0:n.setFieldsValue(e)}),[]),Me=(0,$.useCallback)((()=>{var e,t;return null===(e=ve.current)||void 0===e||null===(t=e.form)||void 0===t?void 0:t.resetFields()}),[]),ke=(0,$.useCallback)((e=>{null===e||void 0===e||e(ve.current)}),[]);return J().createElement(Q,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(null===(c=e.module.data)||void 0===c?void 0:c.styles,e,{variableStore:ae})},methods:[{label:"\u8868\u6570\u636e\xb7\u5237\u65b0",value:"reload",method:Ce,params:""},{label:"\u8868\u6570\u636e\xb7\u91cd\u7f6e\u5e76\u5237\u65b0",value:"reloadAndRest",method:Se,params:""},{label:"\u8868\u6570\u636e\xb7\u64cd\u4f5c\u96c6",value:"table",method:Oe,params:"function (table) {\n            // \u6b64\u5904\u7f16\u5199\u4ee3\u7801\n            console.log(table)\n          }"},{label:"\u8fc7\u6ee4\u9879\xb7\u8d4b\u503c",value:"setFieldsValue",method:Pe,params:"{}"},{label:"\u8fc7\u6ee4\u9879\xb7\u91cd\u7f6e",value:"resetFields",method:Me,params:""},{label:"\u8fc7\u6ee4\u9879\xb7\u64cd\u4f5c\u96c6",value:"form",method:ke,params:"function (form) {\n            // \u6b64\u5904\u7f16\u5199\u4ee3\u7801\n            console.log(form)\n          }"}]}),"pc"===ie.deviceType?J().createElement(G.ProTable,{headerTitle:J().createElement(M.Space,{size:[15,10]},(null===(m=e.module.data)||void 0===m||null===(p=m.attributes)||void 0===p?void 0:p.title)&&J().createElement("span",null,le(null===(_=e.module.data)||void 0===_||null===(v=_.attributes)||void 0===v?void 0:v.title,e,{variableStore:ae})),(null===(b=e.module.data)||void 0===b||null===(f=b.attributes)||void 0===f?void 0:f.allSearch)&&J().createElement(M.Input.Search,{placeholder:"\u7efc\u5408\u641c\u7d22",allowClear:!0,style:{width:200},onSearch:e=>{var t;Ee.current=e,null===(t=_e.current)||void 0===t||t.reloadAndRest()}})),columns:[...ye,...he],bordered:!1,ghost:null===(E=e.module.data)||void 0===E||null===(g=E.attributes)||void 0===g?void 0:g.ghost,formRef:ve,actionRef:_e,cardBordered:null===(y=e.module.data)||void 0===y||null===(h=y.attributes)||void 0===h?void 0:h.cardBordered,request:async function(){var t,n,o,l;let a,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(console.log("--------\u67e5\u8be2\u53c2\u6570----",i,r,s),we){var d,u,c,m,p;const t={...ce(),...ee.contexts.moduleIns,...ae.contexts,screenScripts:null===(d=e.contexts)||void 0===d?void 0:d.screenScripts},n=(null===(u=e.module.data)||void 0===u||null===(c=u.attributes)||void 0===c?void 0:c.filters)||[],o=await(0,Ua.W)(n),l=((0,Ua.p)((null===be||void 0===be?void 0:be.fields)||[]),null===(m=ge.current)||void 0===m||null===(p=m.beforeRequestParams)||void 0===p?void 0:p.call(m,t,{module:e.module,matchs:o}));pe(!0),a=await jm.xrequest.post("/api/core/table/record/list",{filter:te().merge({table_id:we,...i,...o.$or.length?o:{},current:void 0,pageSize:void 0},(null===l||void 0===l?void 0:l.filter)||{}),select:{...(null===l||void 0===l?void 0:l.select)||{}},current:i.current,pageSize:i.pageSize,sort:{create_time:-1,...Object.fromEntries(Object.keys(r).map((e=>[e,"ascend"===r[e]?1:-1])))}}),pe(!1)}return{data:(null===(t=a)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data)||[],success:Boolean(a),total:(null===(o=a)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.count)||0}},editable:{type:"multiple"},columnsState:{persistenceKey:Ie,persistenceType:"localStorage"},rowKey:e=>e._id,search:!(null===(x=e.module.data)||void 0===x||null===(w=x.attributes)||void 0===w||!w.searchShow)&&{filterType:null===(I=e.module.data)||void 0===I||null===(T=I.attributes)||void 0===T?void 0:T.filterType},options:{setting:{}},scroll:{x:600},rowSelection:(null===(C=e.module.data)||void 0===C||null===(S=C.attributes)||void 0===S?void 0:S.batchShow)&&{columnWidth:60,fixed:"left",defaultSelectedRowKeys:[],getCheckboxProps:e=>({disabled:!1})},tableAlertRender:e=>{let{selectedRowKeys:t,selectedRows:n,onCleanSelected:o}=e;return J().createElement(M.Space,null,J().createElement("span",null,"\u5df2\u9009 ",t.length," \u9879"),J().createElement(M.Button,{type:"link",size:"small",onClick:o},"\u53d6\u6d88\u9009\u62e9"))},tableAlertOptionRender:t=>{var n,o,l;let{selectedRowKeys:a,selectedRows:i,onCleanSelected:r}=t;return J().createElement(M.Space,{size:[10,10]},null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(l=o.batchActions)||void 0===l?void 0:l.filter((e=>e.status)).map(((e,t)=>{const n=de[e.component],o=de.CustomScriptButtonView;let l;const i={...ce(),...ee.contexts.moduleIns,...ae.contexts};if("render"===e.type){l=jm.runScriptFunc(e.code).main}return"admin"===e.type?n&&J().createElement($.Fragment,{key:t},J().createElement(n,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},options:e,_ids:a,refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},e.title)):"render"===e.type?l&&J().createElement(l,{contexts:i,data:{_ids:a,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id}}):J().createElement($.Fragment,{key:t},J().createElement(o,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},_ids:a,recordInfo:void 0,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,options:e,refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},e.title))})))},form:{syncToUrl:!1},pagination:{showSizeChanger:!0},dateFormatter:"string",toolBarRender:()=>{var t,n,o;return null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n||null===(o=n.toolBarActions)||void 0===o?void 0:o.filter((e=>e.status)).map(((t,n)=>{var o,l;const a=de[t.component],i=de.CustomScriptButtonView;let r;const s={...ce(),...ee.contexts.moduleIns,...ae.contexts};if("render"===t.type){r=jm.runScriptFunc(t.code).main}return"admin"===t.type?a&&J().createElement($.Fragment,{key:n},J().createElement(a,{buttonProps:{type:"blue"===t.color?"primary":"default",danger:"red"===t.color,icon:"toolBarActions_add"===t.key&&J().createElement(H.PlusOutlined,null)},modalProps:{},options:t,formSenior:!0,mode:"view",scene:"create",record:void 0,initialValues:le(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.initialValues,e,{variableStore:ae}),tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,callback:(t,n)=>{var o,l,a;const i={...ce(),...ee.contexts.moduleIns,...ae.contexts,screenScripts:null===(o=e.contexts)||void 0===o?void 0:o.screenScripts};null===(l=ge.current)||void 0===l||null===(a=l.addSuccess)||void 0===a||a.call(l,i,{record:void 0,scene:t,data:n})},refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},t.title)):"render"===t.type?r&&J().createElement(r,{contexts:s,data:{tableInfo:be,table_id:null===be||void 0===be?void 0:be._id}}):J().createElement($.Fragment,{key:n},J().createElement(i,{buttonProps:{type:"blue"===t.color?"primary":"default",danger:"red"===t.color},recordInfo:void 0,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,options:t,refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},t.title))}))}}):J().createElement(M.Space,{direction:"vertical",className:"xins_ant_pro_table_mobile"},(null===(O=e.module.data)||void 0===O||null===(P=O.attributes)||void 0===P?void 0:P.allSearch)&&J().createElement(M.Card,{styles:{body:{padding:16}},bordered:null===(k=e.module.data)||void 0===k||null===(D=k.attributes)||void 0===D?void 0:D.cardBordered},J().createElement(M.Input.Search,{placeholder:"\u7efc\u5408\u641c\u7d22",allowClear:!0,size:"large",onSearch:e=>{var t;console.log(e),Ee.current=e,null===(t=_e.current)||void 0===t||t.reloadAndRest()}})),J().createElement(G.ProTable,{headerTitle:le(null===(N=e.module.data)||void 0===N||null===(A=N.attributes)||void 0===A?void 0:A.title,e,{variableStore:ae}),columns:[...ye,...he],bordered:!1,ghost:null===(L=e.module.data)||void 0===L||null===(F=L.attributes)||void 0===F?void 0:F.ghost,formRef:ve,actionRef:_e,cardBordered:null===(R=e.module.data)||void 0===R||null===(B=R.attributes)||void 0===B?void 0:B.cardBordered,request:async function(){var t,n,o,l;let a,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(console.log("--------\u67e5\u8be2\u53c2\u6570----",i,r,s),we){var d,u,c,m,p;const t={...ce(),...ee.contexts.moduleIns,...ae.contexts,screenScripts:null===(d=e.contexts)||void 0===d?void 0:d.screenScripts},n=(null===(u=e.module.data)||void 0===u||null===(c=u.attributes)||void 0===c?void 0:c.filters)||[],o=await(0,Ua.W)(n),l=((0,Ua.p)((null===be||void 0===be?void 0:be.fields)||[]),null===(m=ge.current)||void 0===m||null===(p=m.beforeRequestParams)||void 0===p?void 0:p.call(m,t,{module:e.module,matchs:o}));pe(!0),a=await jm.xrequest.post("/api/core/table/record/list",{filter:te().merge({table_id:we,...i,...o.$or.length?o:{},current:void 0,pageSize:void 0},(null===l||void 0===l?void 0:l.filter)||{}),current:i.current,pageSize:i.pageSize,select:{...(null===l||void 0===l?void 0:l.select)||{}},sort:{create_time:-1,...Object.fromEntries(Object.keys(r).map((e=>[e,"ascend"===r[e]?1:-1])))}}),pe(!1)}return{data:(null===(t=a)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data)||[],success:Boolean(a),total:(null===(o=a)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.count)||0}},editable:{type:"multiple"},columnsState:{persistenceKey:Ie,persistenceType:"localStorage"},rowKey:e=>e._id,search:!(null===(V=e.module.data)||void 0===V||null===(U=V.attributes)||void 0===U||!U.searchShow)&&{filterType:null===(Y=e.module.data)||void 0===Y||null===(z=Y.attributes)||void 0===z?void 0:z.filterType},options:{setting:{}},scroll:{x:600},rowSelection:(null===(j=e.module.data)||void 0===j||null===(q=j.attributes)||void 0===q?void 0:q.batchShow)&&{columnWidth:60,fixed:"left",defaultSelectedRowKeys:[],getCheckboxProps:e=>({disabled:!1})},tableAlertRender:e=>{let{selectedRowKeys:t,selectedRows:n,onCleanSelected:o}=e;return J().createElement(M.Space,null,J().createElement("span",null,"\u5df2\u9009 ",t.length," \u9879"),J().createElement(M.Button,{type:"link",size:"small",onClick:o},"\u53d6\u6d88\u9009\u62e9"))},tableRender:(e,t,n)=>{let{toolbar:o,alert:l,table:a}=n},tableExtraRender:(t,n)=>{var o,l,a;return J().createElement(M.Spin,{spinning:me},J().createElement(M.Card,{styles:{body:{padding:"0 24px 24px 24px"}},bordered:null===(o=e.module)||void 0===o||null===(l=o.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.cardBordered},J().createElement("div",{className:is.A.bottom_line},t.toolbarDom),n.map(((e,t)=>{var n,o,l;const a=null===ye||void 0===ye||null===(n=ye.filter((e=>e.xins_id)))||void 0===n||null===(o=n[0])||void 0===o||null===(l=o.render)||void 0===l?void 0:l.call(o,"-",e,t,null);return J().createElement("div",{className:is.A.row_line,key:t},J().createElement(M.Descriptions,{title:a,size:"small",items:ye.filter((e=>!e.xins_id)).slice(0,5).map(((n,o)=>{var l;const a=function(e,t){var n;return null===(n="string"===typeof t?[t]:t)||void 0===n||n.forEach((t=>{var n;e=null===(n=e)||void 0===n?void 0:n[t]})),e}(e,n.dataIndex);return{key:o,label:n.title,children:(null===(l=n.render)||void 0===l?void 0:l.call(n,a,e,t,null))||a||"-"}}))}),J().createElement("div",{style:{textAlign:"right"}},J().createElement(M.Space,null,xe.map(((t,n)=>t({record:e}))))))})),!n.length&&J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE}),J().createElement(M.Pagination,Object.assign({style:{margin:"10px 0"}},t.pagination||{}))))},tableAlertOptionRender:t=>{var n,o,l;let{selectedRowKeys:a,selectedRows:i,onCleanSelected:r}=t;return J().createElement(M.Space,{size:0},null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(l=o.batchActions)||void 0===l?void 0:l.filter((e=>e.status)).map(((e,t)=>{const n=de[e.component],o=de.CustomScriptButtonView;return"admin"===e.type?n&&J().createElement($.Fragment,{key:t},J().createElement(n,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},options:e,_ids:a,refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},e.title)):J().createElement($.Fragment,{key:t},J().createElement(o,{buttonProps:{type:"link",size:"small",danger:"red"===e.color},_ids:a,recordInfo:void 0,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,options:e,refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},e.title))})))},form:{syncToUrl:!1},pagination:{style:{textAlign:"right",marginTop:10},size:"default",showTotal:(e,t)=>"\u5171\u8ba1 ".concat(e," \u6761"),showSizeChanger:!0},dateFormatter:"string",toolBarRender:()=>{var t,n,o;return null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n||null===(o=n.toolBarActions)||void 0===o?void 0:o.filter((e=>e.status)).map(((t,n)=>{var o,l;const a=de[t.component],i=de.CustomScriptButtonView;return"admin"===t.type?a&&J().createElement($.Fragment,{key:n},J().createElement(a,{buttonProps:{type:"blue"===t.color?"primary":"default",danger:"red"===t.color,icon:"toolBarActions_add"===t.key&&J().createElement(H.PlusOutlined,null)},modalProps:{},options:t,formSenior:!0,mode:"view",scene:"create",record:void 0,initialValues:le(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.initialValues,e,{variableStore:ae}),tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,callback:(t,n)=>{var o,l,a;const i={...ce(),...ee.contexts.moduleIns,...ae.contexts,screenScripts:null===(o=e.contexts)||void 0===o?void 0:o.screenScripts};null===(l=ge.current)||void 0===l||null===(a=l.addSuccess)||void 0===a||a.call(l,i,{record:void 0,scene:t,data:n})},refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},t.title)):J().createElement($.Fragment,{key:n},J().createElement(i,{buttonProps:{type:"blue"===t.color?"primary":"default",danger:"red"===t.color},recordInfo:void 0,tableInfo:be,table_id:null===be||void 0===be?void 0:be._id,options:t,refresh:e=>{var t;null===(t=_e.current)||void 0===t||t.reload()}},t.title))}))}})))})),Xm=qm,Wm=window.__app__,Km={TYPE:"\u6570\u636e\u8868\u7ec4\u4ef6",MODULE_TYPE:"tableShow",NAME:"\u666e\u901a\u6570\u636e\u8868",ICON:J().createElement(H.TableOutlined,null)};const $m={title:Km.NAME,attributes:{cardBordered:!0,ghost:!1,table_id:void 0,form_screen_id:void 0,searchShow:!1,allSearch:!0,filterType:"query",filters:[],title:"\u8868\u683c\u6807\u9898",toolBarShow:!0,toolBarActions:[],initialValues:void 0,showInstance:!0,rowSelection:!0,columns:[],actions:[],batchShow:!0,batchActions:[],pagination:{current:1,pageSize:10,total:0},script:"({\n  // \u8bf7\u6c42\u524d\u83b7\u53d6\u9644\u52a0\u53c2\u6570\n  beforeRequestParams: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    return {}\n  },\n  // \u65b0\u589e\u5f39\u7a97\u6210\u529f\u56de\u8c03\n  addSuccess: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    \n  },\n})\n",hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},Jm={attributes:[{title:"\u6570\u636e\u8868\u5c5e\u6027",children:[{component:"TableShowQuoteTable",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","table_id"]}}]},{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{hidden:e=>!1,component:"RadioButtonGroupInLine",formItemProps:{label:"\u663e\u793a\u8fb9\u6846",name:["attributes","cardBordered"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u5e7d\u7075\u6a21\u5f0f",name:["attributes","ghost"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},{title:"\u641c\u7d22\u8bbe\u7f6e",children:[{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u641c\u7d22\u680f\u641c\u7d22",name:["attributes","searchShow"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u7efc\u5408\u641c\u7d22",name:["attributes","allSearch"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u641c\u7d22\u65b9\u5f0f",name:["attributes","filterType"]},props:{options:[{label:"\u6807\u51c6",value:"query"},{label:"\u8f7b\u91cf",value:"light"}]}},{exportAttribute:!1,component:"TableFilter",variable:!1,formItemProps:{label:"\u641c\u7d22\u6761\u4ef6",name:["attributes","filters"],tooltip:"\u8bf7\u6ce8\u610f\uff1a\u6b64\u5904\u641c\u7d22\u6761\u4ef6\u4e3a\u5185\u7f6e\u641c\u7d22\u6761\u4ef6\uff0c\u5c06\u4f1a\u4e0e\u641c\u7d22\u533a\u57df\u7684\u6761\u4ef6\u53e0\u52a0\u67e5\u8be2\u3002"},props:{moduleTypes:["input","inputNumber","rate","slider","datePicker","radio","select","switch"]}}]},{title:"\u6807\u9898\u680f\u8bbe\u7f6e",children:[{component:"BasicInput",variable:!0,formItemProps:{label:"\u6807\u9898",name:["attributes","title"]}},{component:"TableShowActions",formItemProps:{label:"\u64cd\u4f5c\u9879",tooltip:"\u5bf9\u8868\u683c\u6570\u636e\u7684\u64cd\u4f5c",name:["attributes","toolBarActions"]},props:{scene:"toolBarActions"}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u8868\u5355\u9ed8\u8ba4\u503c",name:["attributes","initialValues"],tooltip:"\u5e73\u53f0\u5185\u7f6e\u65b0\u589e\u6570\u636e\u5f39\u7a97\u8868\u5355\u7684\u521d\u59cb\u503c\uff0c\u5e38\u7528\u8bed\u521d\u59cb\u5316\u4e1a\u52a1\u5b57\u6bb5"},props:{readOnly:!0,placeholder:"\u8bf7\u7ed1\u5b9a\u53d8\u91cf"}}]},{title:"\u8868\u683c\u8bbe\u7f6e",children:[{component:"TableShowColumns",formItemProps:{label:"\u5217\u5b9a\u4e49",name:["attributes","columns"]}},{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u663e\u793a\u5b9e\u4f8b\u5217",name:["attributes","showInstance"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"TableShowActions",formItemProps:{label:"\u64cd\u4f5c\u9879",name:["attributes","actions"],tooltip:"\u5bf9\u8868\u683c\u67d0\u4e00\u6761\u6570\u636e\u7684\u64cd\u4f5c"},props:{scene:"tableActions"}}]},{title:"\u6279\u91cf\u64cd\u4f5c\u8bbe\u7f6e",children:[{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u6279\u91cf\u64cd\u4f5c",name:["attributes","batchShow"]},props:{options:[{label:"\u5f00\u542f",value:!0},{label:"\u5173\u95ed",value:!1}]}},{hidden:e=>{var t;return!(null!==(t=e.module.data.attributes)&&void 0!==t&&t.batchShow)},component:"TableShowActions",formItemProps:{label:"\u64cd\u4f5c\u9879",tooltip:"\u5bf9\u8868\u683c\u6570\u636e\u7684\u6279\u91cf\u64cd\u4f5c",name:["attributes","batchActions"]},props:{scene:"batchActions"}}]},(0,cd.createSeniorOptionFunc)({moduleType:Km.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:Km.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Km.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Km.MODULE_TYPE})};const Hm={type:Km.TYPE,moduleType:Km.MODULE_TYPE,name:Km.NAME,icon:Km.ICON,data:$m,control:Jm,methods:[{label:"\u5237\u65b0",value:"refresh",method:()=>{console.log("\u6211\u662f\u5237\u65b0\u65b9\u6cd5")}}],config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Xm,Setting:tc,createFunc:function(){const e=Wm.uuid(Km.MODULE_TYPE+"_"),t={type:Km.TYPE,moduleType:Km.MODULE_TYPE,moduleId:e,name:Km.NAME,data:$m};return JSON.parse(JSON.stringify(t))},funcs:{createColumnItemFunc:function(e){return{moduleType:void 0,key:Wm.uuid("uid_"),dataIndex:void 0,title:"\u5217\u540d\u79f0",tooltip:void 0,align:"left",fixed:!1,copyable:!1,ellipsis:!0,search:!1,filters:!1,width:150,customRender:!1,script:"({\n  main: function (props) {\n    // props.contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data.recordInfo \u5f53\u524d\u64cd\u4f5c\u6570\u636e\u8bb0\u5f55\n    \n    return <span>-</span>\n  }\n})\n",...e||{}}},createActionItemFunc:function(){return{key:Wm.uuid("uid_"),title:void 0,color:"blue",confirm:!1,code:"({\n  main: function (contexts, data) {\n    // contexts \u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data \u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data.recordInfo \u5f53\u524d\u64cd\u4f5c\u6570\u636e\u8bb0\u5f55\n    // data._ids \u6279\u91cf\u64cd\u4f5c\u65f6\u4e3a\u9009\u4e2d\u9879\n    // \u6b64\u5904\u7f16\u5199\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879\u4ee3\u7801\n\n  },\n})\n",type:"custom",status:!1}},createRenderActionItemFunc:function(){return{key:Wm.uuid("uid_"),title:"\u81ea\u5b9a\u4e49\u6e32\u67d3",code:'({\n  main: function (props) {\n    // props.contexts \u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data \u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data.recordInfo \u5f53\u524d\u64cd\u4f5c\u6570\u636e\u8bb0\u5f55\n    // props.data._ids \u6279\u91cf\u64cd\u4f5c\u65f6\u4e3a\u9009\u4e2d\u9879\n    // \u6b64\u5904\u7f16\u5199\u81ea\u5b9a\u4e49\u6e32\u67d3\u4ee3\u7801\n    const { Button, Space, } = props.contexts.antd\n\n    return (\n      <Space>\n        <Button\n          type="link"\n          size="small"\n        >\u64cd\u4f5c\u6309\u94ae</Button>\n      </Space>\n    )\n  },\n})\n',type:"render",status:!1}}}};var Gm=__webpack_require__(3228);const Qm=window.__app__,Zm={TYPE:"\u6570\u636e\u8868\u7ec4\u4ef6",MODULE_TYPE:"customTable",NAME:"\u81ea\u7531\u6570\u636e\u8868",ICON:J().createElement(H.InsertRowAboveOutlined,null)};const ep={title:Zm.NAME,attributes:{cardBordered:!0,ghost:!1,searchShow:!1,allSearch:!0,filterType:"query",title:"\u8868\u683c\u6807\u9898",toolBarShow:!0,toolBarActions:[],showInstance:!0,rowSelection:!0,columns:[],actions:[],batchShow:!0,batchActions:[],pagination:{current:1,pageSize:10,total:0},script:"({\n  // \u8bf7\u6c42\u65b9\u6cd5\n  request: async function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n\n    // \u6b64\u5904\u7f16\u5199\u8bf7\u6c42\u4ee3\u7801\n\n\n    return {\n      data: [], // \u6570\u636e\u5217\u8868\n      success: true, // \u8bf7\u6c42\u72b6\u6001\n      total: 0, // \u67e5\u8be2\u603b\u8bb0\u5f55\u6761\u6570\n    }\n  },\n})\n",hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},tp={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{hidden:e=>!1,component:"RadioButtonGroupInLine",formItemProps:{label:"\u663e\u793a\u8fb9\u6846",name:["attributes","cardBordered"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",formItemProps:{label:"\u5e7d\u7075\u6a21\u5f0f",name:["attributes","ghost"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},{title:"\u641c\u7d22\u8bbe\u7f6e",children:[{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u641c\u7d22\u680f\u641c\u7d22",name:["attributes","searchShow"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u7efc\u5408\u641c\u7d22",name:["attributes","allSearch"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u641c\u7d22\u65b9\u5f0f",name:["attributes","filterType"]},props:{options:[{label:"\u6807\u51c6",value:"query"},{label:"\u8f7b\u91cf",value:"light"}]}}]},{title:"\u6807\u9898\u680f\u8bbe\u7f6e",children:[{component:"BasicInput",variable:!0,formItemProps:{label:"\u6807\u9898",name:["attributes","title"]}},{component:"CustomTableActionButton",formItemProps:{label:"\u64cd\u4f5c\u9879",tooltip:"\u5bf9\u8868\u683c\u6570\u636e\u7684\u64cd\u4f5c",name:["attributes","toolBarActions"]},props:{scene:"toolBarActions"}}]},{title:"\u8868\u683c\u8bbe\u7f6e",children:[{component:"CustomTableColumns",formItemProps:{label:"\u5217\u5b9a\u4e49",name:["attributes","columns"]}},{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u663e\u793a\u5b9e\u4f8b\u5217",name:["attributes","showInstance"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"CustomTableActionButton",formItemProps:{label:"\u64cd\u4f5c\u9879",name:["attributes","actions"],tooltip:"\u5bf9\u8868\u683c\u67d0\u4e00\u6761\u6570\u636e\u7684\u64cd\u4f5c"},props:{scene:"tableActions"}}]},{title:"\u6279\u91cf\u64cd\u4f5c\u8bbe\u7f6e",children:[{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u6279\u91cf\u64cd\u4f5c",name:["attributes","batchShow"]},props:{options:[{label:"\u5f00\u542f",value:!0},{label:"\u5173\u95ed",value:!1}]}},{hidden:e=>{var t;return!(null!==(t=e.module.data.attributes)&&void 0!==t&&t.batchShow)},component:"CustomTableActionButton",formItemProps:{label:"\u64cd\u4f5c\u9879",tooltip:"\u5bf9\u8868\u683c\u6570\u636e\u7684\u6279\u91cf\u64cd\u4f5c",name:["attributes","batchActions"]},props:{scene:"batchActions"}}]},(0,cd.createSeniorOptionFunc)({moduleType:Zm.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:Zm.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Zm.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Zm.MODULE_TYPE})};const np={type:Zm.TYPE,moduleType:Zm.MODULE_TYPE,name:Zm.NAME,icon:Zm.ICON,data:ep,control:tp,methods:[{label:"\u5237\u65b0",value:"refresh",method:()=>{console.log("\u6211\u662f\u5237\u65b0\u65b9\u6cd5")}}],config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Gm.A,Setting:tc,createFunc:function(){const e=Qm.uuid(Zm.MODULE_TYPE+"_"),t={type:Zm.TYPE,moduleType:Zm.MODULE_TYPE,moduleId:e,name:Zm.NAME,data:ep};return JSON.parse(JSON.stringify(t))},funcs:{createColumnItemFunc:function(e){return{moduleType:void 0,key:Qm.uuid("uid_"),dataIndex:void 0,title:"\u5217\u540d\u79f0",tooltip:void 0,align:"left",fixed:!1,copyable:!1,ellipsis:!0,search:!1,filters:!1,width:150,customRender:!1,script:"({\n  main: function (props) {\n    // props.contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data\uff1a\u503c\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    \n    return <span>-</span>\n  }\n})\n",...e||{}}},createActionItemFunc:function(){return{key:Qm.uuid("uid_"),title:void 0,color:"blue",confirm:!1,code:"({\n  main: function (contexts, data) {\n    // contexts \u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data \u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data.recordInfo \u5f53\u524d\u64cd\u4f5c\u6570\u636e\u8bb0\u5f55\n    // data._ids \u6279\u91cf\u64cd\u4f5c\u65f6\u4e3a\u9009\u4e2d\u9879\n    // \u6b64\u5904\u7f16\u5199\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879\u4ee3\u7801\n\n  }\n})\n",type:"custom",status:!0}},createRenderActionItemFunc:function(){return{key:Qm.uuid("uid_"),title:"\u81ea\u5b9a\u4e49\u6e32\u67d3",code:'({\n  main: function (props) {\n    // props.contexts \u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data \u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // props.data.recordInfo \u5f53\u524d\u64cd\u4f5c\u6570\u636e\u8bb0\u5f55\n    // props.data._ids \u6279\u91cf\u64cd\u4f5c\u65f6\u4e3a\u9009\u4e2d\u9879\n    // \u6b64\u5904\u7f16\u5199\u81ea\u5b9a\u4e49\u6e32\u67d3\u4ee3\u7801\n    const { Button, Space, } = props.contexts.antd\n\n    return (\n      <Space>\n        <Button\n          type="link"\n          size="small"\n        >\u64cd\u4f5c\u6309\u94ae</Button>\n      </Space>\n    )\n  },\n})\n',type:"render",status:!1}}}},op=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c;const{XinScreenEditorModulesMap:m,XinCoverView:p,XinTypeView:_,XinChildrenView:v,XinModuleView:b,customData:f,core:E,addFunc:g,getVariableValue:y,variableStore:h,editorStore:x,config:w}=(0,$.useContext)($r.f),I=Object.fromEntries(((null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.componentAttributes)||[]).map((e=>[e.fieldName||e.key,e.defaultValue])));return J().createElement(b,Object.assign({},e,{className:Z()([]),style:(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:h})}),J().createElement(zm.Helmet,null,y(null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.helmetTitle,e,{variableStore:h})&&J().createElement("title",null,null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.helmetTitle)),J().createElement(v,Object.assign({},e,{customContexts:{...e.customContexts||{},..."component"!==(null===(s=e.module)||void 0===s||null===(d=s.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.screenType)||null!==(c=e.customContexts)&&void 0!==c&&c.componentAttributes?{}:{componentAttributes:I}}})))})),lp=window.__app__;const ap={TYPE:"\u5e03\u5c40\u7ec4\u4ef6",MODULE_TYPE:"screen",NAME:"\u753b\u9762",ICON:J().createElement(H.TableOutlined,null)},ip={title:ap.NAME,attributes:{title:ap.NAME,screenType:"screen",helmetTitle:"",componentAttributes:[],editorWidth:{value:100,unit:"%"},editorHeight:{value:100,unit:"auto"},isAdaptive:!1,hidden:!1},styles:{backgroundColor:{r:255,g:255,b:255,a:1},padding:{top:15,right:15,bottom:15,left:15},_style:":root {\n    \n}"},animations:{},events:{}},rp={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{hidden:e=>!0,component:"BasicInput",variable:!1,formItemProps:{label:"\u753b\u9762\u7c7b\u578b",name:["attributes","screenType"]}},{hidden:e=>{var t,n,o;return"component"===(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.screenType)},component:"BasicInput",variable:!1,formItemProps:{label:"\u9875\u9762\u6807\u9898",name:["attributes","helmetTitle"]}},{hidden:e=>{var t,n,o;return"component"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.screenType)},component:"ComponentAttributes",variable:!1,formItemProps:{label:"\u5c5e\u6027\u5b9a\u4e49",name:["attributes","componentAttributes"]}},{hidden:e=>!0,component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5927\u5c4f\u9002\u914d",name:["attributes","isAdaptive"],tooltip:"\u53ef\u89c6\u5316\u5927\u5c4f\u5bf9\u4e0d\u540c\u50cf\u7d20\u8bbe\u5907\u7684\u663e\u793a\u9002\u914d"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},(0,cd.createCommonOptionFunc)({moduleType:ap.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:ap.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:ap.MODULE_TYPE})};const sp={type:ap.TYPE,moduleType:ap.MODULE_TYPE,name:ap.NAME,icon:ap.ICON,data:ip,control:rp,config:{dragable:!1,insertable:!0,removeable:!1,copyable:!1,componentable:!1,display:"block",button:!1},View:op,Setting:tc,createFunc:function(e){const t=lp.uuid(ap.MODULE_TYPE+"_"),n={type:ap.TYPE,moduleType:ap.MODULE_TYPE,moduleId:t,name:(null===e||void 0===e?void 0:e.name)||ap.NAME,data:ip,children:(null===e||void 0===e?void 0:e.children)||[]};return JSON.parse(JSON.stringify(n))},funcs:{createAttributeItemFunc:function(e){return{key:lp.uuid(),name:void 0,component:"BasicInput",defaultValue:void 0,tooltip:void 0,variable:!1,customRender:!1,script:void 0}}}},dp=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u;const{XinScreenEditorModulesMap:c,XinCoverView:m,XinTypeView:p,XinChildrenView:_,XinModuleView:v,customData:b,variableStore:f,core:E,addFunc:g,getVariableValue:y,config:h}=(0,$.useContext)($r.f);return J().createElement(v,Object.assign({},e,{className:Z()([]),real_element:" > .".concat(is.A.grid_content)}),J().createElement("div",{className:Z()([is.A.grid_content,y(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.className,e,{variableStore:f})]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:f}),gap:y(null===(o=e.module.data.attributes)||void 0===o?void 0:o.gap,e,{variableStore:f})+"px"}},null===(l=y("loop"===(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.type)?null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.loopLayout:null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.layout,e,{variableStore:f}).split(":").filter(Boolean).filter((e=>Number(e))).map((e=>Number(e)>24?24:e)))||void 0===l?void 0:l.map(((t,n)=>{var o,l,a,i,r,s,d,u,c,m,p,v,b,E;const g=null===(o=e.module.children)||void 0===o?void 0:o["loop"===(null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.type)?0:n];return g&&J().createElement($.Fragment,{key:n},J().createElement(_.Item,Object.assign({},e,{module:g,contexts:{...e.contexts,parents:[...e.contexts.parents||[],e.module],span:"mobile"===h.deviceType?"loop"===(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.type)?t:24:t},customContexts:{...e.customContexts||{},..."loop"===(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.type)?{[y(null===(u=e.module.data)||void 0===u||null===(c=u.attributes)||void 0===c?void 0:c.loopItemName,e,{variableStore:f})]:null===(m=y(null===(p=e.module.data)||void 0===p||null===(v=p.attributes)||void 0===v?void 0:v.dataSource,e,{variableStore:f}))||void 0===m?void 0:m[n],[y(null===(b=e.module.data)||void 0===b||null===(E=b.attributes)||void 0===E?void 0:E.loopIndexName,e,{variableStore:f})]:n}:{}}})))}))))})),up=window.__app__,cp={TYPE:"\u5e03\u5c40\u7ec4\u4ef6",MODULE_TYPE:"grid",NAME:"\u5e03\u5c40\u5bb9\u5668",ICON:J().createElement(H.LayoutOutlined,null)},mp={title:cp.NAME,attributes:{layout:"24:16:8",loopLayout:"24",type:"basic",dataSource:[{label:"\u7b2c\u4e00\u9879",value:1},{label:"\u7b2c\u4e8c\u9879",value:2},{label:"\u7b2c\u4e09\u9879",value:3},{label:"\u7b2c\u56db\u9879",value:4},{label:"\u7b2c\u4e94\u9879",value:5}],loopItemName:"item",loopIndexName:"index",gap:10,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},pp={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u5e03\u5c40\u7c7b\u578b",name:["attributes","type"],tooltip:"\u8bf7\u6ce8\u610f\uff0c\u5faa\u73af\u5e03\u5c40\u4e3a\u9ad8\u7ea7\u5e03\u5c40\u65b9\u5f0f\uff0c\u4e0d\u4e86\u89e3\u7684\u60c5\u51b5\u4e0b\u8bf7\u52ff\u4f7f\u7528\uff01"},props:{options:[{label:"\u666e\u901a\u5e03\u5c40",value:"basic"},{label:"\u5faa\u73af\u5e03\u5c40",value:"loop"}]}},{hidden:e=>{var t,n,o;return"loop"===(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.type)},component:"GridLayout",formItemProps:{label:"\u666e\u901a\u5e03\u5c40",name:["attributes","layout"]},props:{options:[{label:"24:16:8"},{label:"16:8"},{label:"8:8:8"},{label:"12:12"},{label:"16:8:8:16"},{label:"6:6:12"},{label:"4:8:12:8:10:6"}]}},{hidden:e=>{var t,n,o;return"loop"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.type)},component:"BasicInput",variable:!0,formItemProps:{label:"\u5faa\u73af\u5e03\u5c40",name:["attributes","loopLayout"],tooltip:"\u5faa\u73af\u5e03\u5c40\u4e3a\u9ad8\u7ea7\u5e03\u5c40\u65b9\u5f0f\uff0c\u4e0d\u4f1a\u81ea\u52a8\u6dfb\u52a0\u54cd\u5e94\u5f0f\uff0c\u60a8\u53ef\u4ee5\u7528\u6b64\u529f\u80fd\u6765\u5b9e\u73b0\u54cd\u5e94\u5f0f\u5e03\u5c40\u3002"},props:{readOnly:!0}},{hidden:e=>{var t,n,o;return"loop"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.type)},component:"JsonObjectModal",variable:!0,formItemProps:{label:"\u6570\u636e\u6e90",name:["attributes","dataSource"]}},{hidden:e=>{var t,n,o;return"loop"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.type)},component:"BasicInput",variable:!0,formItemProps:{label:"\u5faa\u73af\u5b57\u6bb5\u540d",name:["attributes","loopItemName"]}},{hidden:e=>{var t,n,o;return"loop"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.type)},component:"BasicInput",variable:!0,formItemProps:{label:"\u5faa\u73af\u5e8f\u53f7\u540d",name:["attributes","loopIndexName"]}},{component:"InputAndSelect",variable:!0,formItemProps:{label:"\u95f4\u8ddd",name:["attributes","gap"]},props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}}]},(0,cd.createCommonOptionFunc)({moduleType:cp.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:cp.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:cp.MODULE_TYPE})};const _p={type:cp.TYPE,moduleType:cp.MODULE_TYPE,name:cp.NAME,icon:cp.ICON,data:mp,control:pp,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:dp,Setting:tc,createFunc:function(){const e=up.uuid(cp.MODULE_TYPE+"_"),t={type:cp.TYPE,moduleType:cp.MODULE_TYPE,moduleId:e,name:cp.NAME,data:mp,children:[Mc.createFunc({name:cp.NAME+"\u5185\u90e8\u5bb9\u5668"}),Mc.createFunc({name:cp.NAME+"\u5185\u90e8\u5bb9\u5668"}),Mc.createFunc({name:cp.NAME+"\u5185\u90e8\u5bb9\u5668"})]};return JSON.parse(JSON.stringify(t))}},vp=window.__app__,bp={TYPE:"\u5e03\u5c40\u7ec4\u4ef6",MODULE_TYPE:"wrap",NAME:"\u57fa\u7840\u5bb9\u5668",ICON:J().createElement(H.BorderOuterOutlined,null)},fp={title:bp.NAME,attributes:{hidden:!1},styles:{_style:":root {\n    \n}"},animations:{},events:{}},Ep={attributes:[(0,cd.createCommonOptionFunc)({moduleType:bp.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:bp.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:bp.MODULE_TYPE})};const gp={type:bp.TYPE,moduleType:bp.MODULE_TYPE,name:bp.NAME,icon:bp.ICON,data:fp,control:Ep,config:{dragable:!0,insertable:!0,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Cc,Setting:tc,createFunc:function(){const e=vp.uuid(bp.MODULE_TYPE+"_"),t={type:bp.TYPE,moduleType:bp.MODULE_TYPE,moduleId:e,name:bp.NAME,data:fp,children:[]};return JSON.parse(JSON.stringify(t))}},yp=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d;const{XinScreenEditorModulesMap:u,XinCoverView:c,XinTypeView:m,XinChildrenView:p,XinModuleView:_,customData:v,variableStore:b,core:f,addFunc:E,getVariableValue:g,config:y}=(0,$.useContext)($r.f),h=g(null===(t=e.module.data.attributes)||void 0===t?void 0:t.titleTagColor,e,{variableStore:b});return J().createElement(_,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.card_content)}),J().createElement(M.Card,{className:Z()([is.A.card_content,g(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.className,e,{variableStore:b})]),title:null!==(l=e.module.data.attributes)&&void 0!==l&&l.titleTagShow?J().createElement(J().Fragment,null,g(null===(a=e.module.data.attributes)||void 0===a?void 0:a.titleTagShow,e,{variableStore:b})&&J().createElement("span",{className:is.A.card_tag,style:{backgroundColor:h&&"rgba(".concat(h.r||221,", ").concat(h.g||221,", ").concat(h.b||221,", ").concat(h.a||1,")")}},"\u3000"),g(null===(i=e.module.data.attributes)||void 0===i?void 0:i.title,e,{variableStore:b})):g(null===(r=e.module.data.attributes)||void 0===r?void 0:r.title,e,{variableStore:b}),styles:{header:(0,cd.styleObjToStylesFunc)(e.module.data.styles.headStyle,e,{variableStore:b}),body:(0,cd.styleObjToStylesFunc)(e.module.data.styles.bodyStyle,e,{variableStore:b})},size:g(null===(s=e.module.data.attributes)||void 0===s?void 0:s.size,e,{variableStore:b}),bordered:g(null===(d=e.module.data.attributes)||void 0===d?void 0:d.bordered,e,{variableStore:b})},J().createElement(p,e)))})),hp=window.__app__;function xp(e){const t=hp.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-a-37-kapian"})}const wp={TYPE:"\u5e03\u5c40\u7ec4\u4ef6",MODULE_TYPE:"card",NAME:"\u5361\u7247",ICON:J().createElement(xp,null)},Ip={title:wp.NAME,attributes:{title:wp.NAME,titleTagShow:!0,titleTagColor:{r:221,g:221,b:221,a:1},size:"default",hidden:!1,bordered:!0},styles:{headStyle:{_style:":root {\n    \n}"},bodyStyle:{padding:{top:15,right:15,bottom:15,left:15},_style:":root {\n    \n}"}},animations:{},events:{}},Tp={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",variable:!0,formItemProps:{label:"\u6807\u9898",name:["attributes","title"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u6807\u9898\u989c\u8272\u5757",name:["attributes","titleTagShow"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"ColorPicker",variable:!0,formItemProps:{label:"\u6807\u9898\u5757\u989c\u8272",name:["attributes","titleTagColor"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u663e\u793a\u8fb9\u6846",name:["attributes","bordered"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5c3a\u5bf8",name:["attributes","size"]},props:{options:[{label:"\u9ed8\u8ba4",value:"default"},{label:"\u5c0f",value:"small"}]}}]},(0,cd.createCommonOptionFunc)({moduleType:wp.MODULE_TYPE})],styles:{tabs:[{label:"\u5185\u5bb9\u533a\u57df\u6837\u5f0f",value:"bodyStyle",stylePath:" > .ant-card-body",styles:(0,cd.createStylesOptionFunc)({moduleType:wp.MODULE_TYPE,names:["styles","bodyStyle"]})},{label:"\u6807\u9898\u533a\u57df\u6837\u5f0f",value:"headStyle",stylePath:" > .ant-card-head",styles:(0,cd.createStylesOptionFunc)({moduleType:wp.MODULE_TYPE,names:["styles","headStyle"]})}]},animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:wp.MODULE_TYPE})};const Cp={type:wp.TYPE,moduleType:wp.MODULE_TYPE,name:wp.NAME,icon:wp.ICON,data:Ip,control:Tp,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:yp,Setting:tc,createFunc:function(){const e=hp.uuid(wp.MODULE_TYPE+"_"),t={type:wp.TYPE,moduleType:wp.MODULE_TYPE,moduleId:e,name:wp.NAME,data:Ip,children:[Mc.createFunc({name:wp.NAME+"\u5185\u90e8\u5bb9\u5668"})]};return JSON.parse(JSON.stringify(t))}},Sp=(0,ae.observer)((e=>{var t,n,o,l,a,i;const{XinScreenEditorModulesMap:r,XinCoverView:s,XinTypeView:d,XinChildrenView:u,XinModuleView:c,customData:m,variableStore:p,core:_,addFunc:v,getVariableValue:b,config:f}=(0,$.useContext)($r.f);return J().createElement(c,Object.assign({},e,{className:Z()([{[is.A.block]:b(null===(t=e.module.data.attributes)||void 0===t?void 0:t.block,e,{variableStore:p})}]),style:(0,cd.styleObjToStylesFunc)(null===(n=e.module.data)||void 0===n?void 0:n.styles,e,{variableStore:p})}),J().createElement(M.Space,{className:is.A.space_content,direction:b(null===(o=e.module.data.attributes)||void 0===o?void 0:o.direction,e,{variableStore:p}),size:b(null===(l=e.module.data.attributes)||void 0===l?void 0:l.size,e,{variableStore:p}),wrap:b(null===(a=e.module.data.attributes)||void 0===a?void 0:a.wrap,e,{variableStore:p})},null===(i=e.module.children)||void 0===i?void 0:i.map(((t,n)=>J().createElement($.Fragment,{key:n},J().createElement(u.Item,{module:t,contexts:{...e.contexts,parents:[...e.contexts.parents||[],e.module]},customContexts:e.customContexts}))))))})),Op=window.__app__,Pp={TYPE:"\u5e03\u5c40\u7ec4\u4ef6",MODULE_TYPE:"space",NAME:"\u95f4\u9694\u7ec4\u4ef6",ICON:J().createElement(H.MergeCellsOutlined,null)},Mp={title:Pp.NAME,attributes:{direction:"horizontal",size:[10,10],wrap:!0,block:!1,hidden:!1},styles:{_style:":root {\n    \n}"},animations:{},events:{}},kp={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u65b9\u5411",name:["attributes","direction"]},props:{options:[{label:"\u6c34\u5e73\u6392\u5217",value:"horizontal"},{label:"\u5782\u76f4\u6392\u5217",value:"vertical"}]}},{hidden:e=>{var t,n,o;return"horizontal"===!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.direction)},component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u81ea\u52a8\u6362\u884c",name:["attributes","wrap"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"NumberRange",variable:!0,formItemProps:{label:"\u5c3a\u5bf8",name:["attributes","size"]},props:{}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u7236\u7ea7\u540c\u5bbd",name:["attributes","block"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},(0,cd.createCommonOptionFunc)({moduleType:Pp.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Pp.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Pp.MODULE_TYPE})};const Dp={type:Pp.TYPE,moduleType:Pp.MODULE_TYPE,name:Pp.NAME,icon:Pp.ICON,data:Mp,control:kp,config:{dragable:!0,insertable:!0,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:Sp,Setting:tc,createFunc:function(){const e=Op.uuid(Pp.MODULE_TYPE+"_"),t={type:Pp.TYPE,moduleType:Pp.MODULE_TYPE,moduleId:e,name:Pp.NAME,data:Mp,children:[]};return JSON.parse(JSON.stringify(t))}},Np=(0,ae.observer)((e=>{var t,n,o,l,a,i,r;const{XinScreenEditorModulesMap:s,XinCoverView:d,XinTypeView:u,XinChildrenView:c,XinModuleView:m,customData:p,variableStore:_,core:v,addFunc:b,getVariableValue:f,config:E}=(0,$.useContext)($r.f),g=f(null===(t=e.module.data.attributes)||void 0===t?void 0:t.titleTagColor,e,{variableStore:_});return J().createElement(m,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.collapse_content)}),J().createElement(M.Collapse,{className:Z()([is.A.collapse_content,f(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.className,e,{variableStore:_})]),collapsible:"header",expandIconPosition:"end",defaultActiveKey:[1],style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:_})},bordered:f(null===(l=e.module.data.attributes)||void 0===l?void 0:l.bordered,e,{variableStore:_}),size:f(null===(a=e.module.data.attributes)||void 0===a?void 0:a.size,e,{variableStore:_}),items:[{key:1,label:J().createElement(J().Fragment,null,f(null===(i=e.module.data.attributes)||void 0===i?void 0:i.titleTagShow,e,{variableStore:_})&&J().createElement("span",{className:is.A.collapse_tag,style:{backgroundColor:g&&"rgba(".concat(g.r||221,", ").concat(g.g||221,", ").concat(g.b||221,", ").concat(g.a||1,")")}},"\u3000"),J().createElement("span",null,f(null===(r=e.module.data.attributes)||void 0===r?void 0:r.title,e,{variableStore:_}))),children:J().createElement(c,e)}]}))})),Ap=window.__app__;function Lp(e){const t=Ap.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-a-37-kapian"})}const Fp={TYPE:"\u5e03\u5c40\u7ec4\u4ef6",MODULE_TYPE:"collapse",NAME:"\u6298\u53e0\u9762\u677f",ICON:J().createElement(Lp,null)},Rp={title:Fp.NAME,attributes:{title:Fp.NAME,titleTagShow:!0,titleTagColor:{r:221,g:221,b:221,a:1},bordered:!0,size:"middle",hidden:!1},styles:{backgroundColor:{r:255,g:255,b:255,a:1},_style:":root {\n    \n}"},animations:{},events:{}},Bp={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",variable:!0,formItemProps:{label:"\u6807\u9898",name:["attributes","title"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u6807\u9898\u989c\u8272\u5757",name:["attributes","titleTagShow"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"ColorPicker",variable:!0,formItemProps:{label:"\u6807\u9898\u5757\u989c\u8272",name:["attributes","titleTagColor"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u663e\u793a\u8fb9\u6846",name:["attributes","bordered"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5c3a\u5bf8",name:["attributes","size"]},props:{options:[{label:"\u9ed8\u8ba4",value:"middle"},{label:"\u5927",value:"large"},{label:"\u5c0f",value:"small"}]}}]},(0,cd.createCommonOptionFunc)({moduleType:Fp.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Fp.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Fp.MODULE_TYPE})};const Vp={type:Fp.TYPE,moduleType:Fp.MODULE_TYPE,name:Fp.NAME,icon:Fp.ICON,data:Rp,control:Bp,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Np,Setting:tc,createFunc:function(){const e=Ap.uuid(Fp.MODULE_TYPE+"_"),t={type:Fp.TYPE,moduleType:Fp.MODULE_TYPE,moduleId:e,name:Fp.NAME,data:Rp,children:[Mc.createFunc({name:Fp.NAME+"\u5185\u90e8\u5bb9\u5668"})]};return JSON.parse(JSON.stringify(t))}},Up=(0,ae.observer)((e=>{var t,n;const{XinScreenEditorModulesMap:o,XinCoverView:l,XinTypeView:a,XinChildrenView:i,XinModuleView:r,XinEmptyView:s,customData:d,variableStore:u,core:c,addFunc:m,getVariableValue:p,config:_}=(0,$.useContext)($r.f);return J().createElement(r,Object.assign({},e,{className:Z()([is.A[null===(t=e.module.data.attributes)||void 0===t?void 0:t.placement]]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:u}),position:p(null===(n=e.module.data.attributes)||void 0===n?void 0:n.position,e,{variableStore:u})}}),J().createElement(i,e))})),Yp=window.__app__,zp={TYPE:"\u5e03\u5c40\u7ec4\u4ef6",MODULE_TYPE:"float",NAME:"\u6d6e\u52a8\u5361\u7247",ICON:J().createElement(H.UploadOutlined,null)},jp={title:zp.NAME,attributes:{title:zp.NAME,placement:"leftTop",position:"absolute",hidden:!1},styles:{width:{value:300,unit:"px"},height:{value:300,unit:"px"},backgroundColor:{r:255,g:255,b:255,a:1},_style:":root {\n    \n}"},animations:{},events:{}},qp={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicSelect",formItemProps:{label:"\u6d6e\u52a8\u4f4d\u7f6e",name:["attributes","placement"]},props:{options:[{label:"\u5de6\u4fa7\u504f\u4e0a",value:"leftTop"},{label:"\u5de6\u4fa7\u5c45\u4e2d",value:"left"},{label:"\u5de6\u4fa7\u504f\u4e0b",value:"leftBottom"},{label:"\u53f3\u4fa7\u504f\u4e0a",value:"rightTop"},{label:"\u53f3\u4fa7\u5c45\u4e2d",value:"right"},{label:"\u53f3\u4fa7\u504f\u4e0b",value:"rightBottom"},{label:"\u9876\u90e8\u5c45\u4e2d",value:"top"},{label:"\u5e95\u90e8\u5c45\u4e2d",value:"bottom"}]}},{component:"BasicSelect",formItemProps:{label:"\u5b9a\u4f4d\u65b9\u5f0f",name:["attributes","position"]},props:{options:[{label:"\u76f8\u5bf9\u7236\u5143\u7d20\u5b9a\u4f4d",value:"absolute"},{label:"\u76f8\u5bf9\u5c4f\u5e55\u5b9a\u4f4d",value:"fixed"},{label:"\u7c98\u6027\u5b9a\u4f4d",value:"sticky"}]}}]},(0,cd.createCommonOptionFunc)({moduleType:zp.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:zp.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:zp.MODULE_TYPE})};const Xp={type:zp.TYPE,moduleType:zp.MODULE_TYPE,name:zp.NAME,icon:zp.ICON,data:jp,control:qp,config:{dragable:!0,insertable:!0,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Up,Setting:tc,createFunc:function(){const e=Yp.uuid(zp.MODULE_TYPE+"_"),t={type:zp.TYPE,moduleType:zp.MODULE_TYPE,moduleId:e,name:zp.NAME,data:jp,children:[]};return JSON.parse(JSON.stringify(t))}},Wp=window.__app__,Kp=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I;const{XinScreenEditorModulesMap:T,XinCoverView:C,XinTypeView:S,XinChildrenView:O,XinModuleView:P,editorStore:k,customData:D,variableStore:N,core:A,addFunc:L,getVariableValue:F,config:R}=(0,$.useContext)($r.f),{iconListMap:B}=Wp.get("datas.configs.work"),{createScriptContexts:V}=Wp.get("handles"),U=(0,$.useRef)(),[Y,z]=(0,$.useState)(F(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.defaultActiveKey,e,{variableStore:N})),j=F(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.items,e,{variableStore:N});(0,$.useEffect)((()=>{q()}),[]);const q=async()=>{var t,n,o,l,a,i;if(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||!o.script)return;const r=Wp.runScriptFunc(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.script);U.current=r},X=(0,$.useCallback)((e=>{z(e||0)}),[]);return J().createElement(P,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(null===(a=e.module.data)||void 0===a||null===(i=a.styles)||void 0===i?void 0:i.bodyStyle,e,{variableStore:N})},methods:[{label:"\u5207\u6362\u9762\u677f",value:"goTo",method:X,params:"0"}],exports:{activeKey:Y,activeValue:null===j||void 0===j||null===(r=j[Y])||void 0===r?void 0:r.value,activeLabel:null===j||void 0===j||null===(s=j[Y])||void 0===s?void 0:s.label}}),J().createElement(M.Tabs,{activeKey:Y,defaultActiveKey:F(null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.defaultActiveKey,e,{variableStore:N}),animated:F(null===(c=e.module.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.animated,e,{variableStore:N}),tabPosition:F(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.tabPosition,e,{variableStore:N}),centered:F(null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b?void 0:b.centered,e,{variableStore:N}),tabBarGutter:F(null===(f=e.module.data)||void 0===f||null===(E=f.attributes)||void 0===E?void 0:E.tabBarGutter,e,{variableStore:N}),type:F((null===(g=e.module.data)||void 0===g||null===(y=g.attributes)||void 0===y?void 0:y.type)||"line",e,{variableStore:N}),size:F(null===(h=e.module.data)||void 0===h||null===(x=h.attributes)||void 0===x?void 0:x.size,e,{variableStore:N})||"middle",tabBarStyle:{margin:0,...(0,cd.styleObjToStylesFunc)(null===(w=e.module.data)||void 0===w||null===(I=w.styles)||void 0===I?void 0:I.tabBarStyle,e,{variableStore:N})},items:null===j||void 0===j?void 0:j.map(((t,n)=>{var o,l,a,i,r,s,d,u,c;const m=t.icon?B[t.icon]:void 0,p=null===(o=e.module.children)||void 0===o?void 0:o["loop"===(null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.renderType)?0:n];return{label:t.label,key:n,icon:m&&J().createElement(m,null),children:J().createElement($.Fragment,{key:n},J().createElement(O.Item,Object.assign({},e,{module:p,contexts:{...e.contexts,parents:[...e.contexts.parents||[],e.module]},customContexts:{...e.customContexts||{},..."loop"===(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.renderType)?{[F(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.loopItemName,e,{variableStore:N})]:null===j||void 0===j?void 0:j[n],[F(null===(u=e.module.data)||void 0===u||null===(c=u.attributes)||void 0===c?void 0:c.loopIndexName,e,{variableStore:N})]:n}:{}}})))}})),onChange:t=>(async t=>{var n,o,l,a,i;z(t);const r={...V(),...k.contexts.moduleIns,...N.contexts,screenScripts:null===(n=e.contexts)||void 0===n?void 0:n.screenScripts};null===(o=U.current)||void 0===o||null===(l=o.onChange)||void 0===l||l.call(o,r,{activeKey:t,activeValue:null===j||void 0===j||null===(a=j[t])||void 0===a?void 0:a.value,activeLabel:null===j||void 0===j||null===(i=j[t])||void 0===i?void 0:i.label})})(t)}))})),$p=Kp,Jp=window.__app__,Hp={TYPE:"\u5e03\u5c40\u7ec4\u4ef6",MODULE_TYPE:"tabs",NAME:"\u9009\u9879\u5361",ICON:J().createElement(H.BuildOutlined,null)};function Gp(){const e=Jp.uuid("uid_");return{key:e,label:"\u9009\u9879",value:e,icon:void 0,destroyInactiveTabPane:!1,forceRender:!1}}const Qp={title:Hp.NAME,attributes:{animated:!1,centered:!1,tabPosition:"top",type:"line",defaultActiveKey:0,size:"middle",renderType:"basic",items:Array(2).fill(1).map((()=>Gp())),loopItemName:"item",loopIndexName:"index",script:"({\n  // \u8bf7\u6c42\u524d\u83b7\u53d6\u9644\u52a0\u53c2\u6570\n  onChange: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n\n  },\n})\n",hidden:!1},styles:{bodyStyle:{backgroundColor:{r:255,g:255,b:255,a:1},_style:":root {\n    \n}"},tabBarStyle:{_style:":root {\n    \n}"}},animations:{},events:{}},Zp={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicSelect",variable:!0,formItemProps:{label:"\u4f4d\u7f6e",name:["attributes","tabPosition"]},props:{options:[{label:"\u4e0a\u65b9",value:"top"},{label:"\u5de6\u4fa7",value:"left"},{label:"\u53f3\u4fa7",value:"right"},{label:"\u4e0b\u65b9",value:"bottom"}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5c3a\u5bf8",name:["attributes","size"]},props:{options:[{label:"\u5927",value:"large"},{label:"\u4e2d",value:"middle"},{label:"\u5c0f",value:"small"}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5f00\u542f\u52a8\u753b",name:["attributes","animated"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u662f\u5426\u5c45\u4e2d",name:["attributes","centered"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"InputAndSelect",variable:!0,formItemProps:{label:"\u95f4\u8ddd",name:["attributes","tabBarGutter"]},props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u6837\u5f0f",name:["attributes","type"]},props:{options:[{label:"\u5206\u9694\u7ebf\u6837\u5f0f",value:"line"},{label:"\u5361\u7247\u6837\u5f0f",value:"card"}]}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u5e03\u5c40\u7c7b\u578b",name:["attributes","renderType"],tooltip:"\u8bf7\u6ce8\u610f\uff0c\u5faa\u73af\u5e03\u5c40\u4e3a\u9ad8\u7ea7\u5e03\u5c40\u65b9\u5f0f\uff0c\u4e0d\u4e86\u89e3\u7684\u60c5\u51b5\u4e0b\u8bf7\u52ff\u4f7f\u7528\uff01"},props:{options:[{label:"\u666e\u901a\u5e03\u5c40",value:"basic"},{label:"\u5faa\u73af\u5e03\u5c40",value:"loop"}]}},{hidden:e=>{var t,n,o;return"loop"===(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.renderType)},component:"SelectItemsIndex",formItemProps:{label:"\u5207\u6362Tab",tooltip:"\u4ec5\u5728\u7f16\u8f91\u6a21\u5f0f\u4e0b\u7528\u4e8e\u5207\u6362Tab\u4f7f\u7528"},props:{methodName:"goTo"}},{hidden:e=>{var t,n,o;return"loop"===(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.renderType)},component:"SelectFromItemsIndex",formItemProps:{label:"\u9ed8\u8ba4\u9879",name:["attributes","defaultActiveKey"]},variable:!0,props:{allowClear:!0,showSearch:!1}},{hidden:e=>{var t,n,o;return"loop"===(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.renderType)},component:"TabsItems",variable:!1,formItemProps:{label:"\u6807\u7b7e\u9879",name:["attributes","items"]}},{hidden:e=>{var t,n,o;return"loop"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.renderType)},component:"TabsItems",variable:!0,formItemProps:{label:"\u6807\u7b7e\u9879",name:["attributes","items"]}},{hidden:e=>{var t,n,o;return"loop"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.renderType)},component:"BasicInput",variable:!0,formItemProps:{label:"\u5faa\u73af\u5b57\u6bb5\u540d",name:["attributes","loopItemName"]}},{hidden:e=>{var t,n,o;return"loop"!==(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.renderType)},component:"BasicInput",variable:!0,formItemProps:{label:"\u5faa\u73af\u5e8f\u53f7\u540d",name:["attributes","loopIndexName"]}}]},(0,cd.createSeniorOptionFunc)({moduleType:Hp.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:Hp.MODULE_TYPE})],styles:{tabs:[{label:"\u6574\u4f53\u6837\u5f0f",value:"bodyStyle",stylePath:" > .ant-tabs > .ant-tabs-content-holder",styles:(0,cd.createStylesOptionFunc)({moduleType:Hp.MODULE_TYPE,names:["styles","bodyStyle"]})},{label:"TabBar\u6837\u5f0f",value:"tabBarStyle",stylePath:" > .ant-tabs > .ant-tabs-nav",styles:(0,cd.createStylesOptionFunc)({moduleType:Hp.MODULE_TYPE,names:["styles","tabBarStyle"]})}]},animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Hp.MODULE_TYPE})};const e_={type:Hp.TYPE,moduleType:Hp.MODULE_TYPE,name:Hp.NAME,icon:Hp.ICON,data:Qp,control:Zp,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:$p,Setting:tc,createFunc:function(){const e=Jp.uuid(Hp.MODULE_TYPE+"_"),t={type:Hp.TYPE,moduleType:Hp.MODULE_TYPE,moduleId:e,name:Hp.NAME,data:Qp,children:[Mc.createFunc({name:Hp.NAME+"\u5185\u90e8\u5bb9\u5668"}),Mc.createFunc({name:Hp.NAME+"\u5185\u90e8\u5bb9\u5668"})]};return JSON.parse(JSON.stringify(t))},funcs:{createItemFunc:Gp}},t_=window.__app__,n_=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C,S,O,P,k,D,N,A,L,F,R,B,V,U,Y,z,j,q,X,W,K,H,G,Q,ee,te,ne,oe,le,ae,ie,re,se,de,ue,ce,me,pe,_e,ve,be,fe,Ee,ge,ye,he,xe,we,Ie,Te,Ce;const{XinScreenEditorModulesMap:Se,XinCoverView:Oe,XinTypeView:Pe,XinChildrenView:Me,XinModuleView:ke,customData:De,setcustomData:Ne,editorStore:Ae,variableStore:Le,core:Fe,addFunc:Re,getVariableValue:Be,config:Ve}=(0,$.useContext)($r.f),{createScriptContexts:Ue}=t_.get("handles"),{iconListMap:Ye}=t_.get("datas.configs.work"),[ze,je]=(0,$.useState)(!1),[qe,Xe]=(0,$.useState)(!1),We=(0,$.useRef)(),Ke=null!==(t=e.module.data)&&void 0!==t&&null!==(n=t.attributes)&&void 0!==n&&null!==(o=n.button)&&void 0!==o&&o.icon?Ye[null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a||null===(i=a.button)||void 0===i?void 0:i.icon]:void 0;(0,$.useEffect)((()=>{$e()}),[]);const $e=async()=>{var t,n,o,l,a,i;if(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||!o.script)return;const r=t_.runScriptFunc(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.script);We.current=r},Je=e=>{je(!0)},He=(0,$.useCallback)((async t=>{var n;let o=!0;if(null!==(n=We.current)&&void 0!==n&&n.onOk){var l,a,i;Xe(!0);const t={...Ue(),...Ae.contexts.moduleIns,...Le.contexts,screenScripts:null===(l=e.contexts)||void 0===l?void 0:l.screenScripts};o=await(null===(a=We.current)||void 0===a||null===(i=a.onOk)||void 0===i?void 0:i.call(a,t,void 0)),Xe(!1)}o&&Ge()}),[]),Ge=(0,$.useCallback)((async t=>{var n;if(null!==(n=We.current)&&void 0!==n&&n.onCancel){var o,l,a;const t={...Ue(),...Ae.contexts.moduleIns,...Le.contexts,screenScripts:null===(o=e.contexts)||void 0===o?void 0:o.screenScripts};await(null===(l=We.current)||void 0===l||null===(a=l.onCancel)||void 0===a?void 0:a.call(l,t,void 0))}je(!1)}),[]),Qe=(0,$.useCallback)((async t=>{var n;if(null!==(n=We.current)&&void 0!==n&&n.afterOpenChange){var o,l,a;const n={...Ue(),...Ae.contexts.moduleIns,...Le.contexts,screenScripts:null===(o=e.contexts)||void 0===o?void 0:o.screenScripts};await(null===(l=We.current)||void 0===l||null===(a=l.afterOpenChange)||void 0===a?void 0:a.call(l,n,t))}}),[]);return J().createElement(ke,Object.assign({},e,{className:Z()([{[is.A.button_block]:Be(null===(r=e.module.data.attributes)||void 0===r||null===(s=r.button)||void 0===s?void 0:s.block,e,{variableStore:Le})}]),style:{},methods:[{label:"\u6253\u5f00\u5f39\u7a97",value:"open",method:Je,params:""},{label:"\u5173\u95ed\u5f39\u7a97",value:"close",method:Ge,params:""}]}),!Be(null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u||null===(c=u.button)||void 0===c?void 0:c.hidden,e,{variableStore:Le})&&J().createElement(M.Button,{className:is.A.modal_button,style:(0,cd.styleObjToStylesFunc)(null===(m=e.module.data)||void 0===m||null===(p=m.styles)||void 0===p?void 0:p.buttonStyle,e,{variableStore:Le}),type:Be(null===(_=e.module.data)||void 0===_||null===(v=_.attributes)||void 0===v||null===(b=v.button)||void 0===b?void 0:b.type,e,{variableStore:Le}),danger:Be(null===(f=e.module.data)||void 0===f||null===(E=f.attributes)||void 0===E||null===(g=E.button)||void 0===g?void 0:g.danger,e,{variableStore:Le}),ghost:Be(null===(y=e.module.data)||void 0===y||null===(h=y.attributes)||void 0===h||null===(x=h.button)||void 0===x?void 0:x.ghost,e,{variableStore:Le}),block:!0,href:(null===(w=e.module.data)||void 0===w||null===(I=w.attributes)||void 0===I||null===(T=I.button)||void 0===T?void 0:T.atag)&&Be(null===(C=e.module.data)||void 0===C||null===(S=C.attributes)||void 0===S||null===(O=S.button)||void 0===O?void 0:O.href,e,{variableStore:Le}),target:(null===(P=e.module.data)||void 0===P||null===(k=P.attributes)||void 0===k||null===(D=k.button)||void 0===D?void 0:D.atag)&&Be(null===(N=e.module.data)||void 0===N||null===(A=N.attributes)||void 0===A||null===(L=A.button)||void 0===L?void 0:L.target,e,{variableStore:Le}),icon:Ke&&J().createElement(Ke,null),size:Be(null===(F=e.module.data)||void 0===F||null===(R=F.attributes)||void 0===R||null===(B=R.button)||void 0===B?void 0:B.size,e,{variableStore:Le}),loading:Be(null===(V=e.module.data)||void 0===V||null===(U=V.attributes)||void 0===U||null===(Y=U.button)||void 0===Y?void 0:Y.loading,e,{variableStore:Le}),disabled:Be(null===(z=e.module.data)||void 0===z||null===(j=z.attributes)||void 0===j||null===(q=j.button)||void 0===q?void 0:q.disabled,e,{variableStore:Le}),onClick:Je},Be(null===(X=e.module.data)||void 0===X||null===(W=X.attributes)||void 0===W||null===(K=W.button)||void 0===K?void 0:K.content,e,{variableStore:Le})),J().createElement(M.Modal,{className:is.A.modal_content,title:Be(null===(H=e.module.data)||void 0===H||null===(G=H.attributes)||void 0===G||null===(Q=G.modal)||void 0===Q?void 0:Q.title,e,{variableStore:Le}),width:Be(null===(ee=e.module.data)||void 0===ee||null===(te=ee.attributes)||void 0===te||null===(ne=te.modal)||void 0===ne?void 0:ne.width,e,{variableStore:Le}),mask:Be(null===(oe=e.module.data)||void 0===oe||null===(le=oe.attributes)||void 0===le||null===(ae=le.modal)||void 0===ae?void 0:ae.mask,e,{variableStore:Le}),maskClosable:Be(null===(ie=e.module.data)||void 0===ie||null===(re=ie.attributes)||void 0===re||null===(se=re.modal)||void 0===se?void 0:se.maskClosable,e,{variableStore:Le}),destroyOnClose:!0,open:ze,afterOpenChange:Qe,zIndex:"editor"===(null===(de=e.contexts)||void 0===de?void 0:de.mode)?100:void 0,styles:{mask:{...(0,cd.styleObjToStylesFunc)(null===(ue=e.module.data)||void 0===ue||null===(ce=ue.styles)||void 0===ce?void 0:ce.maskStyle,e,{variableStore:Le}),zIndex:"editor"===(null===(me=e.contexts)||void 0===me?void 0:me.mode)?100:void 0},body:{...(0,cd.styleObjToStylesFunc)(null===(pe=e.module.data)||void 0===pe||null===(_e=pe.styles)||void 0===_e?void 0:_e.bodyStyle,e,{variableStore:Le})}},footer:Be(null===(ve=e.module.data)||void 0===ve||null===(be=ve.attributes)||void 0===be||null===(fe=be.modal)||void 0===fe?void 0:fe.footer,e,{variableStore:Le})&&J().createElement(M.Space,null,J().createElement(M.Button,{type:Be(null===(Ee=e.module.data)||void 0===Ee||null===(ge=Ee.attributes)||void 0===ge||null===(ye=ge.modal)||void 0===ye?void 0:ye.okType,e,{variableStore:Le}),loading:qe,onClick:He},Be(null===(he=e.module.data)||void 0===he||null===(xe=he.attributes)||void 0===xe||null===(we=xe.modal)||void 0===we?void 0:we.okText,e,{variableStore:Le})),J().createElement(M.Button,{type:"default",onClick:Ge},Be(null===(Ie=e.module.data)||void 0===Ie||null===(Te=Ie.attributes)||void 0===Te||null===(Ce=Te.modal)||void 0===Ce?void 0:Ce.cancelText,e,{variableStore:Le}))),onOk:He,onCancel:Ge},J().createElement(Me,e)))})),o_=window.__app__,l_={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"modal",NAME:"\u5f39\u7a97",ICON:J().createElement(H.CreditCardOutlined,null)},a_={title:l_.NAME,attributes:{button:{type:"default",danger:!1,ghost:!1,content:"\u5f39\u7a97\u6309\u94ae",size:"middle",atag:!1,href:void 0,block:!1,target:"_self",loading:!1,disabled:!1,hidden:!1},modal:{width:500,title:"\u6807\u9898",mask:!0,maskClosable:!0,footer:!0,okText:"\u786e\u5b9a",okType:"primary",cancelText:"\u53d6\u6d88"},script:"({\n  onOk: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n\n    // \u652f\u6301\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u6216\u8005\u8fd4\u56de\u5f02\u6b65Promise\u5bf9\u8c61\uff0c\u5f53\u503c\u6216\u8005Promise\u8fd4\u56de\u4e3a\u771f\uff0c\u5219\u6b63\u5e38\u5173\u95ed\u5f39\u7a97\u3002\n    // \u5982\u679c\u60a8\u60f3\u963b\u6b62\u5f39\u7a97\u5173\u95ed\uff0creturn false \u6216\u8005 Promise.resolve(false)\u5373\u53ef\u3002\n\n    return true\n  },\n  onCancel: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n\n    // \u6b64\u65b9\u6cd5\u5728\u5f39\u7a97\u5173\u95ed\u65f6\u8c03\u7528\uff0c\u987b\u4e3a\u540c\u6b65\u51fd\u6570\u3002\u53ef\u4ee5\u7528\u4e8e\u6e05\u7406\u5b9a\u65f6\u5668\u7b49\u3002\n\n  },\n  afterOpenChange: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u5f39\u7a97\u5f00\u5173\u72b6\u6001\n\n    // \u6253\u5f00\u548c\u5173\u95ed Modal \u65f6\u52a8\u753b\u7ed3\u675f\u540e\u7684\u56de\u8c03\u3002\u987b\u4e3a\u540c\u6b65\u51fd\u6570\u3002\n\n  },\n})\n",hidden:!1},styles:{buttonStyle:{},bodyStyle:{},maskStyle:{}},animations:{},events:{}},i_={attributes:[{title:"\u6309\u94ae\u5c5e\u6027",children:[...(0,cd.createButtonChildrenFunc)({moduleType:l_.MODULE_TYPE,names:["button"]}),{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u9690\u85cf\u6309\u94ae",name:["attributes","button","hidden"],tooltip:"\u4e3b\u8981\u7528\u4e8e\u7f16\u7a0b\u573a\u666f\uff0c\u901a\u8fc7\u4ee3\u7801\u76f4\u63a5\u8c03\u8d77\u5f39\u7a97\u6216\u62bd\u5c49\u7ec4\u4ef6\u3002"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},{title:"\u5f39\u7a97\u5c5e\u6027",children:[{component:"OpenModal",formItemProps:{label:"\u5f00\u5173\u63a7\u5236",tooltip:"\u7f16\u8f91\u6a21\u5f0f\u4e0b\u7528\u4e8e\u6253\u5f00\u5f39\u7a97"},props:{content:"\u6253\u5f00\u5f39\u7a97",methodName:"open"}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u6807\u9898",name:["attributes","modal","title"]}},{component:"InputAndSelect",variable:!0,formItemProps:{label:"\u5bbd\u5ea6",name:["attributes","modal","width"]},props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5c55\u793a\u906e\u7f69",name:["attributes","modal","mask"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u906e\u7f69\u5173\u95ed",name:["attributes","modal","maskClosable"],tooltip:"\u662f\u5426\u5141\u8bb8\u70b9\u51fb\u906e\u7f69\u5173\u95ed\u5f39\u7a97"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5c55\u793a\u5e95\u90e8",name:["attributes","modal","footer"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o,l;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&null!==(l=o.modal)&&void 0!==l&&l.footer)},component:"BasicInput",variable:!0,formItemProps:{label:"\u786e\u8ba4\u6587\u5b57",name:["attributes","modal","okText"]}},{hidden:e=>{var t,n,o,l;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&null!==(l=o.modal)&&void 0!==l&&l.footer)},component:"BasicSelect",variable:!0,formItemProps:{label:"\u786e\u8ba4\u6837\u5f0f",name:["attributes","modal","okType"]},props:{options:[{label:"\u9ed8\u8ba4",value:"default"},{label:"\u586b\u5145",value:"primary"},{label:"\u865a\u7ebf\u8fb9\u6846",value:"dashed"},{label:"\u94fe\u63a5",value:"link"},{label:"\u6587\u5b57",value:"text"},{label:"\u5e7d\u7075",value:"ghost"}]}},{hidden:e=>{var t,n,o,l;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&null!==(l=o.modal)&&void 0!==l&&l.footer)},component:"BasicInput",variable:!0,formItemProps:{label:"\u53d6\u6d88\u6587\u5b57",name:["attributes","modal","cancelText"]}}]},(0,cd.createSeniorOptionFunc)({moduleType:l_.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:l_.MODULE_TYPE})],styles:{tabs:[{label:"\u6309\u94ae\u6837\u5f0f",value:"buttonStyle",stylePath:" > .ant-btn",styles:(0,cd.createStylesOptionFunc)({moduleType:l_.MODULE_TYPE,names:["styles","buttonStyle"],exclude:["_style"]})},{label:"\u5185\u5bb9\u533a\u57df\u6837\u5f0f",value:"bodyStyle",stylePath:" > .ant-modal-content > .ant-modal-body",styles:(0,cd.createStylesOptionFunc)({moduleType:l_.MODULE_TYPE,names:["styles","bodyStyle"],exclude:["_style"]})},{label:"\u906e\u7f69\u6837\u5f0f",value:"maskStyle",stylePath:" > .ant-modal-content > .ant-modal-body",styles:(0,cd.createStylesOptionFunc)({moduleType:l_.MODULE_TYPE,names:["styles","maskStyle"],exclude:["_style"]})}]},animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:l_.MODULE_TYPE})};const r_={type:l_.TYPE,moduleType:l_.MODULE_TYPE,name:l_.NAME,icon:l_.ICON,data:a_,control:i_,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:n_,Setting:tc,createFunc:function(){const e=o_.uuid(l_.MODULE_TYPE+"_"),t={type:l_.TYPE,moduleType:l_.MODULE_TYPE,moduleId:e,name:l_.NAME,data:a_,children:[Mc.createFunc({name:l_.NAME+"\u5185\u90e8\u5bb9\u5668"})]};return JSON.parse(JSON.stringify(t))}},s_=window.__app__,d_=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C,S,O,P,k,D,N,A,L,F,R,B,V,U,Y,z,j,q,X,W,K,G,Q,ee,te,ne,oe,le,ae,ie,re,se,de,ue,ce,me,pe,_e,ve,be,fe,Ee,ge,ye,he,xe,we,Ie,Te,Ce,Se,Oe,Pe,Me,ke,De,Ne,Ae,Le,Fe,Re,Be,Ve,Ue,Ye;const{XinScreenEditorModulesMap:ze,XinCoverView:je,XinTypeView:qe,XinChildrenView:Xe,XinModuleView:We,customData:Ke,setcustomData:$e,editorStore:Je,variableStore:He,core:Ge,addFunc:Qe,getVariableValue:Ze,config:et}=(0,$.useContext)($r.f),{createScriptContexts:tt}=s_.get("handles"),{iconListMap:nt}=s_.get("datas.configs.work"),[ot,lt]=(0,$.useState)(!1),[at,it]=(0,$.useState)(!1),rt=(0,$.useRef)(),st=null!==(t=e.module.data)&&void 0!==t&&null!==(n=t.attributes)&&void 0!==n&&null!==(o=n.button)&&void 0!==o&&o.icon?nt[null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a||null===(i=a.button)||void 0===i?void 0:i.icon]:void 0;(0,$.useEffect)((()=>{dt()}),[]);const dt=async()=>{var t,n,o,l,a,i;if(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||!o.script)return;const r=s_.runScriptFunc(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.script);rt.current=r},ut=e=>{lt(!0)},ct=(0,$.useCallback)((async t=>{var n;let o=!0;if(null!==(n=rt.current)&&void 0!==n&&n.onOk){var l,a,i;it(!0);const t={...tt(),...Je.contexts.moduleIns,...He.contexts,screenScripts:null===(l=e.contexts)||void 0===l?void 0:l.screenScripts};o=await(null===(a=rt.current)||void 0===a||null===(i=a.onOk)||void 0===i?void 0:i.call(a,t,void 0)),it(!1)}o&&mt()}),[]),mt=(0,$.useCallback)((async t=>{var n;if(null!==(n=rt.current)&&void 0!==n&&n.onClose){var o,l,a;const t={...tt(),...Je.contexts.moduleIns,...He.contexts,screenScripts:null===(o=e.contexts)||void 0===o?void 0:o.screenScripts};await(null===(l=rt.current)||void 0===l||null===(a=l.onClose)||void 0===a?void 0:a.call(l,t,void 0))}lt(!1)}),[]),pt=(0,$.useCallback)((async t=>{var n;if(null!==(n=rt.current)&&void 0!==n&&n.afterOpenChange){var o,l,a;const n={...tt(),...Je.contexts.moduleIns,...He.contexts,screenScripts:null===(o=e.contexts)||void 0===o?void 0:o.screenScripts};await(null===(l=rt.current)||void 0===l||null===(a=l.afterOpenChange)||void 0===a?void 0:a.call(l,n,t))}}),[]),_t=Ze(null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s||null===(d=s.modal)||void 0===d?void 0:d.width,e,{variableStore:He}),vt=Ze(null===(u=e.module.data)||void 0===u||null===(c=u.attributes)||void 0===c||null===(m=c.modal)||void 0===m?void 0:m.height,e,{variableStore:He}),bt=Ze(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_||null===(v=_.modal)||void 0===v?void 0:v.placement,e,{variableStore:He});return J().createElement(We,Object.assign({},e,{className:Z()([{[is.A.button_block]:Ze(null===(b=e.module.data.attributes)||void 0===b||null===(f=b.button)||void 0===f?void 0:f.block,e,{variableStore:He})}]),style:{},methods:[{label:"\u6253\u5f00\u5f39\u7a97",value:"open",method:ut,params:""},{label:"\u5173\u95ed\u5f39\u7a97",value:"close",method:mt,params:""}]}),!Ze(null===(E=e.module.data)||void 0===E||null===(g=E.attributes)||void 0===g||null===(y=g.button)||void 0===y?void 0:y.hidden,e,{variableStore:He})&&J().createElement(M.Button,{className:is.A.drawer_button,style:(0,cd.styleObjToStylesFunc)(null===(h=e.module.data)||void 0===h||null===(x=h.styles)||void 0===x?void 0:x.buttonStyle,e,{variableStore:He}),type:Ze(null===(w=e.module.data)||void 0===w||null===(I=w.attributes)||void 0===I||null===(T=I.button)||void 0===T?void 0:T.type,e,{variableStore:He}),danger:Ze(null===(C=e.module.data)||void 0===C||null===(S=C.attributes)||void 0===S||null===(O=S.button)||void 0===O?void 0:O.danger,e,{variableStore:He}),ghost:Ze(null===(P=e.module.data)||void 0===P||null===(k=P.attributes)||void 0===k||null===(D=k.button)||void 0===D?void 0:D.ghost,e,{variableStore:He}),block:!0,href:(null===(N=e.module.data)||void 0===N||null===(A=N.attributes)||void 0===A||null===(L=A.button)||void 0===L?void 0:L.atag)&&Ze(null===(F=e.module.data)||void 0===F||null===(R=F.attributes)||void 0===R||null===(B=R.button)||void 0===B?void 0:B.href,e,{variableStore:He}),target:(null===(V=e.module.data)||void 0===V||null===(U=V.attributes)||void 0===U||null===(Y=U.button)||void 0===Y?void 0:Y.atag)&&Ze(null===(z=e.module.data)||void 0===z||null===(j=z.attributes)||void 0===j||null===(q=j.button)||void 0===q?void 0:q.target,e,{variableStore:He}),icon:st&&J().createElement(st,null),size:Ze(null===(X=e.module.data)||void 0===X||null===(W=X.attributes)||void 0===W||null===(K=W.button)||void 0===K?void 0:K.size,e,{variableStore:He}),loading:Ze(null===(G=e.module.data)||void 0===G||null===(Q=G.attributes)||void 0===Q||null===(ee=Q.button)||void 0===ee?void 0:ee.loading,e,{variableStore:He}),disabled:Ze(null===(te=e.module.data)||void 0===te||null===(ne=te.attributes)||void 0===ne||null===(oe=ne.button)||void 0===oe?void 0:oe.disabled,e,{variableStore:He}),onClick:ut},Ze(null===(le=e.module.data)||void 0===le||null===(ae=le.attributes)||void 0===ae||null===(ie=ae.button)||void 0===ie?void 0:ie.content,e,{variableStore:He})),J().createElement(M.Drawer,{className:is.A.drawer_content,title:Ze(null===(re=e.module.data)||void 0===re||null===(se=re.attributes)||void 0===se||null===(de=se.modal)||void 0===de?void 0:de.title,e,{variableStore:He}),width:["left","right"].includes(bt)?("auto"===(null===_t||void 0===_t?void 0:_t.unit)?"":(null===_t||void 0===_t?void 0:_t.value)||"")+((null===_t||void 0===_t?void 0:_t.unit)||""):void 0,height:["top","bottom"].includes(bt)?("auto"===(null===vt||void 0===vt?void 0:vt.unit)?"":(null===vt||void 0===vt?void 0:vt.value)||"")+((null===vt||void 0===vt?void 0:vt.unit)||""):void 0,mask:Ze(null===(ue=e.module.data)||void 0===ue||null===(ce=ue.attributes)||void 0===ce||null===(me=ce.modal)||void 0===me?void 0:me.mask,e,{variableStore:He}),maskClosable:Ze(null===(pe=e.module.data)||void 0===pe||null===(_e=pe.attributes)||void 0===_e||null===(ve=_e.modal)||void 0===ve?void 0:ve.maskClosable,e,{variableStore:He}),placement:bt,closeIcon:!1,extra:J().createElement(M.Space,{size:[10,10]},Ze(null===(be=e.module.data)||void 0===be||null===(fe=be.attributes)||void 0===fe||null===(Ee=fe.modal)||void 0===Ee?void 0:Ee.closable,e,{variableStore:He})&&J().createElement(M.Button,{type:"default",icon:J().createElement(H.CloseOutlined,null),onClick:e=>mt()})),destroyOnClose:!0,push:{distance:0},open:ot,afterOpenChange:pt,zIndex:"editor"===(null===(ge=e.contexts)||void 0===ge?void 0:ge.mode)?100:void 0,getContainer:"editor"===(null===(ye=e.contexts)||void 0===ye?void 0:ye.mode)?e=>document.querySelector("."+Es.editor_content):document.body,styles:{mask:{...(0,cd.styleObjToStylesFunc)(null===(he=e.module.data)||void 0===he||null===(xe=he.styles)||void 0===xe?void 0:xe.maskStyle,e,{variableStore:He}),zIndex:"editor"===(null===(we=e.contexts)||void 0===we?void 0:we.mode)?100:void 0},header:{...(0,cd.styleObjToStylesFunc)(null===(Ie=e.module.data)||void 0===Ie||null===(Te=Ie.styles)||void 0===Te?void 0:Te.headerStyle,e,{variableStore:He})},body:{...(0,cd.styleObjToStylesFunc)(null===(Ce=e.module.data)||void 0===Ce||null===(Se=Ce.styles)||void 0===Se?void 0:Se.bodyStyle,e,{variableStore:He})},footer:{...(0,cd.styleObjToStylesFunc)(null===(Oe=e.module.data)||void 0===Oe||null===(Pe=Oe.styles)||void 0===Pe?void 0:Pe.footerStyle,e,{variableStore:He})},wrapper:{}},footer:Ze(null===(Me=e.module.data)||void 0===Me||null===(ke=Me.attributes)||void 0===ke||null===(De=ke.modal)||void 0===De?void 0:De.footer,e,{variableStore:He})&&J().createElement(M.Space,null,J().createElement(M.Button,{type:Ze(null===(Ne=e.module.data)||void 0===Ne||null===(Ae=Ne.attributes)||void 0===Ae||null===(Le=Ae.modal)||void 0===Le?void 0:Le.okType,e,{variableStore:He}),loading:at,onClick:ct},Ze(null===(Fe=e.module.data)||void 0===Fe||null===(Re=Fe.attributes)||void 0===Re||null===(Be=Re.modal)||void 0===Be?void 0:Be.okText,e,{variableStore:He})),J().createElement(M.Button,{type:"default",onClick:mt},Ze(null===(Ve=e.module.data)||void 0===Ve||null===(Ue=Ve.attributes)||void 0===Ue||null===(Ye=Ue.modal)||void 0===Ye?void 0:Ye.cancelText,e,{variableStore:He}))),onOk:ct,onClose:mt},J().createElement(Xe,e)))})),u_=window.__app__,c_={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"drawer",NAME:"\u62bd\u5c49",ICON:J().createElement(H.CreditCardOutlined,null)},m_={title:c_.NAME,attributes:{button:{type:"default",danger:!1,content:"\u62bd\u5c49\u6309\u94ae",size:"middle",atag:!1,href:void 0,block:!1,ghost:!1,target:"_self",loading:!1,disabled:!1,hidden:!1},modal:{width:{value:370,unit:"px"},height:{value:370,unit:"px"},title:"\u6807\u9898",mask:!0,maskClosable:!0,placement:"right",footer:!0,closable:!0,okText:"\u786e\u5b9a",okType:"primary",cancelText:"\u53d6\u6d88"},script:"({\n  onOk: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n\n    // \u652f\u6301\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u6216\u8005\u8fd4\u56de\u5f02\u6b65Promise\u5bf9\u8c61\uff0c\u5f53\u503c\u6216\u8005Promise\u8fd4\u56de\u4e3a\u771f\uff0c\u5219\u6b63\u5e38\u5173\u95ed\u62bd\u5c49\u3002\n    // \u5982\u679c\u60a8\u60f3\u963b\u6b62\u62bd\u5c49\u5173\u95ed\uff0creturn false \u6216\u8005 Promise.resolve(false)\u5373\u53ef\u3002\n\n    return true\n  },\n  onClose: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n\n    // \u6b64\u65b9\u6cd5\u5728\u62bd\u5c49\u5173\u95ed\u65f6\u8c03\u7528\uff0c\u987b\u4e3a\u540c\u6b65\u51fd\u6570\u3002\u53ef\u4ee5\u7528\u4e8e\u6e05\u7406\u5b9a\u65f6\u5668\u7b49\u3002\n\n  },\n  afterOpenChange: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u62bd\u5c49\u5f00\u5173\u72b6\u6001\n\n    // \u6253\u5f00\u548c\u5173\u95ed Modal \u65f6\u52a8\u753b\u7ed3\u675f\u540e\u7684\u56de\u8c03\u3002\u987b\u4e3a\u540c\u6b65\u51fd\u6570\u3002\n\n  },\n})\n",hidden:!1},styles:{buttonStyle:{},headerStyle:{},bodyStyle:{},footerStyle:{},maskStyle:{}},animations:{},events:{}},p_={attributes:[{title:"\u6309\u94ae\u5c5e\u6027",children:[...(0,cd.createButtonChildrenFunc)({moduleType:c_.MODULE_TYPE,names:["button"]}),{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u9690\u85cf\u6309\u94ae",name:["attributes","button","hidden"],tooltip:"\u4e3b\u8981\u7528\u4e8e\u7f16\u7a0b\u573a\u666f\uff0c\u901a\u8fc7\u4ee3\u7801\u76f4\u63a5\u8c03\u8d77\u5f39\u7a97\u6216\u62bd\u5c49\u7ec4\u4ef6\u3002"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},{title:"\u62bd\u5c49\u5c5e\u6027",children:[{component:"OpenModal",formItemProps:{label:"\u5f00\u5173\u63a7\u5236",tooltip:"\u7f16\u8f91\u6a21\u5f0f\u4e0b\u7528\u4e8e\u6253\u5f00\u62bd\u5c49"},props:{content:"\u6253\u5f00\u62bd\u5c49",methodName:"open"}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u6807\u9898",name:["attributes","modal","title"]}},{hidden:e=>{var t,n,o,l;return["top","bottom"].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(l=o.modal)||void 0===l?void 0:l.placement)},component:"SizeAndUnit",variable:!0,formItemProps:{label:"\u5bbd\u5ea6",name:["attributes","modal","width"]}},{hidden:e=>{var t,n,o,l;return["left","right"].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(l=o.modal)||void 0===l?void 0:l.placement)},component:"SizeAndUnit",variable:!0,formItemProps:{label:"\u9ad8\u5ea6",name:["attributes","modal","height"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5c55\u793a\u906e\u7f69",name:["attributes","modal","mask"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u906e\u7f69\u5173\u95ed",name:["attributes","modal","maskClosable"],tooltip:"\u662f\u5426\u5141\u8bb8\u70b9\u51fb\u906e\u7f69\u5173\u95ed\u62bd\u5c49"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5173\u95ed\u6309\u94ae",name:["attributes","modal","closable"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u62bd\u5c49\u65b9\u5411",name:["attributes","modal","placement"]},props:{options:[{label:"\u9876\u90e8\u5f39\u51fa",value:"top"},{label:"\u5de6\u4fa7\u5f39\u51fa",value:"left"},{label:"\u53f3\u4fa7\u5f39\u51fa",value:"right"},{label:"\u5e95\u90e8\u5f39\u51fa",value:"bottom"}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5c55\u793a\u5e95\u90e8",name:["attributes","modal","footer"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o,l;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&null!==(l=o.modal)&&void 0!==l&&l.footer)},component:"BasicInput",variable:!0,formItemProps:{label:"\u786e\u8ba4\u6587\u5b57",name:["attributes","modal","okText"]}},{hidden:e=>{var t,n,o,l;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&null!==(l=o.modal)&&void 0!==l&&l.footer)},component:"BasicSelect",variable:!0,formItemProps:{label:"\u786e\u8ba4\u6837\u5f0f",name:["attributes","modal","okType"]},props:{options:[{label:"\u9ed8\u8ba4",value:"default"},{label:"\u586b\u5145",value:"primary"},{label:"\u865a\u7ebf\u8fb9\u6846",value:"dashed"},{label:"\u94fe\u63a5",value:"link"},{label:"\u6587\u5b57",value:"text"},{label:"\u5e7d\u7075",value:"ghost"}]}},{hidden:e=>{var t,n,o,l;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&null!==(l=o.modal)&&void 0!==l&&l.footer)},component:"BasicInput",variable:!0,formItemProps:{label:"\u53d6\u6d88\u6587\u5b57",name:["attributes","modal","cancelText"]}}]},(0,cd.createSeniorOptionFunc)({moduleType:c_.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:c_.MODULE_TYPE})],styles:{tabs:[{label:"\u6309\u94ae",value:"buttonStyle",stylePath:" > .ant-btn",styles:(0,cd.createStylesOptionFunc)({moduleType:c_.MODULE_TYPE,names:["styles","buttonStyle"],exclude:["_style"]})},{label:"\u5934\u90e8",value:"headerStyle",stylePath:" > .ant-drawer-content-wrapper > .ant-drawer-content > .ant-drawer-header",styles:(0,cd.createStylesOptionFunc)({moduleType:c_.MODULE_TYPE,names:["styles","headerStyle"],exclude:["_style"]})},{label:"\u5185\u5bb9",value:"bodyStyle",stylePath:" > .ant-drawer-content-wrapper > .ant-drawer-content > .ant-drawer-body",styles:(0,cd.createStylesOptionFunc)({moduleType:c_.MODULE_TYPE,names:["styles","bodyStyle"],exclude:["_style"]})},{label:"\u5e95\u90e8",value:"footerStyle",stylePath:" > .ant-drawer-content-wrapper > .ant-drawer-content > .ant-drawer-body",styles:(0,cd.createStylesOptionFunc)({moduleType:c_.MODULE_TYPE,names:["styles","footerStyle"],exclude:["_style"]})},{label:"\u906e\u7f69",value:"maskStyle",stylePath:" > .ant-drawer-content-wrapper > .ant-drawer-content > .ant-drawer-mask",styles:(0,cd.createStylesOptionFunc)({moduleType:c_.MODULE_TYPE,names:["styles","maskStyle"],exclude:["_style"]})}]},animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:c_.MODULE_TYPE})};const __={type:c_.TYPE,moduleType:c_.MODULE_TYPE,name:c_.NAME,icon:c_.ICON,data:m_,control:p_,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:d_,Setting:tc,createFunc:function(){const e=u_.uuid(c_.MODULE_TYPE+"_"),t={type:c_.TYPE,moduleType:c_.MODULE_TYPE,moduleId:e,name:c_.NAME,data:m_,children:[Mc.createFunc({name:c_.NAME+"\u5185\u90e8\u5bb9\u5668"})]};return JSON.parse(JSON.stringify(t))}},v_=window.__app__,b_=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C,S,O,P,k,D,N,A,L,F,R,B,V,U,Y,z,j,q,X,W,K,H,G,Q,ee,te,ne,oe,le,ae,ie,re,se,de,ue;const{XinScreenEditorModulesMap:ce,XinCoverView:me,XinTypeView:pe,XinChildrenView:_e,XinModuleView:ve,customData:be,setcustomData:fe,editorStore:Ee,variableStore:ge,core:ye,addFunc:he,getVariableValue:xe,config:we}=(0,$.useContext)($r.f),{createScriptContexts:Ie}=v_.get("handles"),{iconListMap:Te}=v_.get("datas.configs.work"),[Ce,Se]=(0,$.useState)(!1),Oe=(0,$.useRef)(),Pe=null!==(t=e.module.data)&&void 0!==t&&null!==(n=t.attributes)&&void 0!==n&&null!==(o=n.button)&&void 0!==o&&o.icon?Te[null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a||null===(i=a.button)||void 0===i?void 0:i.icon]:void 0;(0,$.useEffect)((()=>{Me()}),[]);const Me=async()=>{var t,n,o,l,a,i;if(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||!o.script)return;const r=v_.runScriptFunc(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.script);Oe.current=r},ke=(0,$.useCallback)((async t=>{var n;if(null!==(n=Oe.current)&&void 0!==n&&n.onOpenChange){var o,l,a;const n={...Ie(),...Ee.contexts.moduleIns,...ge.contexts,screenScripts:null===(o=e.contexts)||void 0===o?void 0:o.screenScripts};await(null===(l=Oe.current)||void 0===l||null===(a=l.onOpenChange)||void 0===a?void 0:a.call(l,n,t))}Se(t)}),[]);return J().createElement(ve,Object.assign({},e,{className:Z()([{[is.A.button_block]:xe(null===(r=e.module.data.attributes)||void 0===r||null===(s=r.button)||void 0===s?void 0:s.block,e,{variableStore:ge})}]),style:{},methods:[{label:"\u6253\u5f00\u6c14\u6ce1\u5361\u7247",value:"open",method:e=>{Se(!0)},params:""}]}),J().createElement(M.Popover,{trigger:xe(null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u||null===(c=u.modal)||void 0===c?void 0:c.trigger,e,{variableStore:ge}),placement:xe(null===(m=e.module.data)||void 0===m||null===(p=m.attributes)||void 0===p||null===(_=p.modal)||void 0===_?void 0:_.placement,e,{variableStore:ge}),title:xe(null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b||null===(f=b.modal)||void 0===f?void 0:f.title,e,{variableStore:ge}),content:J().createElement(_e,e),fresh:!0,destroyTooltipOnHide:!0,open:Ce,zIndex:"editor"===(null===(E=e.contexts)||void 0===E?void 0:E.mode)?100:void 0,overlayStyle:{...(0,cd.styleObjToStylesFunc)(null===(g=e.module.data)||void 0===g||null===(y=g.styles)||void 0===y?void 0:y.overlayStyle,e,{variableStore:ge}),width:xe(null===(h=e.module.data)||void 0===h||null===(x=h.attributes)||void 0===x||null===(w=x.modal)||void 0===w?void 0:w.width,e,{variableStore:ge})},overlayInnerStyle:{...(0,cd.styleObjToStylesFunc)(null===(I=e.module.data)||void 0===I||null===(T=I.styles)||void 0===T?void 0:T.overlayInnerStyle,e,{variableStore:ge})},onOpenChange:ke},J().createElement(M.Button,{className:is.A.popover_button,style:(0,cd.styleObjToStylesFunc)(null===(C=e.module.data)||void 0===C||null===(S=C.styles)||void 0===S?void 0:S.buttonStyle,e,{variableStore:ge}),type:xe(null===(O=e.module.data)||void 0===O||null===(P=O.attributes)||void 0===P||null===(k=P.button)||void 0===k?void 0:k.type,e,{variableStore:ge}),danger:xe(null===(D=e.module.data)||void 0===D||null===(N=D.attributes)||void 0===N||null===(A=N.button)||void 0===A?void 0:A.danger,e,{variableStore:ge}),ghost:xe(null===(L=e.module.data)||void 0===L||null===(F=L.attributes)||void 0===F||null===(R=F.button)||void 0===R?void 0:R.ghost,e,{variableStore:ge}),block:!0,href:(null===(B=e.module.data)||void 0===B||null===(V=B.attributes)||void 0===V||null===(U=V.button)||void 0===U?void 0:U.atag)&&xe(null===(Y=e.module.data)||void 0===Y||null===(z=Y.attributes)||void 0===z||null===(j=z.button)||void 0===j?void 0:j.href,e,{variableStore:ge}),target:(null===(q=e.module.data)||void 0===q||null===(X=q.attributes)||void 0===X||null===(W=X.button)||void 0===W?void 0:W.atag)&&xe(null===(K=e.module.data)||void 0===K||null===(H=K.attributes)||void 0===H||null===(G=H.button)||void 0===G?void 0:G.target,e,{variableStore:ge}),icon:Pe&&J().createElement(Pe,null),size:xe(null===(Q=e.module.data)||void 0===Q||null===(ee=Q.attributes)||void 0===ee||null===(te=ee.button)||void 0===te?void 0:te.size,e,{variableStore:ge}),loading:xe(null===(ne=e.module.data)||void 0===ne||null===(oe=ne.attributes)||void 0===oe||null===(le=oe.button)||void 0===le?void 0:le.loading,e,{variableStore:ge}),disabled:xe(null===(ae=e.module.data)||void 0===ae||null===(ie=ae.attributes)||void 0===ie||null===(re=ie.button)||void 0===re?void 0:re.disabled,e,{variableStore:ge})},xe(null===(se=e.module.data)||void 0===se||null===(de=se.attributes)||void 0===de||null===(ue=de.button)||void 0===ue?void 0:ue.content,e,{variableStore:ge}))))})),f_=window.__app__;function E_(e){const t=f_.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-duihuaqipao"})}const g_={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"popover",NAME:"\u6c14\u6ce1\u5361\u7247",ICON:J().createElement(E_,null)},y_={title:g_.NAME,attributes:{button:{type:"default",danger:!1,ghost:!1,content:"\u6c14\u6ce1\u5361\u7247\u6309\u94ae",size:"middle",atag:!1,icon:void 0,href:void 0,block:!1,target:"_self",loading:!1,disabled:!1,hidden:!1},modal:{width:400,title:"\u6807\u9898",placement:"top",trigger:["click"]},script:"({\n  onOpenChange: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u6c14\u6ce1\u5361\u7247\u5f53\u524d\u663e\u793a\u72b6\u6001\n\n    // \u6253\u5f00\u548c\u5173\u95ed\u6c14\u6ce1\u5361\u7247\u7684\u56de\u8c03\u3002\u987b\u4e3a\u540c\u6b65\u51fd\u6570\u3002\n\n  },\n})\n",hidden:!1},styles:{buttonStyle:{},overlayStyle:{},overlayInnerStyle:{}},animations:{},events:{}},h_={attributes:[{title:"\u6309\u94ae\u5c5e\u6027",children:[...(0,cd.createButtonChildrenFunc)({moduleType:g_.MODULE_TYPE,names:["button"]})]},{title:"\u6c14\u6ce1\u5c5e\u6027",children:[{component:"OpenModal",formItemProps:{label:"\u5f00\u5173\u63a7\u5236",tooltip:"\u7f16\u8f91\u6a21\u5f0f\u4e0b\u7528\u4e8e\u6253\u5f00\u6c14\u6ce1\u5361\u7247"},props:{content:"\u6253\u5f00\u6c14\u6ce1\u5361\u7247",methodName:"open"}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u6807\u9898",name:["attributes","modal","title"]}},{component:"InputAndSelect",variable:!0,formItemProps:{label:"\u5bbd\u5ea6",name:["attributes","modal","width"]},props:{selectDefaultValue:"px",selectOptions:[{label:"px",value:"px"}]}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u6c14\u6ce1\u4f4d\u7f6e",name:["attributes","modal","placement"]},props:{options:[{label:"\u4e0a\u65b9",value:"top"},{label:"\u5de6\u4fa7",value:"left"},{label:"\u53f3\u4fa7",value:"right"},{label:"\u4e0b\u65b9",value:"bottom"},{label:"\u4e0a\u65b9\u504f\u5de6",value:"topLeft"},{label:"\u4e0a\u65b9\u504f\u53f3",value:"topRight"},{label:"\u4e0b\u65b9\u504f\u5de6",value:"bottomLeft"},{label:"\u4e0b\u65b9\u504f\u53f3",value:"bottomRight"},{label:"\u5de6\u4fa7\u504f\u4e0a",value:"leftTop"},{label:"\u5de6\u4fa7\u504f\u4e0b",value:"leftBottom"},{label:"\u53f3\u4fa7\u504f\u4e0a",value:"rightTop"},{label:"\u53f3\u4fa7\u504f\u4e0b",value:"rightBottom"}]}},{component:"ButtonCheckboxGroup",variable:!0,formItemProps:{label:"\u89e6\u53d1\u65b9\u5f0f",name:["attributes","modal","trigger"]},props:{options:[{label:"\u60ac\u505c (hover)",value:"hover",icon:J().createElement(H.BorderBottomOutlined,null)},{label:"\u70b9\u51fb (click)",value:"click",icon:J().createElement(H.BorderInnerOutlined,null)},{label:"\u805a\u7126 (focus)",value:"focus",icon:J().createElement(H.BorderOuterOutlined,null)},{label:"\u53f3\u952e (contextMenu)",value:"contextMenu",icon:J().createElement(H.MenuUnfoldOutlined,null)}]}}]},(0,cd.createSeniorOptionFunc)({moduleType:g_.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:g_.MODULE_TYPE})],styles:{tabs:[{label:"\u6309\u94ae",value:"buttonStyle",styles:(0,cd.createStylesOptionFunc)({moduleType:g_.MODULE_TYPE,names:["styles","buttonStyle"],exclude:["_style"]})},{label:"\u5361\u7247",value:"overlayStyle",styles:(0,cd.createStylesOptionFunc)({moduleType:g_.MODULE_TYPE,names:["styles","overlayStyle"],exclude:["_style"]})},{label:"\u5185\u5bb9\u533a\u57df",value:"overlayInnerStyle",styles:(0,cd.createStylesOptionFunc)({moduleType:g_.MODULE_TYPE,names:["styles","overlayInnerStyle"],exclude:["_style"]})}]},animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:g_.MODULE_TYPE})};const x_={type:g_.TYPE,moduleType:g_.MODULE_TYPE,name:g_.NAME,icon:g_.ICON,data:y_,control:h_,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:b_,Setting:tc,createFunc:function(){const e=f_.uuid(g_.MODULE_TYPE+"_"),t={type:g_.TYPE,moduleType:g_.MODULE_TYPE,moduleId:e,name:g_.NAME,data:y_,children:[Mc.createFunc({name:g_.NAME+"\u5185\u90e8\u5bb9\u5668"})]};return JSON.parse(JSON.stringify(t))}},w_=(0,ae.observer)((e=>{var t,n,o,l,a,i;const{XinScreenEditorModulesMap:r,XinCoverView:s,XinTypeView:d,XinModuleView:u,XinChildrenView:c,XinEmptyView:m,customData:p,variableStore:_,core:v,addFunc:b,getVariableValue:f,config:E}=(0,$.useContext)($r.f);return J().createElement(u,Object.assign({},e,{className:Z()([{[is.A.button_block]:f(null===(t=e.module.data.attributes)||void 0===t?void 0:t.block,e,{variableStore:_})}]),style:{},real_element:" > .".concat(is.A.link_block_content)}),J().createElement("a",{className:Z()([is.A.link_block_content,f(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.className,e,{variableStore:_})]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:_})},href:"editor"===(null===(l=e.contexts)||void 0===l?void 0:l.mode)?void 0:f(null===(a=e.module.data.attributes)||void 0===a?void 0:a.href,e,{variableStore:_}),target:f(null===(i=e.module.data.attributes)||void 0===i?void 0:i.target,e,{variableStore:_})},J().createElement(c,e)))})),I_=window.__app__;function T_(e){const t=I_.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-lianjie"})}const C_={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"linkBlock",NAME:"\u94fe\u63a5\u5757",ICON:J().createElement(T_,null)},S_={title:C_.NAME,attributes:{linkType:"url",href:void 0,target:"_self",block:!0,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},O_={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u94fe\u63a5\u7c7b\u578b",name:["attributes","linkType"]},props:{options:[{label:"\u5185\u90e8\u9875\u9762",value:"page"},{label:"\u7f51\u7edc\u94fe\u63a5",value:"url"}]}},{component:"LinkHref",variable:!0,formItemProps:{label:"\u94fe\u63a5",name:["attributes","href"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u6253\u5f00\u65b9\u5f0f",name:["attributes","target"]},props:{options:[{label:"\u5f53\u524d\u9875\u9762",value:"_self"},{label:"\u65b0\u9875\u9762",value:"_blank"}]}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u7236\u7ea7\u540c\u5bbd",name:["attributes","block"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},(0,cd.createCommonOptionFunc)({moduleType:C_.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:C_.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:C_.MODULE_TYPE})};const P_={type:C_.TYPE,moduleType:C_.MODULE_TYPE,name:C_.NAME,icon:C_.ICON,data:S_,control:O_,config:{dragable:!0,insertable:!0,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:w_,Setting:tc,createFunc:function(){const e=I_.uuid(C_.MODULE_TYPE+"_"),t={type:C_.TYPE,moduleType:C_.MODULE_TYPE,moduleId:e,name:C_.NAME,data:S_,children:[]};return JSON.parse(JSON.stringify(t))}},M_=(0,ae.observer)((e=>{var t,n,o;const{XinScreenEditorModulesMap:l,XinCoverView:a,XinTypeView:i,XinModuleView:r,customData:s,variableStore:d,core:u,addFunc:c,getVariableValue:m,config:p}=(0,$.useContext)($r.f);return J().createElement(r,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.description_content)}),J().createElement("div",{className:Z()([is.A.description_content,m(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.className,e,{variableStore:d})]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:d})},dangerouslySetInnerHTML:{__html:m(null===(o=e.module.data.attributes)||void 0===o?void 0:o.content,e,{variableStore:d})}}))})),k_=window.__app__,D_={TYPE:"\u9ad8\u7ea7\u7ec4\u4ef6",MODULE_TYPE:"description",NAME:"\u56fe\u6587\u5c55\u793a",ICON:J().createElement(H.PicRightOutlined,null)},N_={title:D_.NAME,attributes:{content:D_.NAME,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},A_={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RichTextModal",variable:!0,formItemProps:{label:"\u5185\u5bb9",name:["attributes","content"]},props:{}}]},(0,cd.createCommonOptionFunc)({moduleType:D_.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:D_.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:D_.MODULE_TYPE})};const L_={type:D_.TYPE,moduleType:D_.MODULE_TYPE,name:D_.NAME,icon:D_.ICON,data:N_,control:A_,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:M_,Setting:tc,createFunc:function(){const e=k_.uuid(D_.MODULE_TYPE+"_"),t={type:D_.TYPE,moduleType:D_.MODULE_TYPE,moduleId:e,name:D_.NAME,data:N_};return JSON.parse(JSON.stringify(t))}},F_=window.__app__,R_=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g;const{XinScreenEditorModulesMap:y,XinCoverView:h,XinTypeView:x,XinChildrenView:w,XinModuleView:I,customData:T,setcustomData:C,editorStore:S,variableStore:O,core:P,addFunc:k,getVariableValue:D,config:N}=(0,$.useContext)($r.f),A=D(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.color,e,{variableStore:O}),L=D(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.bgColor,e,{variableStore:O});return J().createElement(I,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(null===(a=e.module.data)||void 0===a?void 0:a.styles,e,{variableStore:O})}}),J().createElement(M.QRCode,{value:D(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.value,e,{variableStore:O}),color:A&&"rgba(".concat(A.r,", ").concat(A.g,", ").concat(A.b,", ").concat(A.a||1,")"),bgColor:L&&"rgba(".concat(L.r,", ").concat(L.g,", ").concat(L.b,", ").concat(L.a||1,")"),size:D(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.size,e,{variableStore:O}),icon:null===(u=(c=F_.handles).resourceUrl)||void 0===u?void 0:u.call(c,D(null===(m=e.module.data)||void 0===m||null===(p=m.attributes)||void 0===p?void 0:p.icon,e,{variableStore:O})),iconSize:D(null===(_=e.module.data)||void 0===_||null===(v=_.attributes)||void 0===v?void 0:v.iconSize,e,{variableStore:O}),bordered:D(null===(b=e.module.data)||void 0===b||null===(f=b.attributes)||void 0===f?void 0:f.bordered,e,{variableStore:O}),errorLevel:D(null===(E=e.module.data)||void 0===E||null===(g=E.attributes)||void 0===g?void 0:g.errorLevel,e,{variableStore:O})}))})),B_=window.__app__,V_={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"qrcode",NAME:"\u4e8c\u7ef4\u7801",ICON:J().createElement(H.QrcodeOutlined,null)},U_={title:V_.NAME,attributes:{value:"https://www.baidu.com",size:160,icon:void 0,iconSize:40,color:{r:0,g:0,b:0,a:1},bgColor:{r:255,g:255,b:255,a:0},bordered:!0,errorLevel:"M",hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},Y_={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",variable:!0,formItemProps:{label:"\u626b\u63cf\u5185\u5bb9",name:["attributes","value"],tooltip:"\u53ef\u4ee5\u662f\u7f51\u5740\uff0c\u4e5f\u53ef\u4ee5\u662f\u6587\u5b57\u5185\u5bb9\uff0c\u4f46\u4e0d\u5b9c\u8fc7\u957f\u3002"}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u5927\u5c0f",name:["attributes","size"]},props:{min:0,step:10}},{component:"ImageChoose",variable:!0,formItemProps:{label:"\u4e2d\u5fc3\u56fe\u7247",name:["attributes","icon"]},props:{}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u56fe\u7247\u5927\u5c0f",name:["attributes","iconSize"]},props:{min:0,step:5}},{component:"ColorPicker",variable:!0,formItemProps:{label:"\u989c\u8272",name:["attributes","color"]}},{component:"ColorPicker",variable:!0,formItemProps:{label:"\u80cc\u666f\u989c\u8272",name:["attributes","bgColor"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u7ea0\u9519\u7b49\u7ea7",name:["attributes","errorLevel"]},props:{options:[{label:"\u4f4e\u7ea7",value:"M"},{label:"\u4e2d\u7ea7",value:"Q"},{label:"\u9ad8\u7ea7",value:"H"}]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u663e\u793a\u8fb9\u6846",name:["attributes","bordered"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},(0,cd.createCommonOptionFunc)({moduleType:V_.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:V_.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:V_.MODULE_TYPE})};const z_={type:V_.TYPE,moduleType:V_.MODULE_TYPE,name:V_.NAME,icon:V_.ICON,data:U_,control:Y_,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:R_,Setting:tc,createFunc:function(){const e=B_.uuid(V_.MODULE_TYPE+"_"),t={type:V_.TYPE,moduleType:V_.MODULE_TYPE,moduleId:e,name:V_.NAME,data:U_};return JSON.parse(JSON.stringify(t))}},j_=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C,S,O,P,k,D,N,A,L,F,R,B,V,U;const{XinScreenEditorModulesMap:Y,XinCoverView:z,XinTypeView:j,XinChildrenView:q,XinModuleView:X,customData:W,setcustomData:K,editorStore:H,variableStore:G,core:Q,addFunc:ee,getVariableValue:te,config:ne}=(0,$.useContext)($r.f);return J().createElement(X,Object.assign({},e,{className:Z()([te(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.className,e,{variableStore:G})]),style:{display:"line"===(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.type)&&"block"}}),J().createElement(M.Progress,Object.assign({type:te(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.type,e,{variableStore:G}),percent:te(null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.percent,e,{variableStore:G}),showInfo:te(null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.showInfo,e,{variableStore:G}),strokeLinecap:te(null===(c=e.module.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.strokeLinecap,e,{variableStore:G}),strokeColor:(0,cd.getColor)(te(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.strokeColor,e,{variableStore:G})),trailColor:(0,cd.getColor)(te(null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b?void 0:b.trailColor,e,{variableStore:G})),style:(0,cd.styleObjToStylesFunc)(null===(f=e.module.data)||void 0===f?void 0:f.styles,e,{variableStore:G})},"circle"===(null===(E=e.module.data)||void 0===E||null===(g=E.attributes)||void 0===g?void 0:g.type)?{strokeWidth:te((null===(y=e.module.data)||void 0===y||null===(h=y.attributes)||void 0===h?void 0:h.strokeWidth)||1,e,{variableStore:G}),size:te(null===(x=e.module.data)||void 0===x||null===(w=x.attributes)||void 0===w?void 0:w.size,e,{variableStore:G})}:{},"line"===(null===(I=e.module.data)||void 0===I||null===(T=I.attributes)||void 0===T?void 0:T.type)?{steps:te(null===(C=e.module.data)||void 0===C||null===(S=C.attributes)||void 0===S?void 0:S.steps,e,{variableStore:G}),size:[void 0,te((null===(O=e.module.data)||void 0===O||null===(P=O.attributes)||void 0===P?void 0:P.strokeWidth)||1,e,{variableStore:G})]}:{},"dashboard"===(null===(k=e.module.data)||void 0===k||null===(D=k.attributes)||void 0===D?void 0:D.type)?{gapDegree:te(null===(N=e.module.data)||void 0===N||null===(A=N.attributes)||void 0===A?void 0:A.gapDegree,e,{variableStore:G}),gapPosition:te(null===(L=e.module.data)||void 0===L||null===(F=L.attributes)||void 0===F?void 0:F.gapPosition,e,{variableStore:G}),strokeWidth:te((null===(R=e.module.data)||void 0===R||null===(B=R.attributes)||void 0===B?void 0:B.strokeWidth)||1,e,{variableStore:G}),size:te(null===(V=e.module.data)||void 0===V||null===(U=V.attributes)||void 0===U?void 0:U.size,e,{variableStore:G})}:{})))})),q_=window.__app__,X_={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"progress",NAME:"\u8fdb\u5ea6",ICON:J().createElement(H.HistoryOutlined,null)},W_={title:X_.NAME,attributes:{type:"circle",percent:0,showInfo:!0,strokeColor:void 0,trailColor:void 0,steps:void 0,strokeLinecap:"round",gapDegree:75,gapPosition:"bottom",size:100,strokeWidth:6,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},K_={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicSelect",variable:!1,formItemProps:{label:"\u7c7b\u578b",name:["attributes","type"]},props:{options:[{label:"\u8fdb\u5ea6\u73af",value:"circle"},{label:"\u8fdb\u5ea6\u7ebf",value:"line"},{label:"\u4eea\u8868\u76d8",value:"dashboard"}]}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u767e\u5206\u6bd4",name:["attributes","percent"],props:{suffix:"%",max:100,min:0,step:1}}},{component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u8fdb\u5ea6\u4fe1\u606f",name:["attributes","showInfo"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"ColorPicker",variable:!0,formItemProps:{label:"\u8fdb\u5ea6\u989c\u8272",name:["attributes","strokeColor"]}},{component:"ColorPicker",variable:!0,formItemProps:{label:"\u8fdb\u5ea6\u5e95\u8272",name:["attributes","trailColor"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u8fdb\u5ea6\u6761\u6837\u5f0f",name:["attributes","strokeLinecap"]},props:{options:[{label:"\u5706\u5f62",value:"round"},{label:"\u5bf9\u63a5\u53e3",value:"butt"}]}},{hidden:e=>{var t,n;return!["circle","dashboard"].includes(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.type)},component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u5927\u5c0f",name:["attributes","size"]},props:{min:2,step:1}},{hidden:e=>{var t,n;return!["dashboard"].includes(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.type)},component:"BasicInputNumber",variable:!1,formItemProps:{label:"\u4eea\u8868\u76d8\u7f3a\u53e3",name:["attributes","gapDegree"]},props:{min:0,max:295,step:1}},{hidden:e=>{var t,n;return!["dashboard"].includes(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.type)},component:"RadioButtonGroupInLine",variable:!1,formItemProps:{label:"\u7f3a\u53e3\u4f4d\u7f6e",name:["attributes","gapPosition"]},props:{options:[{label:"\u4e0a",value:"top"},{label:"\u4e0b",value:"bottom"},{label:"\u5de6",value:"left"},{label:"\u53f3",value:"right"}]}},{hidden:e=>{var t,n;return!["line"].includes(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.type)},component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u6b65\u6570",name:["attributes","steps"]},props:{min:2,step:1}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u8fdb\u5ea6\u6761\u5bbd\u5ea6",name:["attributes","strokeWidth"]},props:{min:1,step:1}}]},(0,cd.createCommonOptionFunc)({moduleType:X_.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:X_.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:X_.MODULE_TYPE})};const $_={type:X_.TYPE,moduleType:X_.MODULE_TYPE,name:X_.NAME,icon:X_.ICON,data:W_,control:K_,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:j_,Setting:tc,createFunc:function(){const e=q_.uuid(X_.MODULE_TYPE+"_"),t={type:X_.TYPE,moduleType:X_.MODULE_TYPE,moduleId:e,name:X_.NAME,data:W_};return JSON.parse(JSON.stringify(t))}},J_=window.__app__,H_=(0,ae.observer)((e=>{var t,n,o,l,a,i,r;const{XinScreenEditorModulesMap:s,XinCoverView:d,XinTypeView:u,XinModuleView:c,customData:m,variableStore:p,core:_,addFunc:v,getVariableValue:b,config:f}=(0,$.useContext)($r.f),E=J_.get("modules.formEditor.FormView"),g=(0,$.useRef)(),[y,h]=(0,$.useState)(!1),[x,w]=(0,$.useState)(),[I,T]=(0,$.useState)("create"),C=(0,$.useMemo)((()=>{const e=((null===x||void 0===x?void 0:x.fields)||[]).map((e=>[e.moduleId,e.data.attributes[I+"Permission"]||[]]));return Object.fromEntries(e)}),[null===x||void 0===x?void 0:x.fields]);(0,$.useEffect)((()=>{var t;(null===(t=e.module.data.attributes)||void 0===t?void 0:t.table_id)&&S()}),[null===(t=e.module.data.attributes)||void 0===t?void 0:t.table_id]);const S=async()=>{var t;h(!0);const n=await J_.xrequest.post("/api/core/table/detail",{_id:null===(t=e.module.data.attributes)||void 0===t?void 0:t.table_id});h(!1),w(null===n||void 0===n?void 0:n.data)},O=(0,$.useCallback)((()=>{var e,t;return null===(e=g.current)||void 0===e||null===(t=e.form)||void 0===t?void 0:t.getFieldsValue()}),[]),P=(0,$.useCallback)((()=>{var e,t;return null===(e=g.current)||void 0===e||null===(t=e.form)||void 0===t?void 0:t.setFieldsValue()}),[]),k=(0,$.useCallback)((()=>{var e,t;return null===(e=g.current)||void 0===e||null===(t=e.form)||void 0===t?void 0:t.validateFields()}),[]),D=(0,$.useCallback)((e=>{var t;null===e||void 0===e||e(null===(t=g.current)||void 0===t?void 0:t.form)}),[]),N=b(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.initialValues,e,{variableStore:p});return J().createElement(c,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.screenQuote_content),methods:[{label:"\u8868\u5355\u53d6\u503c",value:"getFieldsValue",method:O,params:""},{label:"\u8868\u5355\u8d4b\u503c",value:"setFieldsValue",method:P,params:""},{label:"\u8868\u5355\u6821\u9a8c",value:"validateFields",method:k,params:""},{label:"\u8868\u5355\u64cd\u4f5c",value:"form",method:D,params:"function (form) {\n            // \u6b64\u5904\u7f16\u5199\u4ee3\u7801\n            console.log(form)\n          }"}]}),J().createElement("div",{className:Z()([is.A.screenQuote_content,b(null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.className,e,{variableStore:p}),{[is.A.none_event]:"editor"===(null===(i=e.contexts)||void 0===i?void 0:i.mode)}]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:p})}},J().createElement(M.Spin,{spinning:y,size:"default"},null!==x&&void 0!==x&&x.fields?J().createElement(E,{ref:g,_id:null===(r=e.module.data.attributes)||void 0===r?void 0:r.table_id,scene:I,customData:(null===x||void 0===x?void 0:x.fields)||[],initialValues:N,record:void 0,permissions:C}):J().createElement("div",{style:{padding:10}},J().createElement(M.Empty,{imageStyle:{height:60},description:J().createElement("span",{style:{color:"#888888"}},"\u8bf7\u9009\u62e9\u9700\u8981\u5f15\u7528\u7684\u6570\u636e\u8868")})))))})),G_=window.__app__,Q_={TYPE:"\u8868\u5355\u7ec4\u4ef6",MODULE_TYPE:"formQuote",NAME:"\u8868\u5355\u5f15\u7528",FULL_NAME:"\u8868\u5355\u5f15\u7528",ICON:J().createElement(H.DiffOutlined,null)},Z_={title:Q_.NAME,attributes:{table_id:void 0,initialValues:void 0,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},ev={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"TableTreeSelect",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","table_id"]},props:{moduleType:Q_.MODULE_TYPE}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u8868\u5355\u521d\u59cb\u503c",name:["attributes","initialValues"]},props:{readOnly:!0,placeholder:"\u8bf7\u7ed1\u5b9a\u53d8\u91cf"}}]},(0,cd.createCommonOptionFunc)({moduleType:Q_.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Q_.MODULE_TYPE,names:["styles"],exclude:["_style"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Q_.MODULE_TYPE})};const tv={type:Q_.TYPE,moduleType:Q_.MODULE_TYPE,name:Q_.NAME,fullName:Q_.FULL_NAME,icon:Q_.ICON,data:Z_,control:ev,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0,buttonExclude:["formSenior"]},View:H_,Setting:tc,createFunc:function(){const e=G_.uuid(Q_.MODULE_TYPE+"_"),t={type:Q_.TYPE,moduleType:Q_.MODULE_TYPE,moduleId:e,name:Q_.NAME,data:Z_};return JSON.parse(JSON.stringify(t))}},nv=window.__app__,ov=(0,ae.observer)((e=>{const t=nv.get("contexts.app"),n=nv.get("modules.formEditor.modules"),o=nv.get("modules.components.basicCommon"),{XinCoverView:l,XinModuleView:a}=nv.get("modules.formEditor.core"),{FormEditorContext:i}=nv.get("modules.formEditor.contexts");return J().createElement(i.Provider,{value:{XinFormEditorModulesMap:n,XinCoverView:l,XinModuleView:a,XinCommon:o,values:e.values,config:{mode:"view",deviceType:t.deviceType}}},e.children)})),lv=ov,av=window.__app__,iv=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v;av.get("modules.formEditor.modules"),av.get("modules.formEditor.form"),av.get("modules.formEditor.table");const{XinScreenEditorModulesMap:b,XinCoverView:f,XinTypeView:E,XinModuleView:g,XinChildrenView:y,customData:h,editorStore:x,variableStore:w,core:I,addFunc:T,getVariableValue:C,config:S}=(0,$.useContext)($r.f),[O]=M.Form.useForm(),[P,k]=(0,$.useState)(null===(t=e.customContexts)||void 0===t?void 0:t.initialValues),[D,N]=(0,$.useState)(!1),[A,L]=(0,$.useState)();(0,$.useEffect)((()=>{!async function(){var t,n,o,l;if(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n||!n.table_id)return;N(!0);const a=await av.xrequest.post("/api/core/table/detail",{_id:null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.table_id});N(!1),L(null===a||void 0===a?void 0:a.data)}()}),[null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.table_id]),(0,$.useEffect)((()=>{x.setseniorForm(O)}),[O]);const F=(0,$.useMemo)((()=>{var t,n;return(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.scene)||S.scene}),[null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.scene,S.scene]);const R=(0,$.useCallback)((e=>null===O||void 0===O?void 0:O.getFieldsValue(e)),[]),B=(0,$.useCallback)((e=>(k(e),null===O||void 0===O?void 0:O.setFieldsValue(e))),[]),V=(0,$.useCallback)((e=>null===O||void 0===O?void 0:O.validateFields(e)),[]),U=(0,$.useCallback)((e=>{null===e||void 0===e||e(O)}),[]);return J().createElement(g,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(null===(i=e.module.data)||void 0===i?void 0:i.styles,e,{variableStore:w})},methods:[{label:"\u8868\u5355\u53d6\u503c",value:"getFieldsValue",method:R,params:""},{label:"\u8868\u5355\u8d4b\u503c",value:"setFieldsValue",method:B,params:""},{label:"\u8868\u5355\u6821\u9a8c",value:"validateFields",method:V,params:""},{label:"\u8868\u5355\u64cd\u4f5c",value:"form",method:U,params:"function (form) {\n            // \u6b64\u5904\u7f16\u5199\u4ee3\u7801\n            console.log(form)\n          }"}],exports:{values:P}}),J().createElement(lv,{values:P},J().createElement($r.s.Provider,{value:{data:e.module.data,tableInfo:A,scene:F,form:O,values:P,setvalues:k}},J().createElement(M.Form,{form:O,layout:C(null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.layout,e,{variableStore:w}),colon:C(null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.colon,e,{variableStore:w}),labelAlign:C(null===(c=e.module.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.labelAlign,e,{variableStore:w}),style:{width:"100%"},initialValues:C(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.initialValues,e,{variableStore:w})||(null===(v=e.customContexts)||void 0===v?void 0:v.initialValues),onValuesChange:(e,t)=>function(e){k({...e})}(t)},J().createElement(y,Object.assign({},e,{customContexts:{...e.customContexts||{},scene:F,values:Object.fromEntries(((null===A||void 0===A?void 0:A.fields)||[]).map((e=>[e.moduleId,null===P||void 0===P?void 0:P[e.moduleId]])))}}))))))})),rv=(window.__app__,{TYPE:"\u8868\u5355\u7ec4\u4ef6",MODULE_TYPE:"formSenior",NAME:"\u9ad8\u7ea7\u8868\u5355",FULL_NAME:"\u9ad8\u7ea7\u8868\u5355",ICON:J().createElement(H.GroupOutlined,null)}),sv={title:rv.NAME,attributes:{colon:!0,table_id:void 0,scene:void 0,initialValues:void 0,labelAlign:"right",layout:"vertical",hidden:!1},styles:{backgroundColor:{r:255,g:255,b:255,a:1},padding:{top:15,right:15,bottom:15,left:15},_style:":root {\n\n}"},animations:{},events:{}},dv={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{exportAttribute:!0,component:"TableTreeSelect",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","table_id"]},props:{moduleType:rv.MODULE_TYPE}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u4f7f\u7528\u573a\u666f",name:["attributes","scene"],tooltip:"\u5f53\u524d\u8868\u5355\u5982\u679c\u786e\u5b9a\u5728\u5982\u4e0b\u67d0\u79cd\u573a\u666f\u4f7f\u7528\uff0c\u8bf7\u9009\u62e9\uff1b\u5982\u679c\u65b0\u589e\u548c\u8be6\u60c5\u90fd\u9700\u4f7f\u7528\u6b64\u8868\u5355\uff0c\u8bf7\u6e05\u7a7a\u9009\u62e9\u3002"},props:{options:[{label:"\u65b0\u589e\u4f7f\u7528",value:"create"},{label:"\u7f16\u8f91\u4f7f\u7528",value:"edit"},{label:"\u8be6\u60c5\u4f7f\u7528",value:"detail"}],allowClear:!0}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u8868\u5355\u521d\u59cb\u503c",name:["attributes","initialValues"]},props:{readOnly:!0,placeholder:"\u8bf7\u7ed1\u5b9a\u53d8\u91cf"}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u5e03\u5c40",name:["attributes","layout"]},props:{options:[{label:"\u6c34\u5e73",value:"horizontal"},{label:"\u5782\u76f4",value:"vertical"},{label:"\u884c\u5185",value:"inline"}]}},{hidden:e=>{var t,n,o;return["vertical"].includes(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.layout)},component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u663e\u793a\u5192\u53f7",name:["attributes","colon"],tooltip:"\u6c34\u5e73\u5e03\u5c40\u7684\u65f6\u5019\u751f\u6548"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u6807\u7b7e\u4f4d\u7f6e",name:["attributes","labelAlign"],tooltip:"\u6c34\u5e73\u5e03\u5c40\u7684\u65f6\u5019\u751f\u6548"},props:{options:[{label:"\u5de6\u5bf9\u9f50",value:"left"},{label:"\u53f3\u5bf9\u9f50",value:"right"}]}}]},(0,cd.createCommonOptionFunc)({moduleType:rv.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:rv.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:rv.MODULE_TYPE})},uv={type:rv.TYPE,moduleType:rv.MODULE_TYPE,name:rv.NAME,fullName:rv.FULL_NAME,icon:rv.ICON,data:sv,control:dv,View:iv,Setting:tc,funcs:{}},cv=window.__app__,mv="\u8868\u5355\u7ec4\u4ef6",pv="formSenior",_v="\u9ad8\u7ea7\u8868\u5355";H.GroupOutlined;const vv={...uv,moduleType:pv,config:{dragable:!1,insertable:!0,removeable:!1,copyable:!1,componentable:!1,display:"block",button:!1},createFunc:function(){const e=cv.uuid(pv+"_"),t={type:mv,moduleType:pv,moduleId:e,name:_v,data:uv.data,children:[]};return JSON.parse(JSON.stringify(t))}},bv=window.__app__,fv="\u8868\u5355\u7ec4\u4ef6",Ev="screenFormSenior",gv="\u9ad8\u7ea7\u8868\u5355";H.GroupOutlined;const yv={...uv,moduleType:Ev,config:{dragable:!0,insertable:!0,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},createFunc:function(){const e=bv.uuid(Ev+"_"),t={type:fv,moduleType:Ev,moduleId:e,name:gv,data:uv.data,children:[]};return JSON.parse(JSON.stringify(t))}},hv=window.__app__,xv=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s;const d=hv.get("modules.formEditor.modules"),{XinScreenEditorModulesMap:u,XinCoverView:c,XinTypeView:m,XinModuleView:p,XinChildrenView:_,config:v}=(0,$.useContext)($r.f),b=(0,$.useContext)($r.s),f=(0,$.useMemo)((()=>{var t,n,o;const l=(null===(t=b.tableInfo)||void 0===t?void 0:t.fields)||[],a=null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.field;let[i]=l.filter((e=>e.moduleId===a));return i&&(i=JSON.parse(JSON.stringify(i)),i.data.attributes.span=24),i}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.field,b.tableInfo]),E=(0,$.useMemo)((()=>{var e,t;return(null===(e=b.data)||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.scene)||v.scene}),[null===(o=b.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.scene,v.scene]),g=(0,$.useMemo)((()=>d[null===f||void 0===f?void 0:f.moduleType]||void 0),[null===f||void 0===f?void 0:f.moduleType]),y=(0,$.useMemo)((()=>{if(e.contexts.formSeniorPermissions)return e.contexts.formSeniorPermissions[null===f||void 0===f?void 0:f.moduleId];{let e;var t,n;if("create"===E)e=(null===f||void 0===f||null===(t=f.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n[E+"Permission"])||[];else if("edit"===E){var o,l;e=(null===f||void 0===f||null===(o=f.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l[E+"Permission"])||[]}else if("detail"===E){var a,i;e=((null===f||void 0===f||null===(a=f.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i[E+"Permission"])||[]).concat(["readOnly"])}else e=["readOnly"];return e}}),[E,f]);return J().createElement(p,Object.assign({},e,{className:Z()([]),style:{}}),g&&f?J().createElement(g.View,{key:null===f||void 0===f?void 0:f.moduleId,module:f,control:g.control,contexts:{form:b.form,scene:E,moduleValue:b[null===f||void 0===f?void 0:f.moduleId],setvalues:b.setvalues,record:null===(a=e.customContexts)||void 0===a?void 0:a.record},customContexts:{...e.customContexts||{}},funcs:g.funcs,permissions:y}):"editor"===(null===(i=e.contexts)||void 0===i?void 0:i.mode)&&J().createElement(J().Fragment,null,null!==(r=e.module.data)&&void 0!==r&&null!==(s=r.attributes)&&void 0!==s&&s.field?J().createElement("div",{className:Z()([is.A.common_text,is.A.delete_text])},"\u5173\u8054\u5b57\u6bb5\u5b9a\u4e49\u4e22\u5931\uff0c\u8bf7\u786e\u8ba4\u8be5\u5b57\u6bb5\u662f\u5426\u5df2\u7ecf\u5728\u6570\u636e\u8868\u4e2d\u5220\u9664\uff1f"):J().createElement("div",{className:Z()([is.A.common_text,is.A.choose_text])},"\u8bf7\u9009\u62e9\u5173\u8054\u5b57\u6bb5")))})),wv=window.__app__,Iv={TYPE:"\u8868\u5355\u7ec4\u4ef6",MODULE_TYPE:"formSeniorItem",NAME:"\u8868\u5355\u9879",FULL_NAME:"\u9ad8\u7ea7\u8868\u5355\xb7\u8868\u5355\u9879",ICON:J().createElement(H.UngroupOutlined,null)},Tv={title:Iv.NAME,attributes:{field:void 0,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},Cv={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"FormSeniorItemField",formItemProps:{label:"\u5173\u8054\u5b57\u6bb5",name:["attributes","field"]}}]},(0,cd.createCommonOptionFunc)({moduleType:Iv.MODULE_TYPE})],events:[]};const Sv={type:Iv.TYPE,moduleType:Iv.MODULE_TYPE,name:Iv.NAME,fullName:Iv.FULL_NAME,icon:Iv.ICON,data:Tv,control:Cv,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:xv,Setting:tc,funcs:{},createFunc:function(){const e=wv.uuid(Iv.MODULE_TYPE+"_"),t={type:Iv.TYPE,moduleType:Iv.MODULE_TYPE,moduleId:e,name:Iv.NAME,data:Tv};return JSON.parse(JSON.stringify(t))}},Ov=window.__app__,Pv=(0,ae.observer)((e=>{var t,n,o,l,a,i;const r=Ov.get("modules.formEditor.form"),s=Ov.get("modules.formEditor.table"),{XinScreenEditorModulesMap:d,XinCoverView:u,XinTypeView:c,XinModuleView:m,XinChildrenView:p,customData:_,editorStore:v,variableStore:b,core:f,addFunc:E,getVariableValue:g,config:y}=(0,$.useContext)($r.f),{createScriptContexts:h}=Ov.get("handles"),x=(0,$.useContext)($r.s),w=(0,$.useRef)();(0,$.useEffect)((()=>{I()}),[]);const I=async()=>{var t,n,o,l,a,i;if(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||!o.script)return;const r=Ov.runScriptFunc(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.script);w.current=r},T=async t=>{var n;const o={...h(),...v.contexts.moduleIns,...b.contexts,screenScripts:null===(n=e.contexts)||void 0===n?void 0:n.screenScripts};var l,a;t?null===(l=w.current)||void 0===l||l.onSuccess(o,t):null===(a=w.current)||void 0===a||a.onError(o,t)};return"detail"!==x.scene&&"workflowDetail"!==e.contexts.formSeniorScene&&J().createElement(m,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(null===(t=e.module.data)||void 0===t?void 0:t.styles,e,{variableStore:b}),textAlign:(null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.align)||"center"}}),J().createElement(M.Space,null,null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a||null===(i=a.actions)||void 0===i?void 0:i.filter((e=>e.status)).map(((t,n)=>{var o,l;const a=r[t.component],i=s.CustomScriptButtonView;return"admin"===t.type?a&&J().createElement($.Fragment,{key:n},J().createElement(a,{buttonProps:{type:"blue"===t.color?"primary":"default",danger:"red"===t.color},confirmProps:{},scene:x.scene,onResult:T,options:t,tableShow_formSeniorModal:e.contexts.tableShow_formSeniorModal,tableInfo:x.tableInfo,recordInfo:null===(o=e.customContexts)||void 0===o?void 0:o.record,form:x.form},t.title)):J().createElement($.Fragment,{key:n},J().createElement(i,{buttonProps:{type:"blue"===t.color?"primary":"default",danger:"red"===t.color},scene:x.scene,options:t,tableShow_formSeniorModal:e.contexts.tableShow_formSeniorModal,tableInfo:x.tableInfo,recordInfo:null===(l=e.customContexts)||void 0===l?void 0:l.record,form:x.form},t.title))}))))})),Mv=window.__app__,kv={TYPE:"\u8868\u5355\u7ec4\u4ef6",MODULE_TYPE:"formSeniorAction",NAME:"\u64cd\u4f5c\u9879",FULL_NAME:"\u9ad8\u7ea7\u8868\u5355\xb7\u64cd\u4f5c\u9879",ICON:J().createElement(H.GatewayOutlined,null)};const Dv={title:kv.NAME,attributes:{actions:[],align:"center",script:"({\n  // \u63d0\u4ea4\u6210\u529f\u56de\u8c03\u51fd\u6570\n  onSuccess: function (contexts, data) {\n    // \u63d0\u4ea4\u6210\u529f\u56de\u8c03\u51fd\u6570\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n\n  },\n  onError: function (contexts, data) {\n    // \u63d0\u4ea4\u5931\u8d25\u56de\u8c03\u51fd\u6570\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n\n  },\n})\n",hidden:!1},styles:{},animations:{},events:{}},Nv={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"FormSeniorActions",formItemProps:{label:"\u64cd\u4f5c\u6309\u94ae",tooltip:"\u5bf9\u8868\u5355\u6570\u636e\u7684\u64cd\u4f5c",name:["attributes","actions"]},props:{scene:"formSeniorActions"}},{component:"BasicSelect",variable:!1,formItemProps:{label:"\u5bf9\u9f50\u65b9\u5f0f",name:["attributes","align"],tooltip:"\u64cd\u4f5c\u9879\u6309\u94ae\u7684\u5bf9\u9f50\u65b9\u5f0f"},props:{options:[{label:"\u5de6\u5bf9\u9f50",value:"left"},{label:"\u5c45\u4e2d\u5bf9\u9f50",value:"center"},{label:"\u53f3\u5bf9\u9f50",value:"right"}]}}]},(0,cd.createSeniorOptionFunc)({moduleType:kv.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:kv.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:kv.MODULE_TYPE,names:["styles"]}),events:[]};const Av={type:kv.TYPE,moduleType:kv.MODULE_TYPE,name:kv.NAME,fullName:kv.FULL_NAME,icon:kv.ICON,data:Dv,control:Nv,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!1,componentable:!0,display:"block",button:!0},View:Pv,Setting:tc,funcs:{createActionItemFunc:function(){return{key:Mv.uuid("uid_"),title:void 0,color:"white",confirm:!1,code:"\n({\n  main: function (contexts, data) {\n    // \u6b64\u5904\u7f16\u5199\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879\u4ee3\u7801\n\n    return\n  }\n})\n",type:"custom",status:!1}}},createFunc:function(){const e=Mv.uuid(kv.MODULE_TYPE+"_"),t={type:kv.TYPE,moduleType:kv.MODULE_TYPE,moduleId:e,name:kv.NAME,data:Dv};return JSON.parse(JSON.stringify(t))}},Lv=window.__app__,Fv=(0,ae.observer)((e=>{var t,n,o,l,a;const{XinScreenEditorModulesMap:i,XinCoverView:r,XinTypeView:s,XinModuleView:d,customData:u,variableStore:c,core:m,addFunc:p,getVariableValue:_,config:v}=(0,$.useContext)($r.f),b=(Lv.get("modules.components.basicWork"),Lv.get("modules.components.basicCommon")),f=(0,Wt.useLocation)(),E=new URLSearchParams(f.search);return(0,$.useEffect)((()=>{const e=E.get("_anchor");if(e){const t=document.getElementById(e);if(t){const e=t.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({behavior:"smooth",top:e})}}}),[f]),J().createElement(d,Object.assign({},e,{className:Z()([{[is.A.text_rows]:_(null===(t=e.module.data.attributes)||void 0===t?void 0:t.rows,e,{variableStore:c})}]),style:{WebkitLineClamp:_(null===(n=e.module.data.attributes)||void 0===n?void 0:n.rows,e,{variableStore:c})||"none",...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:c})},id:_(null===(o=e.module.data.attributes)||void 0===o?void 0:o.anchor,e,{variableStore:c})}),_(null===(l=e.module.data.attributes)||void 0===l?void 0:l.content,e,{variableStore:c}),J().createElement(b.ToolTip,{title:_(null===(a=e.module.data.attributes)||void 0===a?void 0:a.tooltip,e,{variableStore:c})}))})),Rv=window.__app__;function Bv(e){const t=Rv.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-wenzi_huaban1"})}const Vv={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"text",NAME:"\u6587\u672c",ICON:J().createElement(Bv,null)},Uv={title:Vv.NAME,attributes:{content:"\u6587\u672c\u5185\u5bb9",rows:0,tooltip:void 0,anchor:void 0,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},Yv={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicTextarea",variable:!0,formItemProps:{label:"\u6587\u672c\u5185\u5bb9",name:["attributes","content"]}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u8bf4\u660e",tooltip:"\u7ed9\u6587\u5b57\u6dfb\u52a0\u8bf4\u660e\uff0c\u9f20\u6807\u60ac\u6d6e\u5176\u4e0a\u663e\u793a",name:["attributes","tooltip"]}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u951a\u70b9\u5b9a\u4f4d",tooltip:"\u7ed9\u6807\u9898\u6dfb\u52a0\u951a\u70b9\uff0c\u70b9\u51fb\u540e\u9875\u9762\u6eda\u52a8\u5230\u6307\u5b9a\u4f4d\u7f6e",name:["attributes","anchor"]}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u6700\u5927\u884c\u6570",name:["attributes","rows"]},props:{min:0,step:1}}]},(0,cd.createCommonOptionFunc)({moduleType:Vv.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Vv.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Vv.MODULE_TYPE})};const zv={type:Vv.TYPE,moduleType:Vv.MODULE_TYPE,name:Vv.NAME,icon:Vv.ICON,data:Uv,control:Yv,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:Fv,Setting:tc,createFunc:function(){const e=Rv.uuid(Vv.MODULE_TYPE+"_"),t={type:Vv.TYPE,moduleType:Vv.MODULE_TYPE,moduleId:e,name:Vv.NAME,data:Uv};return JSON.parse(JSON.stringify(t))}},jv=window.__app__,qv=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I;const{XinScreenEditorModulesMap:T,XinCoverView:C,XinTypeView:S,XinModuleView:O,customData:P,variableStore:k,core:D,addFunc:N,getVariableValue:A,config:L}=(0,$.useContext)($r.f),[F,R]=(0,$.useState)(V()),B=J().createElement(M.Image,{className:Z()([is.A.image_img,A(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.className,e,{variableStore:k})]),style:{...(0,cd.styleObjToStylesFunc)(null===(o=e.module.data)||void 0===o||null===(l=o.styles)||void 0===l?void 0:l.imageStyle,e,{variableStore:k}),objectFit:A(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.objectFit,e,{variableStore:k})},preview:!!A(null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.preview,e,{variableStore:k})&&{destroyOnClose:!0},src:null===(d=(u=jv.handles).resourceUrl)||void 0===d?void 0:d.call(u,A(null===(c=e.module.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.url,e,{variableStore:k})),alt:A(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.alt,e,{variableStore:k})});function V(){var t,n;return A(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.groupCurrent,e,{variableStore:k})}return(0,$.useEffect)((()=>{const e=V();R(e)}),[null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b?void 0:b.groupCurrent]),J().createElement(O,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(null===(f=e.module.data)||void 0===f||null===(E=f.styles)||void 0===E?void 0:E.boxStyle,e,{variableStore:k})},real_element:""}),A(null===(g=e.module.data)||void 0===g||null===(y=g.attributes)||void 0===y?void 0:y.url,e,{variableStore:k})?A(null===(h=e.module.data)||void 0===h||null===(x=h.attributes)||void 0===x?void 0:x.previewGroup,e,{variableStore:k})?J().createElement(M.Image.PreviewGroup,{items:A((null===(w=e.module.data)||void 0===w||null===(I=w.attributes)||void 0===I?void 0:I.groupItems)||[],e,{variableStore:k}),preview:{current:F,destroyOnClose:!0,onChange:e=>{R(e)}}},B):B:J().createElement("div",{className:is.A.image_empty},J().createElement(H.PictureFilled,{style:{fontSize:"70px",color:"#cccccc"}})))})),Xv=window.__app__,Wv={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"image",NAME:"\u56fe\u7247",ICON:J().createElement(H.PictureOutlined,null)},Kv={title:Wv.NAME,attributes:{url:"",preview:!1,previewGroup:!1,groupItems:[],groupCurrent:void 0,alt:"",objectFit:"fill",hidden:!1},styles:{boxStyle:{width:{value:300,unit:"px"},_style:":root {\n\n}"},imageStyle:{_style:":root {\n\n}"}},animations:{},events:{}},$v={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"ImageChoose",variable:!0,formItemProps:{label:"\u56fe\u7247",name:["attributes","url"]},props:{}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u662f\u5426\u9884\u89c8",name:["attributes","preview"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.preview)},component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u76f8\u518c\u9884\u89c8",name:["attributes","previewGroup"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{hidden:e=>{var t,n,o;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.previewGroup)},component:"JsonObjectModal",variable:!0,formItemProps:{label:"\u76f8\u518c\u6570\u7ec4",name:["attributes","groupItems"]}},{hidden:e=>{var t,n,o;return!(null!==(t=e.module)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.previewGroup)},component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u9ed8\u8ba4\u9884\u89c8\u5e8f\u53f7",name:["attributes","groupCurrent"],tooltip:"\u6253\u5f00\u76f8\u518c\u9884\u89c8\u540e\uff0c\u9ed8\u8ba4\u5b9a\u4f4d\u5230\u7684\u5e8f\u53f7"}},{component:"BasicInput",variable:!0,formItemProps:{label:"\u66ff\u4ee3\u672c\u6587",name:["attributes","alt"]}},{component:"BasicSelect",variable:!0,formItemProps:{label:"\u586b\u5145\u65b9\u5f0f",name:["attributes","objectFit"]},props:{options:[{label:"\u62c9\u4f38\u586b\u5145(fill)",value:"fill"},{label:"\u7b49\u6bd4\u4f8b\u7f29\u5c0f(contain)",value:"contain"},{label:"\u7b49\u6bd4\u4f8b\u653e\u5927(cover)",value:"cover"},{label:"\u539f\u59cb\u5c3a\u5bf8(none)",value:"none"}],allowClear:!0}}]},(0,cd.createCommonOptionFunc)({moduleType:Wv.MODULE_TYPE})],styles:{tabs:[{label:"\u5bb9\u5668\u5c42\u6837\u5f0f",value:"boxStyle",stylePath:"",styles:(0,cd.createStylesOptionFunc)({moduleType:Wv.MODULE_TYPE,names:["styles","boxStyle"]})},{label:"\u56fe\u7247\u6837\u5f0f",value:"imageStyle",stylePath:" .ant-image",styles:(0,cd.createStylesOptionFunc)({moduleType:Wv.MODULE_TYPE,names:["styles","imageStyle"]})}]},animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Wv.MODULE_TYPE})};const Jv={type:Wv.TYPE,moduleType:Wv.MODULE_TYPE,name:Wv.NAME,icon:Wv.ICON,data:Kv,control:$v,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:qv,Setting:tc,createFunc:function(){const e=Xv.uuid(Wv.MODULE_TYPE+"_"),t={type:Wv.TYPE,moduleType:Wv.MODULE_TYPE,moduleId:e,name:Wv.NAME,data:Kv};return JSON.parse(JSON.stringify(t))}},Hv=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s;const{XinScreenEditorModulesMap:d,XinCoverView:u,XinTypeView:c,XinModuleView:m,customData:p,variableStore:_,core:v,addFunc:b,getVariableValue:f,config:E}=(0,$.useContext)($r.f);return J().createElement(m,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.link_content)}),J().createElement("a",{className:Z()([is.A.link_content,f(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.className,e,{variableStore:_}),{[is.A.link_rows]:f(null===(o=e.module.data.attributes)||void 0===o?void 0:o.rows,e,{variableStore:_})}]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:_}),WebkitLineClamp:f(null===(l=e.module.data.attributes)||void 0===l?void 0:l.rows,e,{variableStore:_})||"none"},href:"editor"===(null===(a=e.contexts)||void 0===a?void 0:a.mode)?void 0:f(null===(i=e.module.data.attributes)||void 0===i?void 0:i.href,e,{variableStore:_}),target:f(null===(r=e.module.data.attributes)||void 0===r?void 0:r.target,e,{variableStore:_})||"_self"},f(null===(s=e.module.data.attributes)||void 0===s?void 0:s.content,e,{variableStore:_})))})),Gv=window.__app__,Qv={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"link",NAME:"\u94fe\u63a5",ICON:J().createElement(H.LinkOutlined,null)},Zv={title:Qv.NAME,attributes:{linkType:"page",href:"",target:"_self",content:"\u6587\u672c\u5185\u5bb9",rows:0,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},eb={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u94fe\u63a5\u7c7b\u578b",name:["attributes","linkType"]},props:{options:[{label:"\u5185\u90e8\u9875\u9762",value:"page"},{label:"\u7f51\u7edc\u94fe\u63a5",value:"url"}]}},{component:"LinkHref",variable:!0,formItemProps:{label:"\u94fe\u63a5",name:["attributes","href"]}},{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u6253\u5f00\u65b9\u5f0f",name:["attributes","target"]},props:{options:[{label:"\u5f53\u524d\u9875\u9762",value:"_self"},{label:"\u65b0\u9875\u9762",value:"_blank"}]}},{component:"BasicTextarea",variable:!0,formItemProps:{label:"\u6587\u672c\u5185\u5bb9",name:["attributes","content"]}},{component:"BasicInputNumber",variable:!0,formItemProps:{label:"\u6700\u5927\u884c\u6570",name:["attributes","rows"]},props:{min:0,step:1}}]},(0,cd.createCommonOptionFunc)({moduleType:Qv.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Qv.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Qv.MODULE_TYPE})};const tb={type:Qv.TYPE,moduleType:Qv.MODULE_TYPE,name:Qv.NAME,icon:Qv.ICON,data:Zv,control:eb,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:Hv,Setting:tc,createFunc:function(){const e=Gv.uuid(Qv.MODULE_TYPE+"_"),t={type:Qv.TYPE,moduleType:Qv.MODULE_TYPE,moduleId:e,name:Qv.NAME,data:Zv};return JSON.parse(JSON.stringify(t))}},nb=window.__app__,ob=(0,ae.observer)((e=>{var t,n;const{XinScreenEditorModulesMap:o,XinCoverView:l,XinTypeView:a,XinModuleView:i,customData:r,editorStore:s,variableStore:d,core:u,addFunc:c,getVariableValue:m,config:p}=(0,$.useContext)($r.f),{iconListMap:_}=nb.get("datas.configs.work"),v=_[m(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.content,e,{variableStore:d})||"SmileOutlined"];return J().createElement(i,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:d})}}),J().createElement(v,null))})),lb=window.__app__,ab={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"icon",NAME:"\u56fe\u6807",ICON:J().createElement(H.SmileOutlined,null)},ib={title:ab.NAME,attributes:{content:"",hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},rb={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"IconChoose",variable:!0,formItemProps:{label:"\u9009\u62e9\u56fe\u6807",name:["attributes","content"]},props:{}}]},(0,cd.createCommonOptionFunc)({moduleType:ab.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:ab.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:ab.MODULE_TYPE})};const sb={type:ab.TYPE,moduleType:ab.MODULE_TYPE,name:ab.NAME,icon:ab.ICON,data:ib,control:rb,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:ob,Setting:tc,createFunc:function(){const e=lb.uuid(ab.MODULE_TYPE+"_"),t={type:ab.TYPE,moduleType:ab.MODULE_TYPE,moduleId:e,name:ab.NAME,data:ib};return JSON.parse(JSON.stringify(t))}},db=window.__app__,ub=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C,S,O,P,k;const{XinScreenEditorModulesMap:D,XinCoverView:N,XinTypeView:A,XinChildrenView:L,XinModuleView:F,customData:R,setcustomData:B,editorStore:V,variableStore:U,core:Y,addFunc:z,getVariableValue:j,config:q}=(0,$.useContext)($r.f),{iconListMap:X}=db.get("datas.configs.work"),W=null!==(t=e.module.data)&&void 0!==t&&null!==(n=t.attributes)&&void 0!==n&&n.icon?X[null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.icon]:void 0,K=j(null===(a=e.module.data.attributes)||void 0===a?void 0:a.block,e,{variableStore:U});return J().createElement(F,Object.assign({},e,{className:Z()([{[is.A.button_block]:K}]),style:{},real_element:" > .".concat(is.A.button_content)}),J().createElement(M.Button,{className:Z()([is.A.button_content,j(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.className,e,{variableStore:U})]),type:j(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.type,e,{variableStore:U}),danger:j(null===(u=e.module.data)||void 0===u||null===(c=u.attributes)||void 0===c?void 0:c.danger,e,{variableStore:U}),ghost:j(null===(m=e.module.data)||void 0===m||null===(p=m.attributes)||void 0===p?void 0:p.ghost,e,{variableStore:U}),block:K,style:(0,cd.styleObjToStylesFunc)(null===(_=e.module.data)||void 0===_?void 0:_.styles,e,{variableStore:U}),href:(null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b?void 0:b.atag)&&j(null===(f=e.module.data)||void 0===f||null===(E=f.attributes)||void 0===E?void 0:E.href,e,{variableStore:U}),target:(null===(g=e.module.data)||void 0===g||null===(y=g.attributes)||void 0===y?void 0:y.atag)&&j(null===(h=e.module.data)||void 0===h||null===(x=h.attributes)||void 0===x?void 0:x.target,e,{variableStore:U}),icon:W&&J().createElement(W,null),size:j(null===(w=e.module.data)||void 0===w||null===(I=w.attributes)||void 0===I?void 0:I.size,e,{variableStore:U}),loading:j(null===(T=e.module.data)||void 0===T||null===(C=T.attributes)||void 0===C?void 0:C.loading,e,{variableStore:U}),disabled:j(null===(S=e.module.data)||void 0===S||null===(O=S.attributes)||void 0===O?void 0:O.disabled,e,{variableStore:U})},j(null===(P=e.module.data)||void 0===P||null===(k=P.attributes)||void 0===k?void 0:k.content,e,{variableStore:U})))})),cb=window.__app__,mb={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"button",NAME:"\u6309\u94ae",ICON:J().createElement("span",null,"btn")},pb={title:mb.NAME,attributes:{type:"default",danger:!1,ghost:!1,content:"\u6309\u94ae",size:"middle",atag:!1,badge:"",href:void 0,block:!1,target:"_self",loading:!1,disabled:!1,hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},_b={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[...(0,cd.createButtonChildrenFunc)({moduleType:mb.MODULE_TYPE,names:[]})]},(0,cd.createCommonOptionFunc)({moduleType:mb.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:mb.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:mb.MODULE_TYPE})};const vb={type:mb.TYPE,moduleType:mb.MODULE_TYPE,name:mb.NAME,icon:mb.ICON,data:pb,control:_b,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:ub,Setting:tc,createFunc:function(){const e=cb.uuid(mb.MODULE_TYPE+"_"),t={type:mb.TYPE,moduleType:mb.MODULE_TYPE,moduleId:e,name:mb.NAME,data:pb};return JSON.parse(JSON.stringify(t))}},bb=(0,ae.observer)((e=>{var t,n;const{XinScreenEditorModulesMap:o,XinCoverView:l,XinTypeView:a,XinModuleView:i,customData:r,variableStore:s,core:d,addFunc:u,getVariableValue:c,config:m}=(0,$.useContext)($r.f);return J().createElement(i,Object.assign({},e,{className:Z()([]),style:{width:c(null===(t=e.module.data.attributes)||void 0===t?void 0:t.editorWidth.value,e,{variableStore:s})+c(null===(n=e.module.data.attributes)||void 0===n?void 0:n.editorWidth.unit,e,{variableStore:s}),...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:s})}}),"\u54c8\u54c8\u54c8\u54c8\u54c8\u54c8")})),fb=window.__app__,Eb={TYPE:"\u753b\u9762\u7ec4\u4ef6",MODULE_TYPE:"test",NAME:"\u6d4b\u8bd5\u7ec4\u4ef6",ICON:J().createElement("span",{style:{fontSize:12}},"Test")},gb={title:Eb.NAME,attributes:{content:"\u6587\u672c\u5185\u5bb9",editorWidth:{value:100,unit:"%"}},styles:{_style:":root {\n\n}"},animations:{},events:{}},yb={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"SizeAndUnit",variable:!0,formItemProps:{label:"\u7f16\u8f91\u5668\u5bbd\u5ea6",name:["attributes","editorWidth"]}}]},(0,cd.createCommonOptionFunc)({moduleType:Eb.MODULE_TYPE})],styles:[],animations:[],events:[]};const hb={type:Eb.TYPE,moduleType:Eb.MODULE_TYPE,name:Eb.NAME,icon:Eb.ICON,data:gb,control:yb,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:bb,Setting:tc,createFunc:function(){const e=fb.uuid(Eb.MODULE_TYPE+"_"),t={type:Eb.TYPE,moduleType:Eb.MODULE_TYPE,moduleId:e,name:Eb.NAME,data:gb};return JSON.parse(JSON.stringify(t))}},xb=echarts,wb=window.__app__,Ib=(0,ae.observer)((e=>{var t,n,o,l,a,i,r;const{XinScreenEditorModulesMap:s,XinCoverView:d,XinTypeView:u,XinModuleView:c,customData:m,editorStore:p,variableStore:_,core:v,addFunc:b,getVariableValue:f,config:E}=(0,$.useContext)($r.f),{createScriptContexts:g}=wb.get("handles"),y=(0,$.useRef)(),h=(0,$.useRef)();(0,$.useEffect)((()=>(function(){if(h.current)return;h.current=xb.init(y.current)}(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)})),[]),(0,$.useEffect)((()=>w()),[p.scaleValue]);const x=(0,$.useMemo)((()=>{var t,n,o,l;return(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n||null===(o=n.data)||void 0===o||null===(l=o.variable)||void 0===l?void 0:l.split("."))||[]}),[null===(t=e.module.data.attributes)||void 0===t?void 0:t.data]);(0,$.useEffect)((()=>{!async function(){var t,n;const o=null===(t=e.module.data.attributes)||void 0===t?void 0:t.code,l=f(null===(n=e.module.data.attributes)||void 0===n?void 0:n.data,e,{variableStore:_});if(o){var a;const t={...g(),...p.contexts.moduleIns,..._.contexts,screenScripts:null===(a=e.contexts)||void 0===a?void 0:a.screenScripts},n=wb.runScriptFunc(o),i=await n.main(t,l);h.current.setOption(i)}}()}),[null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.data,null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.code,x[1]&&_[x[1]]&&_[x[1]][x[2]]]);const w=te().throttle((function(){var e;null===(e=h.current)||void 0===e||e.resize()}),100);return J().createElement(c,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.echart_content)}),J().createElement("div",{ref:y,className:Z()([is.A.echart_content,f(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.className,e,{variableStore:_})]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:_})}}))})),Tb=window.__app__,Cb={TYPE:"\u56fe\u8868\u7ec4\u4ef6",MODULE_TYPE:"echart",NAME:"\u81ea\u7531\u56fe\u8868",ICON:J().createElement(H.PieChartOutlined,null)},Sb={title:Cb.NAME,attributes:{data:void 0,code:"\n({\n  main: function (contexts, data) {\n    // options\uff1a Echarts \u7684\u914d\u7f6e\uff0c\u5177\u4f53\u4f7f\u7528\u65b9\u5f0f\u8bf7\u53c2\u8003\u5b98\u7f51 https://echarts.apache.org/\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u7ed1\u5b9a\u7684\u56fe\u8868\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    var options = {\n      xAxis: {\n        type: 'category',\n        data: ['05', '06', '07', '08', '09', '10', '11']\n      },\n      yAxis: {\n        type: 'value'\n      },\n      series: [\n        {\n          data: [150, 230, 224, 218, 135, 147, 260],\n          type: 'line'\n        }\n      ]\n    }\n    return options\n  }\n})\n",hidden:!1},styles:{height:{unit:"px",value:300},_style:":root {\n\n}"},animations:{},events:{}},Ob={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicInput",variable:!0,formItemProps:{label:"\u56fe\u8868\u6570\u636e",name:["attributes","data"],tooltip:"\u5982\u679c\u60a8\u9700\u8981\u5728\u6570\u636e\u53d8\u5316\u7684\u65f6\u5019\u76f4\u63a5\u66f4\u65b0\u56fe\u8868\uff0c\u8bf7\u5728\u6b64\u7ed1\u5b9a\u53d8\u91cf"},props:{readOnly:!0,placeholder:"\u8bf7\u7ed1\u5b9a\u53d8\u91cf"}},{component:"JavascriptTransformCodeModal",formItemProps:{label:"\u56fe\u8868\u914d\u7f6e",name:["attributes","code"],tooltip:"\u7f16\u5199Echarts\u56fe\u8868\u7684\u6e32\u67d3\u903b\u8f91\u4ee3\u7801"}}]},(0,cd.createCommonOptionFunc)({moduleType:Cb.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Cb.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Cb.MODULE_TYPE})};const Pb={type:Cb.TYPE,moduleType:Cb.MODULE_TYPE,name:Cb.NAME,icon:Cb.ICON,data:Sb,control:Ob,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Ib,Setting:tc,createFunc:function(){const e=Tb.uuid(Cb.MODULE_TYPE+"_"),t={type:Cb.TYPE,moduleType:Cb.MODULE_TYPE,moduleId:e,name:Cb.NAME,data:Sb};return JSON.parse(JSON.stringify(t))},funcs:{}},Mb=window.__app__,kb=(0,ae.observer)((e=>{var t,n,o,l,a,i;const{XinScreenEditorModulesMap:r,XinModuleView:s,core:d,addFunc:u,getVariableValue:c,variableStore:m,config:p}=(0,$.useContext)($r.f),_=Mb.get("modules.reportEditor.ReportView"),[v,b]=(0,$.useState)(!1),[f,E]=(0,$.useState)();(0,$.useEffect)((()=>{var t,n;(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.reportView_id)&&g()}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.reportView_id]);const g=async()=>{var t,n,o;b(!0);const l=await Mb.xrequest.post("/api/core/report/view/detail",{_id:null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.reportView_id});b(!1),E(null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.body)};return J().createElement(s,Object.assign({},e,{className:Z()([]),style:{},real_element:" > .".concat(is.A.reportViewQuote_content)}),J().createElement("div",{className:Z()([is.A.reportViewQuote_content,c(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.className,e,{variableStore:m}),{[is.A.none_event]:"editor"===(null===(a=e.contexts)||void 0===a?void 0:a.mode)}]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:m})}},f?J().createElement(_,{_id:null===(i=e.module.data.attributes)||void 0===i?void 0:i.reportView_id,customData:f}):J().createElement(M.Spin,{spinning:v,size:"default"},J().createElement("div",{style:{padding:10}},J().createElement(M.Empty,{imageStyle:{height:60},description:J().createElement("span",{style:{color:"#888888"}},"\u8bf7\u9009\u62e9\u9700\u8981\u5f15\u7528\u7684\u62a5\u8868\u89c6\u56fe")})))))})),Db=kb,Nb=window.__app__,Ab={TYPE:"\u62a5\u8868\u7ec4\u4ef6",MODULE_TYPE:"reportViewQuote",NAME:"\u62a5\u8868\u89c6\u56fe\u5f15\u7528",FULL_NAME:"\u62a5\u8868\u89c6\u56fe\u5f15\u7528",ICON:J().createElement(H.DiffOutlined,null)},Lb={title:Ab.NAME,attributes:{reportView_id:void 0,hidden:!1},styles:{height:{value:300,unit:"px"},padding:{top:15,bottom:15},_style:":root {\n\n}"},animations:{},events:{}},Fb={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"ReportViewSelectTree",formItemProps:{label:"\u9009\u62e9\u62a5\u8868\u89c6\u56fe",name:["attributes","reportView_id"]}}]},(0,cd.createCommonOptionFunc)({moduleType:Ab.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Ab.MODULE_TYPE,names:["styles"],exclude:["_style"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Ab.MODULE_TYPE})};const Rb={type:Ab.TYPE,moduleType:Ab.MODULE_TYPE,name:Ab.NAME,fullName:Ab.FULL_NAME,icon:Ab.ICON,data:Lb,control:Fb,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Db,Setting:tc,createFunc:function(){const e=Nb.uuid(Ab.MODULE_TYPE+"_"),t={type:Ab.TYPE,moduleType:Ab.MODULE_TYPE,moduleId:e,name:Ab.NAME,data:Lb};return JSON.parse(JSON.stringify(t))}},Bb=(0,ae.observer)((e=>{var t;const{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinModuleView:a,customData:i,core:r,addFunc:s,getVariableValue:d,variableStore:u,config:c}=(0,$.useContext)($r.f),m=(0,$.useRef)(),[p,_]=(0,$.useState)();(0,$.useEffect)((()=>(v(),()=>{b()})),[]),(0,$.useEffect)((()=>{b(),v()}),[null===(t=e.module.data.attributes)||void 0===t?void 0:t.format]);const v=()=>{m.current=setInterval((()=>{(()=>{var t;let n=re()().format((null===(t=e.module.data.attributes)||void 0===t?void 0:t.format)||"YYYY-MM-DD HH:mm:ss");_(n)})()}),500)},b=()=>{m.current&&clearInterval(m.current),m.current=void 0};return J().createElement(a,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(e.module.data.styles,e,{variableStore:u})}}),p||"0000-00-00 00:00:00")})),Vb=window.__app__,Ub={TYPE:"\u6570\u636e\u5904\u7406",MODULE_TYPE:"time",NAME:"\u5f53\u524d\u65f6\u95f4",ICON:J().createElement(H.ClockCircleOutlined,null)},Yb={title:Ub.NAME,attributes:{content:"",format:"YYYY-MM-DD HH:mm:ss",hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},zb={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"BasicSelect",variable:!0,formItemProps:{label:"\u663e\u793a\u683c\u5f0f",name:["attributes","format"]},props:{options:[{label:"\u5e74-\u6708-\u65e5 \u65f6:\u5206:\u79d2",value:"YYYY-MM-DD HH:mm:ss"},{label:"\u5e74/\u6708/\u65e5 \u65f6:\u5206:\u79d2",value:"YYYY/MM/DD HH:mm:ss"},{label:"\u5e74/\u6708/\u65e5",value:"YYYY/MM/DD"},{label:"\u65f6:\u5206:\u79d2",value:"HH:mm:ss"}]}}]},(0,cd.createCommonOptionFunc)({moduleType:Ub.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Ub.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Ub.MODULE_TYPE})};const jb={type:Ub.TYPE,moduleType:Ub.MODULE_TYPE,name:Ub.NAME,icon:Ub.ICON,data:Yb,control:zb,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:Bb,Setting:tc,createFunc:function(){const e=Vb.uuid(Ub.MODULE_TYPE+"_"),t={type:Ub.TYPE,moduleType:Ub.MODULE_TYPE,moduleId:e,name:Ub.NAME,data:Yb};return JSON.parse(JSON.stringify(t))}},qb=window.__app__,Xb=(0,ae.observer)((e=>{qb.get("contexts.app");const{Login:t}=qb.get("modules.components.workCommon"),{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinChildrenView:a,XinModuleView:i,XinEmptyView:r,customData:s,editorStore:d,variableStore:u,core:c,addFunc:m,getVariableValue:p,config:_}=(0,$.useContext)($r.f);return J().createElement(i,Object.assign({},e,{className:Z()([]),style:{}}),J().createElement(t,null))})),Wb=Xb,Kb=window.__app__,$b={TYPE:"\u4e1a\u52a1\u7ec4\u4ef6",MODULE_TYPE:"login",NAME:"\u767b\u5f55\u7ec4\u4ef6",ICON:J().createElement(H.UserOutlined,null)},Jb={title:$b.NAME,attributes:{loginType:["account","mobile"],hidden:!1},styles:{_style:":root {\n    \n}"},animations:{},events:{}},Hb={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[]},(0,cd.createCommonOptionFunc)({moduleType:$b.MODULE_TYPE})],styles:[],animations:[],events:[]};const Gb={type:$b.TYPE,moduleType:$b.MODULE_TYPE,name:$b.NAME,icon:$b.ICON,data:Jb,control:Hb,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Wb,Setting:tc,createFunc:function(){const e=Kb.uuid($b.MODULE_TYPE+"_"),t={type:$b.TYPE,moduleType:$b.MODULE_TYPE,moduleId:e,name:$b.NAME,data:Jb};return JSON.parse(JSON.stringify(t))}},Qb=window.__app__,Zb=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C,S,O,P,k,D,N,A,L,F;const R=Qb.get("contexts.app"),{createScriptContexts:B}=Qb.get("handles"),{XinScreenEditorModulesMap:V,XinCoverView:U,XinTypeView:Y,XinChildrenView:z,XinModuleView:j,customData:q,setcustomData:X,editorStore:W,variableStore:K,core:H,addFunc:G,getVariableValue:Q,config:ee}=(0,$.useContext)($r.f),te=(0,$.useRef)();(0,$.useEffect)((()=>{ne()}),[]);const ne=async()=>{var t,n,o,l,a,i;if(null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o||!o.script)return;const r=Qb.runScriptFunc(null===(l=e.module)||void 0===l||null===(a=l.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.script);te.current=r};function oe(t){var n,o,l,a;null!==(n=e.module)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&null!==(l=o.attributes)&&void 0!==l&&null!==(a=l.button)&&void 0!==a&&a.confirm?M.Modal.confirm({title:"\u9000\u51fa\u786e\u8ba4",content:"\u60a8\u662f\u5426\u786e\u8ba4\u9000\u51fa\u5f53\u524d\u8d26\u53f7\u767b\u5f55\uff1f",okText:"\u9000\u51fa",okButtonProps:{danger:!0},cancelText:"\u53d6\u6d88",onOk:()=>le()}):le()}function le(){var t,n,o,l;const a={...B(),...W.contexts.moduleIns,...K.contexts,screenScripts:null===(t=e.contexts)||void 0===t?void 0:t.screenScripts};return null===(n=te.current)||void 0===n||null===(o=n.logout)||void 0===o||o.call(n,a,void 0),null===(l=R.logout)||void 0===l?void 0:l.call(R)}return J().createElement(j,Object.assign({},e,{className:Z()([]),style:{},methods:[{label:"\u9000\u51fa\u767b\u5f55",value:"logout",method:oe,params:""}]}),!Q(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n||null===(o=n.button)||void 0===o?void 0:o.hidden,e,{variableStore:K})&&J().createElement(M.Button,{className:is.A.logout_button,style:(0,cd.styleObjToStylesFunc)(null===(l=e.module.data)||void 0===l||null===(a=l.styles)||void 0===a?void 0:a.buttonStyle,e,{variableStore:K}),type:Q(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r||null===(s=r.button)||void 0===s?void 0:s.type,e,{variableStore:K}),danger:Q(null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u||null===(c=u.button)||void 0===c?void 0:c.danger,e,{variableStore:K}),block:!0,href:(null===(m=e.module.data)||void 0===m||null===(p=m.attributes)||void 0===p||null===(_=p.button)||void 0===_?void 0:_.atag)&&Q(null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b||null===(f=b.button)||void 0===f?void 0:f.href,e,{variableStore:K}),target:(null===(E=e.module.data)||void 0===E||null===(g=E.attributes)||void 0===g||null===(y=g.button)||void 0===y?void 0:y.atag)&&Q(null===(h=e.module.data)||void 0===h||null===(x=h.attributes)||void 0===x||null===(w=x.button)||void 0===w?void 0:w.target,e,{variableStore:K}),size:Q(null===(I=e.module.data)||void 0===I||null===(T=I.attributes)||void 0===T||null===(C=T.button)||void 0===C?void 0:C.size,e,{variableStore:K}),loading:Q(null===(S=e.module.data)||void 0===S||null===(O=S.attributes)||void 0===O||null===(P=O.button)||void 0===P?void 0:P.loading,e,{variableStore:K}),disabled:Q(null===(k=e.module.data)||void 0===k||null===(D=k.attributes)||void 0===D||null===(N=D.button)||void 0===N?void 0:N.disabled,e,{variableStore:K}),onClick:oe},Q(null===(A=e.module.data)||void 0===A||null===(L=A.attributes)||void 0===L||null===(F=L.button)||void 0===F?void 0:F.content,e,{variableStore:K})))})),ef=window.__app__,tf={TYPE:"\u4e1a\u52a1\u7ec4\u4ef6",MODULE_TYPE:"logout",NAME:"\u8d26\u53f7\u9000\u51fa",ICON:J().createElement(H.LogoutOutlined,null)},nf={title:tf.NAME,attributes:{button:{type:"default",danger:!1,content:"\u9000\u51fa\u6309\u94ae",size:"middle",atag:!1,href:void 0,block:!1,confirm:!1,target:"_self",loading:!1,disabled:!1,hidden:!1},script:"({\n  logout: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u6570\u636e\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    \n  },\n})\n",hidden:!1},styles:{_style:":root {\n    \n}"},animations:{},events:{}},of={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u4e8c\u6b21\u786e\u8ba4",name:["attributes","button","confirm"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},{title:"\u6309\u94ae\u5c5e\u6027",children:[...(0,cd.createButtonChildrenFunc)({moduleType:tf.MODULE_TYPE,names:["button"]})]},(0,cd.createSeniorOptionFunc)({moduleType:tf.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:tf.MODULE_TYPE})],styles:[],animations:[],events:[]};const lf={type:tf.TYPE,moduleType:tf.MODULE_TYPE,name:tf.NAME,icon:tf.ICON,data:nf,control:of,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Zb,Setting:tc,createFunc:function(){const e=ef.uuid(tf.MODULE_TYPE+"_"),t={type:tf.TYPE,moduleType:tf.MODULE_TYPE,moduleId:e,name:tf.NAME,data:nf};return JSON.parse(JSON.stringify(t))}},af=window.__app__,rf=(0,ae.observer)((e=>{af.get("contexts.app");const{XinScreenEditorModulesMap:t,XinCoverView:n,XinTypeView:o,XinChildrenView:l,XinModuleView:a,customData:i,variableStore:r,core:s,addFunc:d,getVariableValue:u,config:c}=(0,$.useContext)($r.f),[m,p]=(0,$.useState)(0),[_,v]=(0,$.useState)(0),[b,f]=(0,$.useState)(0),[E,g]=(0,$.useState)(0),[y,h]=(0,$.useState)(!1);return(0,$.useEffect)((()=>{new Promise((async(e,t)=>{h(!0);const n=await af.xrequest.post("/api/core/workflow/task/todoInfo",{filter:{}});var o,l,a,i;h(!1),0===(null===n||void 0===n?void 0:n.errCode)?(e(null===n||void 0===n?void 0:n.data),p((null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.myTodoNumber)||0),v((null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.myDoneNumber)||0),f((null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.copyMeNumber)||0),g((null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.myCreatedNumber)||0)):e()}))}),[]),J().createElement(a,Object.assign({},e,{className:Z()([]),style:{},exports:{myTodoNumber:m,myDoneNumber:_,copyMeNumber:b,myCreatedNumber:E}}),J().createElement(M.Spin,{spinning:y,size:"default"},J().createElement(l,e)))})),sf=window.__app__,df={TYPE:"\u4e1a\u52a1\u7ec4\u4ef6",MODULE_TYPE:"todo",NAME:"\u6211\u7684\u5f85\u529e",ICON:J().createElement(H.CheckCircleOutlined,null)},uf={title:df.NAME,attributes:{title:df.NAME,hidden:!1,bordered:!0},styles:{_style:":root {\n    \n}"},animations:{},events:{}},cf={attributes:[(0,cd.createCommonOptionFunc)({moduleType:df.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:df.MODULE_TYPE,names:["styles","bodyStyle"]}),animations:[],events:[]};const mf={type:df.TYPE,moduleType:df.MODULE_TYPE,name:df.NAME,icon:df.ICON,data:uf,control:cf,config:{dragable:!0,insertable:!0,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:rf,Setting:tc,createFunc:function(){const e=sf.uuid(df.MODULE_TYPE+"_"),t={type:df.TYPE,moduleType:df.MODULE_TYPE,moduleId:e,name:df.NAME,data:uf,children:[]};return JSON.parse(JSON.stringify(t))}},pf=window.__app__;const _f=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d;const{XinScreenEditorModulesMap:u,XinCoverView:c,XinTypeView:m,XinModuleView:p,editorStore:_,core:v,addFunc:b,getVariableValue:f,variableStore:E,config:g}=(0,$.useContext)($r.f),{WorkflowDetailModal:y,WorkflowTableDetailModal:h}=(pf.get("contexts.app"),pf.get("modules.formEditor.modules"),pf.get("modules.formEditor.table"),pf.get("modules.formEditor.SearchComponent"),pf.get("modules.components.workCommon")),{createScriptContexts:x}=pf.get("handles"),{defaultUserAvatar:w}=pf.get("datas.configs.project"),[I,T]=(0,$.useState)(!1),C=(0,$.useRef)(),S=(0,$.useRef)(),O=(0,$.useRef)(),P=(0,$.useRef)(),k=(0,$.useMemo)((()=>{let e=["pc"===g.deviceType&&{title:"\u4efb\u52a1\u72b6\u6001",dataIndex:"state",copyable:!1,ellipsis:!1,width:130,search:!1,render:(e,t,n,o)=>{var l,a;return"doing"===(null===(l=t.workflowRecordInfo)||void 0===l||null===(a=l.workflow)||void 0===a?void 0:a.state)?J().createElement(M.Badge,{color:"blue",text:"\u5f85\u5904\u7406"}):J().createElement(M.Badge,{color:"green",text:"\u5df2\u5b8c\u6210"})}},{title:"\u6765\u6e90\u5e94\u7528",dataIndex:"app_project_id",copyable:!1,ellipsis:!1,width:130,search:!1,render:(e,t,n,o)=>{var l;return(null===(l=t.appProjectInfo)||void 0===l?void 0:l.name)||"-"}},{title:"\u5f53\u524d\u8282\u70b9",dataIndex:["current_module","name"],align:"left",copyable:!1,ellipsis:!0,search:!1,filters:!1,width:130,render:(e,t,n,o)=>{var l,a,i;const r=null===(l=t.workflowRecordInfo)||void 0===l||null===(a=l.workflow)||void 0===a?void 0:a.current_module;return(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.title)||(null===r||void 0===r?void 0:r.name)||"-"}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",align:"left",valueType:"dateTime",copyable:!1,ellipsis:!0,search:!1,filters:!1,width:180,render:(e,t,n,o)=>re()(t.create_time).format("YYYY-MM-DD HH:mm:ss")}].filter(Boolean);return e}),[g.deviceType]),D=(0,$.useMemo)((()=>{const e=[{title:"\u64cd\u4f5c",dataIndex:"actions",fixed:"right",width:100,search:!1,render:(e,t,n,o)=>J().createElement(M.Space,null,J().createElement(M.Button,{type:"link",size:"small",onClick:e=>{var n,o;null===(n=O.current)||void 0===n||n.open(null===(o=t.workflowRecordInfo)||void 0===o?void 0:o._id)}},"\u67e5\u770b\u8be6\u60c5"))}];return e}),[g.deviceType]);return J().createElement(p,Object.assign({},e,{className:Z()([]),style:{...(0,cd.styleObjToStylesFunc)(null===(t=e.module.data)||void 0===t?void 0:t.styles,e,{variableStore:E})},methods:[]}),J().createElement(M.Space,{direction:"vertical",style:{width:"100%"}},"pc"===g.deviceType?J().createElement(G.ProTable,{headerTitle:"\u6211\u7684\u4efb\u52a1",columns:[...k,...D],bordered:!1,ghost:null===(n=e.module.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.ghost,formRef:S,actionRef:C,cardBordered:null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.cardBordered,request:async function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.log("--------\u67e5\u8be2\u53c2\u6570----",n,o,l);T(!0);const a=await pf.xrequest.post("/api/core/workflow/task/list",{filter:te().merge({...n,allText:P.current,allTexts:[],current:void 0,pageSize:void 0}),select:{},current:n.current,pageSize:n.pageSize,sort:{...Object.fromEntries(Object.keys(o).map((e=>[e,"ascend"===o[e]?1:-1])))}});return T(!1),{data:(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data)||[],success:Boolean(a),total:(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.count)||0}},editable:{type:"multiple"},rowKey:e=>e._id,search:!1,options:{setting:{}},scroll:{x:600},rowSelection:null,form:{syncToUrl:!1},pagination:{showSizeChanger:!0},dateFormatter:"string",toolBarRender:()=>[]}):J().createElement(M.Space,{direction:"vertical",className:"xins_ant_pro_table_mobile"},J().createElement(G.ProTable,{headerTitle:"",columns:[...k,...D],bordered:!1,ghost:null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.ghost,formRef:S,actionRef:C,cardBordered:null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.cardBordered,request:async function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.log("--------\u67e5\u8be2\u53c2\u6570----",n,o,l),T(!0);const a=await pf.xrequest.post("/api/core/workflow/task/list",{filter:te().merge({...n,allText:P.current,allTexts:[],current:void 0,pageSize:void 0}),current:n.current,pageSize:n.pageSize,select:{},sort:{...Object.fromEntries(Object.keys(o).map((e=>[e,"ascend"===o[e]?1:-1])))}});return T(!1),{data:(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data)||[],success:Boolean(a),total:(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.count)||0}},editable:{type:"multiple"},rowKey:e=>e._id,search:!1,options:{setting:{}},scroll:{x:600},rowSelection:null,tableRender:(e,t,n)=>{let{toolbar:o,alert:l,table:a}=n},tableExtraRender:(t,n)=>{var o,l,a;return J().createElement(M.Spin,{spinning:I},J().createElement(M.Card,{styles:{body:{padding:"0 24px 24px 24px"}},bordered:null===(o=e.module)||void 0===o||null===(l=o.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.cardBordered},n.map(((e,t)=>{var n,o,l,a,i,r,s,d,u;return J().createElement("div",{className:is.A.row_line,key:t,onClick:t=>{var n,o;null===(n=O.current)||void 0===n||n.open(null===(o=e.workflowRecordInfo)||void 0===o?void 0:o._id)}},J().createElement(M.Descriptions,{title:J().createElement("div",{style:{display:"flex",justifyContent:"space-between"}},J().createElement(M.Space,null,J().createElement(M.Avatar,{shape:"square",size:24,src:(null===(n=e.createUserInfo)||void 0===n||null===(o=n.avatar)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.url)||w}),J().createElement("span",null,"".concat((null===(a=e.createUserInfo)||void 0===a?void 0:a.name)||"[\u7cfb\u7edf]","\u53d1\u8d77\u7684").concat((null===(i=e.workflowRecordInfo)||void 0===i||null===(r=i.workflow)||void 0===r||null===(s=r.tableInfo)||void 0===s?void 0:s.name)||"\u8bb0\u5f55"))),"mobile"===g.deviceType&&J().createElement(M.Space,null,"doing"===(null===(d=e.workflowRecordInfo)||void 0===d||null===(u=d.workflow)||void 0===u?void 0:u.state)?J().createElement(M.Badge,{color:"blue",text:"\u5f85\u5904\u7406"}):J().createElement(M.Badge,{color:"green",text:"\u5df2\u5b8c\u6210"}),J().createElement(H.RightOutlined,{style:{fontSize:"12px",color:"#888888"}}))),size:"small",items:k.filter((e=>!e.xins_id)).slice(0,5).map(((n,o)=>{var l;const a=(i=e,("string"===typeof(r=n.dataIndex)?[r]:r).forEach((e=>{var t;i=null===(t=i)||void 0===t?void 0:t[e]})),i);var i,r;return{key:o,label:n.title,children:(null===(l=n.render)||void 0===l?void 0:l.call(n,a,e,t,null))||a||"-"}}))}),J().createElement("div",{style:{textAlign:"right"}}))})),!n.length&&J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE}),J().createElement(M.Pagination,Object.assign({style:{margin:"10px 0"}},t.pagination||{}))))},form:{syncToUrl:!1},pagination:{style:{textAlign:"right",marginTop:10},size:"default",showTotal:(e,t)=>"\u5171\u8ba1 ".concat(e," \u6761"),showSizeChanger:!0},dateFormatter:"string",toolBarRender:()=>[]}))),J().createElement(h,{ref:O,refresh:e=>{var t;null===(t=C.current)||void 0===t||t.reload()}}))})),vf=_f,bf=window.__app__,ff={TYPE:"\u4e1a\u52a1\u7ec4\u4ef6",MODULE_TYPE:"todoList",NAME:"\u5f85\u529e\u5217\u8868",ICON:J().createElement(H.CheckCircleOutlined,null)},Ef={title:ff.NAME,attributes:{hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},gf={attributes:[(0,cd.createCommonOptionFunc)({moduleType:ff.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:ff.MODULE_TYPE,names:["styles"]}),animations:[],events:[]};const yf={type:ff.TYPE,moduleType:ff.MODULE_TYPE,name:ff.NAME,icon:ff.ICON,data:Ef,control:gf,methods:[],config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:vf,Setting:tc,createFunc:function(){const e=bf.uuid(ff.MODULE_TYPE+"_"),t={type:ff.TYPE,moduleType:ff.MODULE_TYPE,moduleId:e,name:ff.NAME,data:Ef};return JSON.parse(JSON.stringify(t))},funcs:{}},hf=window.__app__,xf=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m;const p=hf.get("contexts.app"),{platformName:_,defaultUserAvatar:v,defaultSystemLogo:b}=hf.get("datas.configs.project"),{XinScreenEditorModulesMap:f,XinCoverView:E,XinTypeView:g,XinChildrenView:y,XinModuleView:h,customData:x,setcustomData:w,editorStore:I,variableStore:T,core:C,addFunc:S,getVariableValue:O,config:P}=(0,$.useContext)($r.f);return J().createElement(h,Object.assign({},e,{className:Z()([]),style:{}}),p.userInfo?J().createElement(M.Dropdown,{placement:"bottomRight",menu:{style:{width:150},items:[{key:"personal",label:J().createElement(M.Space,null,J().createElement(M.Avatar,{style:{verticalAlign:"middle",marginTop:-3},size:35,src:null===(t=(n=hf.handles).resourceUrl)||void 0===t?void 0:t.call(n,(null===(o=p.userInfo)||void 0===o||null===(l=o.avatar)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.url)||v)}),J().createElement("span",null,null===(i=p.userInfo)||void 0===i?void 0:i.name)),title:null===(r=p.userInfo)||void 0===r?void 0:r.name},{type:"divider"},{key:"website",icon:J().createElement(H.HomeOutlined,null),label:"\u5b98\u7f51",title:"\u5b98\u7f51"},{key:"logout",icon:J().createElement(H.LogoutOutlined,null),danger:!0,label:"\u9000\u51fa\u8d26\u53f7",title:"\u9000\u51fa\u8d26\u53f7"}],onClick:e=>{if("personal"===e.key)hf.history.push("/personal/base");else if("website"===e.key)window.open("//xituyun.com");else if("logout"===e.key){var t;null===(t=p.logout)||void 0===t||t.call(p)}}}},J().createElement(M.Button,{type:"text",icon:J().createElement(M.Avatar,{style:{verticalAlign:"middle",marginTop:-3},size:25,src:null===(s=(d=hf.handles).resourceUrl)||void 0===s?void 0:s.call(d,(null===(u=p.userInfo)||void 0===u||null===(c=u.avatar)||void 0===c||null===(m=c.data)||void 0===m?void 0:m.url)||v)})})):J().createElement(M.Button,{type:"text",disabled:!0},"\u672a\u767b\u5f55"))})),wf=xf,If=window.__app__,Tf={TYPE:"\u4e1a\u52a1\u7ec4\u4ef6",MODULE_TYPE:"account",NAME:"\u8d26\u53f7",ICON:J().createElement(H.UserOutlined,null)},Cf={title:Tf.NAME,attributes:{hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},Sf={attributes:[(0,cd.createCommonOptionFunc)({moduleType:Tf.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Tf.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:Tf.MODULE_TYPE})};const Of={type:Tf.TYPE,moduleType:Tf.MODULE_TYPE,name:Tf.NAME,icon:Tf.ICON,data:Cf,control:Sf,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"inline",button:!0},View:wf,Setting:tc,createFunc:function(){const e=If.uuid(Tf.MODULE_TYPE+"_"),t={type:Tf.TYPE,moduleType:Tf.MODULE_TYPE,moduleId:e,name:Tf.NAME,data:Cf};return JSON.parse(JSON.stringify(t))}},Pf=window.__app__,Mf=(0,ae.observer)((e=>{Pf.get("contexts.app");const{UserView:t}=Pf.get("modules.pages"),{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinChildrenView:a,XinModuleView:i,customData:r,variableStore:s,core:d,addFunc:u,getVariableValue:c,config:m}=(0,$.useContext)($r.f);return J().createElement(i,Object.assign({},e,{className:Z()([]),style:{},exports:{}}),J().createElement(t,null))})),kf=Mf,Df=window.__app__,Nf={TYPE:"\u4e1a\u52a1\u7ec4\u4ef6",MODULE_TYPE:"userList",NAME:"\u7528\u6237\u7ba1\u7406",ICON:J().createElement(H.TeamOutlined,null)},Af={title:Nf.NAME,attributes:{title:Nf.NAME,hidden:!1},styles:{_style:":root {\n    \n}"},animations:{},events:{}},Lf={attributes:[(0,cd.createCommonOptionFunc)({moduleType:Nf.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Nf.MODULE_TYPE,names:["styles"]}),animations:[],events:[]};const Ff={type:Nf.TYPE,moduleType:Nf.MODULE_TYPE,name:Nf.NAME,icon:Nf.ICON,data:Af,control:Lf,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:kf,Setting:tc,createFunc:function(){const e=Df.uuid(Nf.MODULE_TYPE+"_"),t={type:Nf.TYPE,moduleType:Nf.MODULE_TYPE,moduleId:e,name:Nf.NAME,data:Af};return JSON.parse(JSON.stringify(t))}},Rf=window.__app__,Bf=(0,ae.observer)((e=>{Rf.get("contexts.app");const{UserRoleView:t}=Rf.get("modules.pages"),{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinChildrenView:a,XinModuleView:i,customData:r,variableStore:s,core:d,addFunc:u,getVariableValue:c,config:m}=(0,$.useContext)($r.f);return J().createElement(i,Object.assign({},e,{className:Z()([]),style:{},exports:{}}),J().createElement(t,null))})),Vf=Bf,Uf=window.__app__,Yf={TYPE:"\u4e1a\u52a1\u7ec4\u4ef6",MODULE_TYPE:"userRole",NAME:"\u7528\u6237\u89d2\u8272",ICON:J().createElement(H.TagsOutlined,null)},zf={title:Yf.NAME,attributes:{title:Yf.NAME,hidden:!1},styles:{_style:":root {\n    \n}"},animations:{},events:{}},jf={attributes:[(0,cd.createCommonOptionFunc)({moduleType:Yf.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:Yf.MODULE_TYPE,names:["styles"]}),animations:[],events:[]};const qf={type:Yf.TYPE,moduleType:Yf.MODULE_TYPE,name:Yf.NAME,icon:Yf.ICON,data:zf,control:jf,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Vf,Setting:tc,createFunc:function(){const e=Uf.uuid(Yf.MODULE_TYPE+"_"),t={type:Yf.TYPE,moduleType:Yf.MODULE_TYPE,moduleId:e,name:Yf.NAME,data:zf};return JSON.parse(JSON.stringify(t))}},Xf=window.__app__,Wf=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v;const{XinScreenEditorModulesMap:b,XinCoverView:f,XinTypeView:E,XinModuleView:g,customData:y,editorStore:h,variableStore:x,core:w,addFunc:I,getVariableValue:T,config:C}=(0,$.useContext)($r.f),S=Xf.get("modules.formEditor.table"),{createScriptContexts:O}=Xf.get("handles"),[P,k]=(0,$.useState)(!1),[D,N]=(0,$.useState)(),[A,L]=(0,$.useState)([]),[F,R]=(0,$.useState)([]),[B,V]=(0,$.useState)([]),U=(0,$.useRef)(),Y=(0,$.useMemo)((()=>{const t=function(t){var n,o,l;const a={...O(),...h.contexts.moduleIns,...x.contexts,screenScripts:null===(n=e.contexts)||void 0===n?void 0:n.screenScripts},i=null===(o=U.current)||void 0===o||null===(l=o.listToTree)||void 0===l?void 0:l.call(o,a,{records:t||[]});return i||[]}(A||[]);return t}),[A,U.current]),z=(0,$.useMemo)((()=>{function t(n,o){var l;const a=function(t){var n,o,l;const a={...O(),...h.contexts.moduleIns,...x.contexts,screenScripts:null===(n=e.contexts)||void 0===n?void 0:n.screenScripts},i=null===(o=U.current)||void 0===o||null===(l=o.treeNode)||void 0===l?void 0:l.call(o,a,{item:t});return i}(n);return{selectable:!0,...a,key:n._id,children:null===(l=n.children)||void 0===l?void 0:l.map((e=>t(e,o+1)))}}return Y.map((e=>t(e,1)))}),[Y,U.current]);function j(){return new Promise((async(t,n)=>{var o,l,a,i;const r=(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.filters)||[],s=await(0,Ua.W)(r),d=await Xf.xrequest.post("/api/core/table/record/list",{filter:{table_id:null===(a=e.module.data.attributes)||void 0===a?void 0:a.table_id,...s.$or.length?s:{}},current:1,pageSize:1e4,sort:{create_time:-1}}),u=(null===d||void 0===d||null===(i=d.data)||void 0===i?void 0:i.data)||[];L(u),t(u)}))}function q(t){var n,o,l;const a={...O(),...h.contexts.moduleIns,...x.contexts,screenScripts:null===(n=e.contexts)||void 0===n?void 0:n.screenScripts};null===(o=U.current)||void 0===o||null===(l=o.onSelect)||void 0===l||l.call(o,a,{selectedKeys:t})}function X(t){var n,o,l;const a={...O(),...h.contexts.moduleIns,...x.contexts,screenScripts:null===(n=e.contexts)||void 0===n?void 0:n.screenScripts};null===(o=U.current)||void 0===o||null===(l=o.onCheck)||void 0===l||l.call(o,a,{selectedKeys:t})}(0,$.useEffect)((()=>{var t,n;null!==(t=e.module.data)&&void 0!==t&&null!==(n=t.attributes)&&void 0!==n&&n.table_id&&(!async function(){var t;k(!0);const n=await Xf.xrequest.post("/api/core/table/detail",{_id:null===(t=e.module.data.attributes)||void 0===t?void 0:t.table_id});k(!1),N(null===n||void 0===n?void 0:n.data)}(),j())}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table_id]),(0,$.useEffect)((()=>{var t;U.current=Xf.runScriptFunc(null===(t=e.module.data.attributes)||void 0===t?void 0:t.script)}),[null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.script]);const W=(0,$.useCallback)((async e=>{j()}),[]);return J().createElement(g,Object.assign({},e,{className:Z()([]),style:{},real_element:"",exports:{checkedKeys:B,selectedKeys:F,checkedItems:A.filter((e=>B.includes(e._id)||B.includes(e.unique_id))),selectedItems:A.filter((e=>F.includes(e._id)||F.includes(e.unique_id)))},methods:[{label:"\u5237\u65b0",value:"reload",method:W,params:""}]}),J().createElement(M.Space,{direction:"vertical",style:{width:"100%"}},J().createElement(M.Space,null,T(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.checkable,e,{variableStore:x})&&J().createElement(S.RecordButtonView,{buttonProps:{type:"primary",icon:J().createElement(H.PlusOutlined,null)},modalProps:{},options:{key:"toolBarActions_add",component:"RecordButtonView",componentProps:{type:"create"},title:"\u65b0\u589e\u6570\u636e",color:"blue",confirm:!1,type:"admin",status:!0},formSenior:!0,mode:"view",scene:"create",record:void 0,tableInfo:D,table_id:null===D||void 0===D?void 0:D._id,searchParams:{},refresh:e=>{W()}},"\u65b0\u589e\u8bb0\u5f55"),J().createElement(M.Dropdown,{menu:{items:[{label:"\u53d6\u6d88\u9009\u4e2d",key:"onSelect"},T(null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s?void 0:s.checkable,e,{variableStore:x})&&{label:"\u53d6\u6d88\u52fe\u9009",key:"onCheck"},T(null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.checkable,e,{variableStore:x})&&{label:"\u6279\u91cf\u5220\u9664",danger:!0,key:"batchDelete"}].filter(Boolean),onClick:e=>{if("onSelect"===e.key)R([]),q([]);else if("onCheck"===e.key)V([]),X([]);else if("batchDelete"===e.key){if(!B.length)return void M.message.warning("\u65e0\u52fe\u9009\u9879");M.Modal.confirm({title:"\u5220\u9664\u786e\u8ba4",content:"\u786e\u8ba4\u5220\u9664\u5f53\u524d\u9009\u4e2d\u9879\uff1f",okText:"\u53d1\u5e03",cancelText:"\u53d6\u6d88",onOk:()=>new Promise((async(e,t)=>{await Xf.xrequest.post("/api/core/table/record/batchDelete",{_id:{$in:B||[]},table_id:null===D||void 0===D?void 0:D._id})&&(M.message.success("\u5220\u9664\u6210\u529f"),W()),e()}))})}}},placement:"bottomLeft"},J().createElement(M.Button,null,J().createElement(M.Space,null,"\u64cd\u4f5c",J().createElement(H.DownOutlined,null))))),A.length?J().createElement(M.Tree.DirectoryTree,{rootClassName:"xin-directory-tree tree-large tree-control",rootStyle:{...(0,cd.styleObjToStylesFunc)(null===(c=e.module.data)||void 0===c?void 0:c.styles,e,{variableStore:x})},checkable:T(null===(m=e.module.data)||void 0===m||null===(p=m.attributes)||void 0===p?void 0:p.checkable,e,{variableStore:x}),defaultSelectedKeys:F,defaultExpandAll:T(null===(_=e.module.data)||void 0===_||null===(v=_.attributes)||void 0===v?void 0:v.defaultExpandAll,e,{variableStore:x}),expandAction:!1,treeData:z,selectedKeys:F,onSelect:(e,t)=>{R(e||[]),q(e||[])},checkedKeys:B,onCheck:(e,t)=>{V(e||[]),X(e||[])}}):J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE})))})),Kf=window.__app__,$f={TYPE:"\u4e1a\u52a1\u7ec4\u4ef6",MODULE_TYPE:"treeTable",NAME:"\u6811\u5f62\u8868",ICON:J().createElement(H.NodeExpandOutlined,null)},Jf={title:$f.NAME,attributes:{data:void 0,table_id:void 0,filters:[],defaultExpandAll:!1,addable:!1,checkable:!1,script:"\n({\n  // \u6811\u8282\u70b9\u5904\u7406\n  treeNode: function (contexts, data) {\n    // \u540c\u6b65\u51fd\u6570\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u53c2\u6570\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data.item\uff1atreeNode\u6570\u636e\n\n    return {\n      title: '\u540d\u79f0', // ReactNode\n      stitle: '\u540d\u79f0', // String\n      icon: undefined, // ReactNode\uff0c\u9700\u8981\u53ef\u4ee5\u586b\u5199\n      selectable: true, // \u662f\u5426\u53ef\u9009\u4e2d\n      // children \u5185\u90e8\u5904\u7406\uff0c\u4e0d\u7528\u8fd4\u56de\n    }\n  },\n  // \u5217\u8868\u8f6c\u6811\u7ed3\u6784\n  listToTree: function (contexts, data) {\n    // \u540c\u6b65\u51fd\u6570\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data\uff1a\u76f8\u5173\u53c2\u6570\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data.records\uff1a\u8868\u8bb0\u5f55\n\n    return contexts.app.listToTree(data.records, undefined, {\n      parent_field: 'parent_id', // \u7236\u7ea7\u5b57\u6bb5\u540d\uff0c\u5d4c\u5957\u5b57\u6bb5\u5982\u4e0b\uff1avalues.parent_id\n      unique_field: '_id', // \u552f\u4e00\u5b57\u6bb5\u540d\n    })\n  },\n  // \u9009\u4e2d\n  onSelect: function (contexts, data) {\n    // \u540c\u6b65\u51fd\u6570\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data.selectedKeys\uff1a\u9009\u4e2d\u9879\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n\n  },\n  // \u591a\u9009\u6846\u9009\u4e2d\n  onCheck: function (contexts, data) {\n    // \u540c\u6b65\u51fd\u6570\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // data.checkedKeys\uff1a\u52fe\u9009\u9879\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n\n  },\n})\n",hidden:!1},styles:{_style:":root {\n\n}"},animations:{},events:{}},Hf={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"TableTreeSelect",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","table_id"]},props:{moduleType:$f.MODULE_TYPE}},{exportAttribute:!1,component:"TableFilter",variable:!1,formItemProps:{label:"\u7b5b\u9009\u6761\u4ef6",name:["attributes","filters"],tooltip:"\u8bf7\u6ce8\u610f\uff1a\u6b64\u5904\u7b5b\u9009\u6761\u4ef6\u4e3a\u5185\u7f6e\u7b5b\u9009\u6761\u4ef6\uff0c\u5c06\u4f1a\u4e0e\u641c\u7d22\u533a\u57df\u7684\u6761\u4ef6\u53e0\u52a0\u67e5\u8be2\u3002"},props:{moduleTypes:["input","inputNumber","rate","slider","datePicker","radio","select","switch"]}},{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u5c55\u5f00\u6240\u6709",name:["attributes","defaultExpandAll"],tooltip:"\u7f16\u8f91\u5668\u66f4\u6539\u540e\u5237\u65b0\u751f\u6548\uff0c\u5b9e\u9645\u6548\u679c\u8bf7\u67e5\u770b\u9884\u89c8"},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u591a\u9009\u6846",name:["attributes","checkable"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}},{exportAttribute:!1,component:"RadioButtonGroupInLine",variable:!0,formItemProps:{label:"\u65b0\u589e\u6570\u636e",name:["attributes","addable"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},(0,cd.createSeniorOptionFunc)({moduleType:$f.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:$f.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:$f.MODULE_TYPE,names:["styles"]}),animations:[],events:(0,cd.createEventsOptionFunc)({moduleType:$f.MODULE_TYPE})};const Gf={type:$f.TYPE,moduleType:$f.MODULE_TYPE,name:$f.NAME,icon:$f.ICON,data:Jf,control:Hf,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:Wf,Setting:tc,createFunc:function(){const e=Kf.uuid($f.MODULE_TYPE+"_"),t={type:$f.TYPE,moduleType:$f.MODULE_TYPE,moduleId:e,name:$f.NAME,data:Jf};return JSON.parse(JSON.stringify(t))},funcs:{}},Qf=window.__app__,Zf=(0,ae.observer)((e=>{Qf.get("contexts.app");const{MessageView:t}=Qf.get("modules.pages"),{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinChildrenView:a,XinModuleView:i,customData:r,variableStore:s,core:d,addFunc:u,getVariableValue:c,config:m}=(0,$.useContext)($r.f);return J().createElement(i,Object.assign({},e,{className:Z()([]),style:{},exports:{}}),J().createElement(t,null))})),eE=Zf,tE=window.__app__,nE={TYPE:"\u4e1a\u52a1\u7ec4\u4ef6",MODULE_TYPE:"message",NAME:"\u6d88\u606f\u4e2d\u5fc3",ICON:J().createElement(H.MessageOutlined,null)},oE={title:nE.NAME,attributes:{title:nE.NAME,hidden:!1},styles:{_style:":root {\n    \n}"},animations:{},events:{}},lE={attributes:[(0,cd.createCommonOptionFunc)({moduleType:nE.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:nE.MODULE_TYPE,names:["styles"]}),animations:[],events:[]};const aE={type:nE.TYPE,moduleType:nE.MODULE_TYPE,name:nE.NAME,icon:nE.ICON,data:oE,control:lE,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:eE,Setting:tc,createFunc:function(){const e=tE.uuid(nE.MODULE_TYPE+"_"),t={type:nE.TYPE,moduleType:nE.MODULE_TYPE,moduleId:e,name:nE.NAME,data:oE};return JSON.parse(JSON.stringify(t))}},iE=window.__app__,rE=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C,S,O;const{XinScreenEditorModulesMap:P,XinCoverView:M,XinTypeView:k,XinChildrenView:D,XinModuleView:N,customData:A,setcustomData:L,editorStore:F,variableStore:R,core:B,addFunc:V,getVariableValue:U,config:Y}=(0,$.useContext)($r.f),{iconListMap:z}=(iE.get("modules.components.basicCommon"),iE.get("datas.configs.work")),{createScriptContexts:j}=iE.get("handles"),[q,X]=(0,$.useState)(null===(t=window.location.href)||void 0===t||null===(n=t.split("#")[1])||void 0===n?void 0:n.split("?")[0]);(0,$.useRef)();(0,$.useEffect)((()=>{}),[]);const W=null!==(o=e.module.data)&&void 0!==o&&null!==(l=o.attributes)&&void 0!==l&&l.activeColor?"rgba(".concat((null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i||null===(r=i.activeColor)||void 0===r?void 0:r.r)||0,", ").concat((null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d||null===(u=d.activeColor)||void 0===u?void 0:u.g)||0,", ").concat((null===(c=e.module.data)||void 0===c||null===(m=c.attributes)||void 0===m||null===(p=m.activeColor)||void 0===p?void 0:p.b)||0,", ").concat((null===(_=e.module.data)||void 0===_||null===(v=_.attributes)||void 0===v||null===(b=v.activeColor)||void 0===b?void 0:b.a)||1,")"):void 0;return(0,$.useEffect)((()=>{}),[]),J().createElement(N,Object.assign({},e,{className:Z()([]),style:{},methods:[]}),J().createElement("div",{className:is.A.mf_container,style:{height:U((null===(f=e.module.data)||void 0===f||null===(E=f.attributes)||void 0===E?void 0:E.mainHeight)||55,e,{variableStore:R})+U((null===(g=e.module.data)||void 0===g||null===(y=g.attributes)||void 0===y?void 0:y.spaceHeight)||25,e,{variableStore:R})}},J().createElement("div",{className:is.A.mf_content,style:{...(0,cd.styleObjToStylesFunc)(null===(h=e.module.data)||void 0===h?void 0:h.styles,e,{variableStore:R})}},J().createElement("div",{className:is.A.mf_body,style:{height:U((null===(x=e.module.data)||void 0===x||null===(w=x.attributes)||void 0===w?void 0:w.mainHeight)||55,e,{variableStore:R})}},null===(I=U(null===(T=e.module.data)||void 0===T||null===(C=T.attributes)||void 0===C?void 0:C.items,e,{variableStore:R}))||void 0===I?void 0:I.map(((e,t)=>{const n=z[e.icon];return J().createElement("div",{className:Z()([is.A.mf_item,q===e.path?is.A.active:void 0]),key:t,style:{color:q===e.path&&W},onClick:t=>{var n;X(e.path),e.path&&(null===(n=iE.history)||void 0===n||n.replace(e.path))}},n&&J().createElement(n,{className:is.A.mf_icon}),J().createElement("div",{className:is.A.mf_label},e.label))}))),J().createElement("div",{className:is.A.mf_zhanwei,style:{height:U((null===(S=e.module.data)||void 0===S||null===(O=S.attributes)||void 0===O?void 0:O.spaceHeight)||25,e,{variableStore:R})}}))))})),sE=rE,dE=window.__app__;function uE(){return{key:dE.uuid("uid_"),icon:"TrophyFilled",label:"\u83dc\u5355\u9879",path:void 0}}const cE={TYPE:"\u79fb\u52a8\u7aef\u7ec4\u4ef6",MODULE_TYPE:"mobileFooter",NAME:"\u5e95\u90e8\u83dc\u5355",FULL_NAME:"\u79fb\u52a8\u7aef\xb7\u5e95\u90e8\u83dc\u5355",ICON:J().createElement(H.MobileOutlined,null)},mE={title:cE.NAME,attributes:{items:Array(3).fill(1).map((e=>uE())),activeColor:{r:22,g:119,b:255,a:1},mainHeight:55,spaceHeight:20,script:"({\n  onClick: function (contexts, data) {\n    // contexts\uff1a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    // contexts.next\uff1a\u9ed8\u8ba4\u884c\u4e3a\u51fd\u6570\n    // data\uff1a{ item, key, keyPath, domEvent }\uff0c\u8bf7\u6253\u5370\u67e5\u770b\n    \n  },\n})\n",hidden:!1},styles:{fontSize:10,backgroundColor:{r:255,g:255,b:255,a:1},_style:":root {\n    \n}"},animations:{},events:{}},pE={attributes:[{title:"\u7ec4\u4ef6\u5c5e\u6027",children:[{component:"MobileFooterItems",variable:!0,formItemProps:{label:"\u83dc\u5355\u9879",name:["attributes","items"]},props:{}},{component:"ColorPicker",formItemProps:{label:"\u6fc0\u6d3b\u989c\u8272",name:["attributes","activeColor"]},props:{}},{component:"BasicInputNumber",formItemProps:{label:"\u83dc\u5355\u9ad8\u5ea6",name:["attributes","mainHeight"]},props:{}},{component:"BasicInputNumber",formItemProps:{label:"\u7a7a\u767d\u9ad8\u5ea6",name:["attributes","spaceHeight"]},props:{}}]},(0,cd.createSeniorOptionFunc)({moduleType:cE.MODULE_TYPE}),(0,cd.createCommonOptionFunc)({moduleType:cE.MODULE_TYPE})],styles:(0,cd.createStylesOptionFunc)({moduleType:cE.MODULE_TYPE,names:["styles"]}),animations:[],events:[]};const _E={type:cE.TYPE,moduleType:cE.MODULE_TYPE,name:cE.NAME,fullName:cE.FULL_NAME,icon:cE.ICON,data:mE,control:pE,config:{dragable:!0,insertable:!1,removeable:!0,copyable:!0,componentable:!0,display:"block",button:!0},View:sE,Setting:tc,funcs:{createItemFunc:uE},createFunc:function(){const e=dE.uuid(cE.MODULE_TYPE+"_"),t={type:cE.TYPE,moduleType:cE.MODULE_TYPE,moduleId:e,name:cE.NAME,data:mE};return JSON.parse(JSON.stringify(t))}},vE=(window.__app__,(0,ae.observer)((e=>{var t;const{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinModuleView:a,customData:i,variableStore:r,core:s,addFunc:d,getVariableValue:u,config:c}=(0,$.useContext)($r.f);return J().createElement(a,e,J().createElement("div",{style:{color:"red",padding:10}},"\u7ec4\u4ef6\u3010",null===(t=e.module)||void 0===t?void 0:t.name,"\u3011\u7f3a\u5931\u6216\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"))}))),bE=window.__app__,fE={TYPE:"\u5176\u5b83\u7ec4\u4ef6",MODULE_TYPE:"error",NAME:"\u9519\u8bef",ICON:J().createElement(H.CloseCircleOutlined,null)},EE={title:fE.NAME,attributes:{},styles:{},animations:{},events:{}};const gE={type:fE.TYPE,moduleType:fE.MODULE_TYPE,name:fE.NAME,icon:fE.ICON,data:EE,control:{attributes:[],styles:[],animations:[],events:[]},config:{dragable:!1,insertable:!1,removeable:!0,copyable:!1,componentable:!1,display:"inline",button:!1},View:vE,Setting:tc,createFunc:function(){const e=bE.uuid(fE.MODULE_TYPE+"_"),t={type:fE.TYPE,moduleType:fE.MODULE_TYPE,moduleId:e,name:fE.NAME,data:EE};return JSON.parse(JSON.stringify(t))}},yE={[L_.moduleType]:L_,[z_.moduleType]:z_,[$_.moduleType]:$_,[ic.moduleType]:ic,[_c.moduleType]:_c,[Rc.moduleType]:Rc,[wc.moduleType]:wc,[wc.moduleType]:wc,[qc.moduleType]:qc,[tm.moduleType]:tm,[rm.moduleType]:rm,[pm.moduleType]:pm,[gm.moduleType]:gm,[tv.moduleType]:tv,[vv.moduleType]:vv,[yv.moduleType]:yv,[Sv.moduleType]:Sv,[Av.moduleType]:Av,[sp.moduleType]:sp,[gp.moduleType]:gp,[_p.moduleType]:_p,[Mc.moduleType]:Mc,[Cp.moduleType]:Cp,[Dp.moduleType]:Dp,[Vp.moduleType]:Vp,[Xp.moduleType]:Xp,[e_.moduleType]:e_,[r_.moduleType]:r_,[__.moduleType]:__,[x_.moduleType]:x_,[P_.moduleType]:P_,[Lm.moduleType]:Lm,[Ym.moduleType]:Ym,[Sm.moduleType]:Sm,[Hm.moduleType]:Hm,[np.moduleType]:np,[zv.moduleType]:zv,[Jv.moduleType]:Jv,[tb.moduleType]:tb,[sb.moduleType]:sb,[vb.moduleType]:vb,[hb.moduleType]:hb,[Pb.moduleType]:Pb,[Rb.moduleType]:Rb,[jb.moduleType]:jb,[Gb.moduleType]:Gb,[lf.moduleType]:lf,[mf.moduleType]:mf,[yf.moduleType]:yf,[Of.moduleType]:Of,[Ff.moduleType]:Ff,[qf.moduleType]:qf,[Gf.moduleType]:Gf,[aE.moduleType]:aE,[_E.moduleType]:_E,[gE.moduleType]:gE},hE=window.__app__,xE=Array(7).fill(1).map(((e,t)=>({"\u65e5\u671f":re()().add(t-7,"day").format("YYYY-MM-DD"),"\u8ba2\u5355\u6570":Number(parseInt(400+100*Math.random())),"\u8425\u4e1a\u989d":Number((2e4+2e4*Math.random()).toFixed(2)),"\u9000\u8d27\u6570":Number(parseInt(30*Math.random()))}))),wE={json:{key:"json",label:"JSON\u6570\u636e",icon:J().createElement(H.CompassFilled,{style:{color:"#1890ff"}}),defaultCode:JSON.stringify(xE,null,2)},function:{key:"function",label:"\u81ea\u5b9a\u4e49\u51fd\u6570",icon:J().createElement(H.PoundCircleFilled,{style:{color:"#ff8100"}}),defaultCode:"({\n  main: function (contexts, data) {\n    // \u6b64\u51fd\u6570\u4e3a\u540c\u6b65\u51fd\u6570\n    // \u6b64\u5904\u7f16\u5199\u903b\u8f91\u5e76\u8fd4\u56de\u6570\u636e\n    // \u793a\u4f8b\u5982\u4e0b\n    var list = []\n    while (list.length < 8) {\n      var index = list.length\n      list.push({\n        '\u65e5\u671f': contexts.dayjs().add(index - 7, 'day').format('YYYY-MM-DD'),\n        '\u8ba2\u5355\u6570': Number(parseInt(400 + Math.random() * 100)),\n        '\u8425\u4e1a\u989d': Number((20000 + Math.random() * 20000).toFixed(2)),\n        '\u9000\u8d27\u6570': Number(parseInt(Math.random() * 30)),\n      })\n    }\n    return list || []\n  },\n})\n"},request:{key:"request",label:"\u5f02\u6b65\u8bf7\u6c42",icon:J().createElement(H.TrademarkCircleFilled,{style:{color:"#52c41a"}}),defaultCode:"({\n  main: function (contexts, data) {\n    return new Promise((resolve, reject) => {\n      // \u6b64\u51fd\u6570\u4e3a\u5f02\u6b65\u51fd\u6570\n      // \u6b64\u5904\u7f16\u5199\u8bf7\u6c42\u53ca\u4e1a\u52a1\u903b\u8f91\uff0c\u901a\u8fc7 resolve() \u8fd4\u56de\u6570\u636e\n      // \u793a\u4f8b\u5982\u4e0b\n\n      const res = await contexts.xrequest.post('/api/core/screen/list', {\n        filter: {},\n        current: 1,\n        pageSize: 20,\n      }).then(res => {\n        resolve(res && res?.data && res?.data.data || [])\n      })\n    })\n  },\n})\n"}},IE=(0,$.memo)((e=>J().createElement(J().Fragment,null))),TE=(0,$.memo)((e=>{const t=hE.get("modules.components.basicForm");return J().createElement(J().Fragment,null,J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8f6e\u8be2\u503c",name:"loop",style:{marginBottom:0}},J().createElement(t.RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u95f4\u9694(\u79d2)",name:"duration",tooltip:"\u95f4\u9694\u6700\u5c0f\u503c3\u79d2",style:{marginBottom:0}},J().createElement(t.BasicInputNumber,{options:{props:{min:3,step:1}}}))))}));function CE(e,t){(0,$.useImperativeHandle)(t,(()=>({})));const n=hE.get("modules.components.basicCommon"),o=hE.get("modules.components.basicForm"),[l]=M.Form.useForm(),[a,i]=(0,$.useState)(!1),[r,s]=(0,$.useState)(),[d,u]=(0,$.useState)([]),c=(0,$.useMemo)((()=>d.map((e=>{const t=wE[e.type];return{title:e.name,title:m(e,1),icon:t.icon,key:e._id,data:e,selectable:!0}}))),[d,r]);function m(e,t){return J().createElement("div",{className:"xin-tree-title",style:{width:"83%"}},J().createElement("div",{className:"tree-title-text"},e.name),J().createElement("div",{className:"tree-title-control",onClick:e=>e.stopPropagation&&e.stopPropagation()},J().createElement(M.Popconfirm,{title:"\u5220\u9664\u786e\u8ba4",description:"\u786e\u8ba4\u5220\u9664\u5f53\u524d\u6570\u636e\u6e90\uff1f",onConfirm:t=>{const n=d.filter((t=>t._id!==e._id));u(n),(null===r||void 0===r?void 0:r._id)===e._id&&s()},placement:"topRight",overlayInnerStyle:{width:270},onCancel:e=>{},okText:"\u5220\u9664",okButtonProps:{danger:!0},cancelText:"\u53d6\u6d88"},J().createElement(M.Tooltip,{title:"\u5220\u9664\u6570\u636e\u6e90"},J().createElement(H.DeleteFilled,{className:"tree-title-btn red"})))))}function p(){i(!1),s()}function _(e){var t,n;const o=d.map((e=>e.varname));let l=d.length+1;for(;o.includes("data"+l);)l++;const a="data"+l;return{_id:hE.uuid(),type:e,varname:a,name:(null===(t=wE[e])||void 0===t?void 0:t.label)||"\u6570\u636e\u6e90\u540d\u79f0",loop:!1,duration:void 0,code:null===(n=wE[e])||void 0===n?void 0:n.defaultCode}}return J().createElement(J().Fragment,null,J().createElement(M.Tooltip,{title:"\u6570\u636e\u6e90"},J().createElement(M.Button,{type:"default",icon:J().createElement(H.DatabaseOutlined,null),onClick:t=>(i(!0),void u(JSON.parse(JSON.stringify(e.value||[]))))})),J().createElement(M.Modal,{title:"\u6570\u636e\u6e90\u5b9a\u4e49",width:1200,open:a,destroyOnClose:!0,onOk:async function(){var t;if(d.map((e=>e.varname)).length!==d.length)return void console.log("\u5b57\u6bb5\u540d\u6709\u91cd\u590d\uff0c\u8bf7\u68c0\u67e5");let n=!1;d.forEach((e=>{if("function"===e.type||"request"===e.type)e.loop&&"number"!==typeof e.duration&&(n=!0,M.message.error("\u6570\u636e\u6e90\u3010".concat(e.name,"\u3011\u95f4\u9694\u65f6\u95f4\u8bbe\u7f6e\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5")));else if("json"===e.type)try{JSON.parse(e.code)}catch(t){n=!0,M.message.error("\u6570\u636e\u6e90\u3010".concat(e.name,"\u3011\u811a\u672c\u5b9a\u4e49\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5"))}})),n||(null===(t=e.onChange)||void 0===t||t.call(e,d),p())},onCancel:p},J().createElement(M.Form,{form:l,labelCol:{span:8},layout:"horizontal",colon:!1,labelAlign:"left",onValuesChange:(e,t)=>function(e,t){const[n]=d.filter((e=>e._id===(null===r||void 0===r?void 0:r._id))),o=d.map((e=>e._id)).indexOf(null===r||void 0===r?void 0:r._id),l={...n,...t};d.splice(o,1,l),u([...d])}(0,t)},J().createElement(M.Row,{gutter:[15,10]},J().createElement(M.Col,{style:{width:200}},J().createElement(M.Space,{direction:"vertical",size:[10,10],style:{width:"100%"}},J().createElement(M.Dropdown,{menu:{items:Object.values(wE).map(((e,t)=>({label:J().createElement(M.Space,null,e.icon,e.label),key:e.key}))),onClick:e=>{u([...d,_(e.key)])}},trigger:["click"]},J().createElement(M.Button,{type:"default",block:!0},"\u65b0\u589e\u6570\u636e\u6e90")),c&&c.length?J().createElement(M.Tree.DirectoryTree,{className:"xin-directory-tree tree-large tree-control tree-noswitcher",defaultSelectedKeys:[null===r||void 0===r?void 0:r._id],defaultExpandAll:!0,expandAction:!1,treeData:c,onSelect:(e,t)=>{var n;s(null===t||void 0===t||null===(n=t.node)||void 0===n?void 0:n.data),setTimeout((()=>{var e;null===l||void 0===l||l.resetFields(),null===l||void 0===l||l.setFieldsValue(null===t||void 0===t||null===(e=t.node)||void 0===e?void 0:e.data)}),0)}}):J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u65e0\u6570\u636e\u6e90"}))),J().createElement(M.Col,{style:{width:240,borderLeft:"1px solid #eeeeee",borderRight:"1px solid #eeeeee"}},J().createElement("div",{style:{fontWeight:600,padding:"5px 0"}},"\u914d\u7f6e\u9879"),r?J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"name",style:{marginBottom:0}},J().createElement(o.BasicInput,null))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5b57\u6bb5\u540d",name:"varname",style:{marginBottom:0}},J().createElement(o.BasicInput,null))),"json"===(null===r||void 0===r?void 0:r.type)&&J().createElement(IE,null),"function"===(null===r||void 0===r?void 0:r.type)&&J().createElement(TE,null),"request"===(null===r||void 0===r?void 0:r.type)&&J().createElement(TE,null)):J().createElement("div",null,J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}))),J().createElement(M.Col,{flex:1},J().createElement("div",{style:{fontWeight:600,padding:"5px 0"}},"\u811a\u672c"),r?J().createElement(M.Form.Item,{name:"code",style:{marginBottom:0}},J().createElement(n.CodeEditor,{language:"javascript",style:{height:400}})):J().createElement("div",null,J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"})))))))}const SE=(0,$.memo)((0,$.forwardRef)(CE)),OE=window.__app__,PE=(0,ae.observer)((0,$.forwardRef)(((e,t)=>{(0,$.useImperativeHandle)(t,(()=>({open:h})));const{XinScreenEditorModulesMap:n,XinCoverView:o,XinTypeView:l,XinChildrenView:a,XinModuleView:i,customData:r,setcustomData:s,editorStore:d,variableStore:u,core:c,addFunc:m,getVariableValue:p,config:_}=(0,$.useContext)($r.f),v=OE.get("modules.components.basicCommon"),[b]=M.Form.useForm(),[f,E]=(0,$.useState)(!1),[g,y]=(0,$.useState)("view");function h(){E(!0)}function x(){E(!1)}return J().createElement(J().Fragment,null,J().createElement(M.Tooltip,{title:"\u753b\u9762\u53d8\u91cf"},J().createElement(M.Button,{type:"default",icon:J().createElement(H.PartitionOutlined,null),onClick:e=>{E(!0)}})),J().createElement(M.Modal,{title:"\u753b\u9762\u53d8\u91cf",width:800,open:f,destroyOnClose:!0,footer:"view"===g?null:void 0,onOk:function(){b.validateFields().then((t=>{var n;const o=(null===t||void 0===t?void 0:t.code)||"{}";try{JSON.parse(o)}catch(l){return void M.message.error("JSON\u683c\u5f0f\u4e0d\u6b63\u786e")}null===(n=e.onChange)||void 0===n||n.call(e,o),x()}))},onCancel:x},J().createElement(M.Form,{name:"basic2",form:b,layout:"vertical",colon:!1,initialValues:{code:e.value||'{\n  "name": "\u7a00\u571f\u667a\u6167\u4e91"\n}'}},J().createElement(M.Tabs,{tabBarGutter:8,type:"card",activeKey:g,onChange:e=>y(e),items:[{key:"view",label:J().createElement(J().Fragment,null,J().createElement("span",null,"\u5b9e\u65f6\u503c"),J().createElement(v.ToolTip,{title:"\u5b9e\u65f6\u503c\u4e3a\u753b\u9762\u53d8\u91cf\u9884\u89c8\u754c\u9762\uff0c\u4e0d\u80fd\u7f16\u8f91",width:350})),children:J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(v.CodeEditor,{language:"json",style:{height:400},editorOptions:{readOnly:!0,readOnlyOpacity:.4},value:JSON.stringify(u.screenVariable,null,2)})))},{key:"edit",label:"\u7f16\u8f91\u753b\u9762\u53d8\u91cf",children:J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{name:"code"},J().createElement(v.CodeEditor,{language:"json",style:{height:400}}))))}]}))))}))),ME=PE,kE=(0,$.createContext)();var DE=__webpack_require__(9461),NE={};NE.styleTagTransform=q(),NE.setAttributes=U(),NE.insert=B().bind(null,"head"),NE.domAPI=F(),NE.insertStyleElement=z();A()(DE.A,NE);const AE=DE.A&&DE.A.locals?DE.A.locals:void 0,LE=window.__app__,FE=(e,t)=>{(0,$.useImperativeHandle)(t,(()=>({save:i})));const n=LE.get("modules.reportEditor.modules"),o=LE.get("modules.components.basicCommon"),[l,a]=(0,$.useState)();function i(){return e._id?s():r()}(0,$.useEffect)((()=>{a(e.customData||d())}),[e.customData]);const r=()=>new Promise((async(t,n)=>{var o,a,i,r,s,d,u;const c=await LE.xrequest.post("/api/core/report/view/add",{name:(null===l||void 0===l||null===(o=l.data)||void 0===o||null===(a=o.attributes)||void 0===a?void 0:a.title)||"\u672a\u547d\u540d",table_id:null===l||void 0===l||null===(i=l.data)||void 0===i||null===(r=i.attributes)||void 0===r||null===(s=r.tableInfo)||void 0===s?void 0:s._id,moduleType:e.moduleType,body:l,group_id:null===l||void 0===l||null===(d=l.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.group_id});t(c),c&&M.message.success("\u65b0\u589e\u6210\u529f")})),s=()=>new Promise((async(t,n)=>{var o,a,i,r,s,d,u;const c=await LE.xrequest.post("/api/core/report/view/update",{filter:{_id:e._id},data:{name:(null===l||void 0===l||null===(o=l.data)||void 0===o||null===(a=o.attributes)||void 0===a?void 0:a.title)||"\u672a\u547d\u540d",table_id:null===l||void 0===l||null===(i=l.data)||void 0===i||null===(r=i.attributes)||void 0===r||null===(s=r.tableInfo)||void 0===s?void 0:s._id,moduleType:e.moduleType,body:l,group_id:null===l||void 0===l||null===(d=l.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.group_id}});t(c),c&&M.message.success("\u4fee\u6539\u6210\u529f")})),d=()=>{const t=n[e.moduleType||"huizong"].createFunc();return t.data.attributes&&(t.data.attributes.group_id=e.group_id),t};return J().createElement(kE.Provider,{value:{XinReportEditorModulesMap:n,customData:l,setcustomData:a,moduleType:e.moduleType,XinCommon:o,config:{mode:"editor"}}},J().createElement("div",{className:AE.editor},J().createElement("div",{className:AE.left_box},J().createElement(jE,null)),J().createElement("div",{className:AE.split_line}),J().createElement("div",{className:AE.right_box},J().createElement(YE,null))))},RE=(0,$.forwardRef)(FE),BE=window.__app__,VE=(e,t)=>{(0,$.useImperativeHandle)(t,(()=>({})));const n=BE.get("modules.reportEditor.modules"),[o,l]=(0,$.useState)();return(0,$.useEffect)((()=>{e.customData&&l(e.customData)}),[e.customData]),J().createElement(kE.Provider,{value:{XinReportEditorModulesMap:n,customData:o,setcustomData:l,moduleType:e.moduleType,config:{mode:"view"}}},J().createElement(jE,null))},UE=(0,$.forwardRef)(VE);const YE=function(e){const{XinReportEditorModulesMap:t,customData:n,setcustomData:o,config:l}=(0,$.useContext)(kE);return n&&Object.values(t).map(((e,t)=>{if(e.moduleType===n.moduleType)return J().createElement(e.Setting,{key:t,module:n,control:e.control,funcs:e.funcs,onChange:e=>function(e){let{values:t}=e,l=JSON.parse(JSON.stringify(n));l.data=t,o(l)}(e)})}))};function zE(e,t){(0,$.useImperativeHandle)(t,(()=>({getValues:r})));const{XinReportEditorModulesMap:n,customData:o,setcustomData:l,moduleType:a,config:i}=(0,$.useContext)(kE);function r(){}return o&&Object.values(n).map(((e,t)=>{if(e.moduleType===o.moduleType)return J().createElement(e.View,{key:t,module:o,control:e.control})}))}const jE=(0,$.forwardRef)(zE);var qE=__webpack_require__(8186),XE={};XE.styleTagTransform=q(),XE.setAttributes=U(),XE.insert=B().bind(null,"head"),XE.domAPI=F(),XE.insertStyleElement=z();A()(qE.A,XE);const WE=qE.A&&qE.A.locals?qE.A.locals:void 0,KE=window.__app__,$E=e=>{var t,n;const[o,l]=(0,$.useState)([]),a=(0,$.useMemo)((()=>o.filter((e=>["input","inputNumber"].includes(e.moduleType)))),[o]);(0,$.useEffect)((()=>{var t,n;(null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table)&&i()}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table]);const i=async()=>{var t,n;const o=await KE.xrequest.post("/api/core/table/detail",{_id:null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table}),a=null===o||void 0===o?void 0:o.data,i=(null===a||void 0===a?void 0:a.fields)||[];l(i)};return J().createElement(M.Select,{style:{width:"100%"},value:e.value,options:a.map((e=>{var t,n;return{label:(null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.title)||e.name,value:e.moduleId}})),placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,onChange:t=>(t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)})(t)})},JE=e=>{var t,n,o;const l=KE.get("modules.components.basicWork"),a=(0,$.useMemo)((()=>{var t,n,o;return null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.tableInfo}),[null===(t=e.module)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.tableInfo]);return J().createElement(M.Row,{gutter:[10,10],className:WE.table_filter},(e.value||[]).map(((e,t)=>J().createElement(M.Col,{span:24,key:t},J().createElement("div",{className:WE.table_area},e.map(((e,t)=>{var n,o,l;return J().createElement("div",{className:WE.table_line,key:t},J().createElement("div",{style:{flex:5,textAlign:"left"}},null===(n=e.field)||void 0===n?void 0:n.label),J().createElement("div",{style:{flex:4,textAlign:"center"}},null===(o=e.symbol)||void 0===o?void 0:o.label),J().createElement("div",{style:{flex:4,textAlign:"right"}},null===(l=e.value)||void 0===l?void 0:l.label))})))))),J().createElement(M.Col,{span:24},J().createElement(l.ConditionEditorModal,{buttonProps:{disabled:!a},modalProps:{},fields:(null===a||void 0===a?void 0:a.fields)||[],defaultModuleIds:["create_time"],value:e.value,onChange:e.onChange})))},HE=e=>{var t;const n=KE.get("modules.components.basicWork");return J().createElement(M.Row,{gutter:[10,10],className:WE.table_filter},(e.value||[]).map(((e,t)=>J().createElement(M.Col,{span:24,key:t},J().createElement("div",{className:WE.table_area},e.map(((e,t)=>{var n,o,l;return J().createElement("div",{className:WE.table_line,key:t},J().createElement("div",{style:{flex:5,textAlign:"left"}},null===(n=e.field)||void 0===n?void 0:n.label),J().createElement("div",{style:{flex:4,textAlign:"center"}},null===(o=e.symbol)||void 0===o?void 0:o.label),J().createElement("div",{style:{flex:4,textAlign:"right"}},null===(l=e.value)||void 0===l?void 0:l.label))})))))),J().createElement(M.Col,{span:24},J().createElement(n.ConditionEditorModal,{buttonProps:{},modalProps:{},fields:(null===(t=e.tableInfo)||void 0===t?void 0:t.fields)||[],value:e.value,onChange:e.onChange})))},GE=e=>{var t,n,o,l;const a=KE.get("modules.formEditor.modules"),i=KE.get("modules.components.basicCommon"),r=(0,$.useMemo)((()=>{var t,n;return null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.tableInfo}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.tableInfo]),s=(0,$.useMemo)((()=>{var t,n;let o=null===r||void 0===r?void 0:r.fields;o=null===(t=o)||void 0===t?void 0:t.filter((t=>{var n,o;return null===(n=e.options.props)||void 0===n||null===(o=n.moduleTypes)||void 0===o?void 0:o.includes(t.moduleType)}));const l=(e.value||[]).map((e=>e.moduleId));return o=null===(n=o)||void 0===n?void 0:n.filter((e=>!l.includes(e.moduleId))),o}),[null===r||void 0===r?void 0:r.fields,e.value]);function d(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return J().createElement(M.Row,{gutter:[10,10]},J().createElement(i.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"moduleId",itemRender:t=>{var n,o;let{item:l,index:a,itemProps:i,handleProps:r}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},i),J().createElement(M.Input,{readOnly:!0,style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},r,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>{!function(t){let n=JSON.parse(JSON.stringify(e.value||[]));n.splice(t,1),d(n)}(a)}})),value:(null===(n=l.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.title)||l.name}))}}),J().createElement(M.Col,{span:24},J().createElement(M.Dropdown,{menu:{items:(null===s||void 0===s?void 0:s.map((e=>{var t,n;const o=a[e.moduleType];return{data:e,key:e.moduleId,label:(null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.title)||e.name,icon:J().createElement("span",{style:{color:"#1677ff"}},o.icon)}})))||[],onClick:t=>{let{key:n}=t;const o=(null===s||void 0===s?void 0:s.filter((e=>n===e.moduleId)))||[];d(e.value.concat(o))}},trigger:["click"],placement:"bottom",disabled:!r||(null===(o=e.value)||void 0===o?void 0:o.length)>=(null===(l=e.options.props)||void 0===l?void 0:l.maxCount)},J().createElement(M.Button,{type:"primary",block:!0},"\u65b0\u589e\u7ef4\u5ea6"))))},QE=e=>{var t,n,o,l;const a=KE.get("modules.formEditor.modules"),i=KE.get("modules.components.basicCommon"),r=(0,$.useMemo)((()=>{var t,n;return null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.tableInfo}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.tableInfo]),s=(0,$.useMemo)((()=>{var t,n;let o=null===r||void 0===r?void 0:r.fields;o=null===(t=o)||void 0===t?void 0:t.filter((t=>{var n,o;return null===(n=e.options.props)||void 0===n||null===(o=n.moduleTypes)||void 0===o?void 0:o.includes(t.moduleType)}));const l=(e.value||[]).map((e=>{var t;return null===(t=e.fieldInfo)||void 0===t?void 0:t.moduleId}));return o=null===(n=o)||void 0===n?void 0:n.filter((e=>!l.includes(e.moduleId))),o}),[null===r||void 0===r?void 0:r.fields,e.value]);function d(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return J().createElement(J().Fragment,null,J().createElement(M.Row,{gutter:[10,10],className:WE.report_target},J().createElement(i.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:["fieldInfo","moduleId"],itemRender:t=>{var n,o,l,a;let{item:i,index:r,itemProps:s,handleProps:u}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},s),J().createElement(M.Input,{readOnly:!0,placeholder:"\u8bf7\u8f93\u5165",style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},u,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Select,{onClick:e=>e.stopPropagation(),className:Z()([WE.select,WE[i.symbol]]),suffixIcon:null,size:"small",placeholder:"\u8bf7\u9009\u62e9",popupMatchSelectWidth:!1,dropdownStyle:{width:100},options:((null===(n=e.options)||void 0===n||null===(o=n.props)||void 0===o?void 0:o.functions)||[]).concat([{label:"\u6c42\u548c",value:"sum"},{label:"\u5e73\u5747\u503c",value:"avg"},{label:"\u6700\u5927\u503c",value:"max"},{label:"\u6700\u5c0f\u503c",value:"min"}]),value:i.symbol,onChange:t=>{i.symbol=t;d(e.value.concat([]))}}),J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>{!function(t){let n=JSON.parse(JSON.stringify(e.value||[]));n.splice(t,1),d(n)}(r)}})),value:(null===(l=i.fieldInfo.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.title)||i.fieldInfo.name}))}}),J().createElement(M.Col,{span:24},J().createElement(M.Dropdown,{menu:{items:(null===s||void 0===s?void 0:s.map((e=>{var t,n;const o=a[e.moduleType];return{data:e,key:e.moduleId,label:(null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.title)||e.name,icon:J().createElement("span",{style:{color:"#1677ff"}},o.icon)}})))||[],onClick:t=>{let{key:n}=t;const o=(null===s||void 0===s?void 0:s.filter((e=>n===e.moduleId)).map((e=>({fieldInfo:e,symbol:"sum"}))))||[];d(e.value.concat(o))}},trigger:["click"],placement:"bottom",disabled:!r||(null===(o=e.value)||void 0===o?void 0:o.length)>=(null===(l=e.options.props)||void 0===l?void 0:l.maxCount)},J().createElement(M.Button,{type:"primary",block:!0},"\u65b0\u589e\u6307\u6807")))))},ZE=e=>{var t,n,o,l,a,i,r;const[s,d]=(0,$.useState)([]),u=(0,$.useMemo)((()=>{var t,n;return((null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.rows)||[])[0]}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.rows]);function c(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return(0,$.useEffect)((()=>{new Promise((async(t,n)=>{var o,l,a,i,r,s;const u=null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l||null===(a=l.tableInfo)||void 0===a?void 0:a._id,c=(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.rows)||[];if(!u||!c.length)return void t();const m=await KE.xrequest.post("/api/core/db/aggregate",{collection:"xin_table_record",table_id:u,aggregate:[{$group:{_id:{...Object.fromEntries(c.map((e=>[e.moduleId,"$values.".concat(e.moduleId)])))}}},{$project:{_id:0,...Object.fromEntries(c.map((e=>[e.moduleId,"$_id.".concat(e.moduleId)])))}}].filter(Boolean)}),p=(null===m||void 0===m||null===(s=m.data)||void 0===s?void 0:s.data)||[];d(p),t(p)}))}),[null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.rows]),J().createElement(J().Fragment,null,J().createElement(M.Row,{gutter:[10,10],className:WE.report_target},(e.value||[]).map(((t,n)=>J().createElement(M.Col,{span:24,key:n},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165",suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){let n=JSON.parse(JSON.stringify(e.value||[]));n.splice(t,1),c(n)}(n)}))),readOnly:!0,value:t})))),J().createElement(M.Col,{span:24},J().createElement(M.Dropdown,{menu:{items:(null===s||void 0===s?void 0:s.map(((e,t)=>({key:e[null===u||void 0===u?void 0:u.moduleId],label:e[null===u||void 0===u?void 0:u.moduleId]}))))||[],onClick:t=>{let{key:n}=t;c(e.value.concat([n]))}},trigger:["click"],placement:"bottom",disabled:!(null!==(a=e.module.data)&&void 0!==a&&null!==(i=a.attributes)&&void 0!==i&&null!==(r=i.tableInfo)&&void 0!==r&&r._id)||!u},J().createElement(M.Button,{type:"primary",block:!0},"\u65b0\u589e\u6307\u6807")))))},eg=e=>{var t,n;const o=KE.get("modules.formEditor.modules"),l=KE.get("modules.components.basicCommon"),a=(0,$.useMemo)((()=>{var t,n;return null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.tableInfo}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.tableInfo]),i=(0,$.useMemo)((()=>{var t,n;let o=null===a||void 0===a?void 0:a.fields;o=null===(t=o)||void 0===t?void 0:t.filter((t=>{var n,o;return null===(n=e.options.props)||void 0===n||null===(o=n.moduleTypes)||void 0===o?void 0:o.includes(t.moduleType)}));const l=(e.value||[]).map((e=>{var t;return null===(t=e.fieldInfo)||void 0===t?void 0:t.moduleId}));return o=null===(n=o)||void 0===n?void 0:n.filter((e=>!l.includes(e.moduleId))),o}),[null===a||void 0===a?void 0:a.fields,e.value]);function r(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}return J().createElement(M.Row,{gutter:[10,10],className:WE.report_target},J().createElement(l.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:["fieldInfo","moduleId"],itemRender:t=>{var n,o;let{item:l,index:a,itemProps:i,handleProps:s}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},i),J().createElement(M.Input,{readOnly:!0,placeholder:"\u8bf7\u8f93\u5165",style:{width:"100%"},prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},s,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Select,{onClick:e=>e.stopPropagation(),className:Z()([WE.select,WE[l.symbol]]),suffixIcon:null,size:"small",placeholder:"\u8bf7\u9009\u62e9",popupMatchSelectWidth:!1,options:[{label:"\u5347\u5e8f",value:"asc"},{label:"\u964d\u5e8f",value:"desc"}],value:l.symbol,onChange:t=>{l.symbol=t;r(e.value.concat([]))}}),J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>{!function(t){let n=JSON.parse(JSON.stringify(e.value||[]));n.splice(t,1),r(n)}(a)}})),value:(null===(n=l.fieldInfo.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.title)||l.fieldInfo.name}))}}),J().createElement(M.Col,{span:24},J().createElement(M.Dropdown,{menu:{items:(null===i||void 0===i?void 0:i.map((e=>{var t,n;const l=o[e.moduleType];return{key:e.moduleId,label:(null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.title)||e.name,icon:J().createElement("span",{style:{color:"#1677ff"}},l.icon)}})))||[],onClick:t=>{let{key:n}=t;const o=(null===i||void 0===i?void 0:i.filter((e=>n===e.moduleId)).map((e=>({fieldInfo:e,symbol:"asc"}))))||[];r(e.value.concat(o))}},trigger:["click"],placement:"bottom",disabled:!a},J().createElement(M.Button,{type:"primary",block:!0},"\u65b0\u589e\u6392\u5e8f"))))},tg=e=>{var t,n,o,l,a;return J().createElement(M.Checkbox.Group,{style:{...e.style||{}},size:e.size||"middle",value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t),disabled:null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.disabled},J().createElement(M.Row,{gutter:[10,10]},null===(o=e.options)||void 0===o||null===(l=o.props)||void 0===l||null===(a=l.options)||void 0===a?void 0:a.map(((e,t)=>J().createElement(M.Col,{span:12,key:t},J().createElement(M.Checkbox,{value:e.value},e.label))))))},ng=e=>{var t,n,o;return J().createElement("div",{className:WE.color_choose},null===(t=e.options)||void 0===t||null===(n=t.props)||void 0===n||null===(o=n.options)||void 0===o?void 0:o.map(((t,n)=>J().createElement("div",{key:n,className:WE.color_choose_item,style:{backgroundColor:t},onClick:n=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)},e.value===t&&J().createElement(H.CheckOutlined,null)))))},og=e=>{const[t,n]=(0,$.useState)([]),o=(0,$.useMemo)((()=>{function e(t){var n;return{title:t.name,value:t._id,children:(null===(n=t.children)||void 0===n?void 0:n.map((t=>e(t))))||[]}}return KE.listToTree(t,void 0,{parent_field:"parent_id",unique_field:"_id"}).map((t=>e(t)))}),[t]);return(0,$.useEffect)((()=>{new Promise((async(t,o)=>{var l,a,i;const r=await KE.xrequest.post("/api/core/report/group/list",{filter:{type:(null===(l=e.options)||void 0===l||null===(a=l.props)||void 0===a?void 0:a.type)||"reportView"},current:1,pageSize:1e4,sort:{create_time:1}}),s=(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.data)||[];n(s),t(s)}))}),[]),J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.TreeSelect,{placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,treeDefaultExpandAll:!0,treeData:o,value:e.value,onChange:t=>function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t)}(t)})))},lg=window.__app__,ag=e=>React.createElement(M.Form.Item,{label:e.label,tooltip:e.tooltip,name:e.name,noStyle:e.noStyle,required:e.required},e.children),ig=window.__app__,rg=e=>{var t;const n=ig.get("modules.components.basicCommon");return null===(t=e.items)||void 0===t?void 0:t.map(((t,o)=>J().createElement($.Fragment,{key:o},J().createElement(n.Block,{title:t.title,tooltip:t.tooltip,border:!0},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=lg.get("modules.components.basicForm"),o=lg.get("modules.components.basicWork");return React.createElement(M.Row,{gutter:[10,10]},t.map(((t,l)=>{var a;let i=t.component;if("string"===typeof t.component){const e=t.component;i=_[e]||o[e]||n[e]}return i?React.createElement(M.Col,{key:l,span:24,style:{display:t.hidden&&t.hidden(e)&&"none"}},React.createElement(ag,(null===t||void 0===t?void 0:t.formItemProps)||{},React.createElement(i,Object.assign({},e,{options:t})))):React.createElement("div",{key:l,style:{color:"red",fontSize:12}},"\u914d\u7f6e\u9879\u3010",null===(a=t.formItemProps)||void 0===a?void 0:a.label,": ",t.component,"\u3011\u7f3a\u5931\u6216\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458")})))}(e,t.children)))))},sg=e=>{var t,n,o,l;const a=ig.get("modules.components.basicCommon");return J().createElement(a.Tabs,{defaultValue:"attributes"},(null===(t=e.control)||void 0===t?void 0:t.attributes)&&J().createElement(a.Tabs.Item,{title:"\u5c5e\u6027\u914d\u7f6e",value:"attributes"},J().createElement(rg,Object.assign({},e,{items:(null===(n=e.control)||void 0===n?void 0:n.attributes)||[]}))),(null===(o=e.control)||void 0===o?void 0:o.styles)&&J().createElement(a.Tabs.Item,{title:"\u6837\u5f0f",value:"styles"},J().createElement(rg,Object.assign({},e,{items:(null===(l=e.control)||void 0===l?void 0:l.styles)||[]}))))},dg=window.__app__;function ug(e){e.resize()}const cg=e=>{window.addEventListener("resize",ug.bind(void 0,e))},mg=e=>{window.removeEventListener("resize",ug.bind(void 0,e))},pg=e=>({title:"\u57fa\u7840\u8bbe\u7f6e",children:[{component:"BasicInput",formItemProps:{label:"\u6807\u9898",name:["attributes","title"]}},...e.children||[]]});async function _g(e){var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b;let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const E=dg.get("modules.formEditor.modules"),g=null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n||null===(o=n.tableInfo)||void 0===o?void 0:o._id,y=(null===(l=e.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.filters)||[],h=(null===(i=e.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.rows)||[],x=(null===(s=e.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.columns)||[],w=(null===(u=e.data)||void 0===u||null===(c=u.attributes)||void 0===c?void 0:c.targets)||[],I=(null===(m=e.data)||void 0===m||null===(p=m.attributes)||void 0===p?void 0:p.sorts)||[],T=await(0,Ua.W)(y),C={$and:[(null===(_=T.$or)||void 0===_?void 0:_.length)&&T,(null===f||void 0===f||null===(v=f.customMatchs)||void 0===v||null===(b=v.$or)||void 0===b?void 0:b.length)&&f.customMatchs].filter(Boolean)};return{collection:"TableRecord",table_id:g,aggregate:[{$match:{...C.$and.length?C:{}}},{$group:{_id:{...Object.fromEntries(h.map((e=>{var t;const n=E[e.moduleType],o=(null===n||void 0===n||null===(t=n.config)||void 0===t?void 0:t.textSearch)||"";return[e.moduleId,["$values",e.moduleId,"value"===o?"":o].filter(Boolean).join(".")]}))),...Object.fromEntries(x.map((e=>{var t;const n=E[e.moduleType],o=(null===n||void 0===n||null===(t=n.config)||void 0===t?void 0:t.textSearch)||"";return[e.moduleId,["$values",e.moduleId,"value"===o?"":o].filter(Boolean).join(".")]})))},...Object.fromEntries(w.map((e=>{var t,n;return[null===(t=e.fieldInfo)||void 0===t?void 0:t.moduleId,"count"===e.symbol?{$sum:1}:{["$"+e.symbol]:"$values.".concat(null===(n=e.fieldInfo)||void 0===n?void 0:n.moduleId)}]})))}},{$project:{_id:0,...Object.fromEntries(h.map((e=>[e.moduleId,"$_id.".concat(e.moduleId)]))),...Object.fromEntries(x.map((e=>[e.moduleId,"$_id.".concat(e.moduleId)]))),...Object.fromEntries(w.map((e=>{var t;return[null===(t=e.fieldInfo)||void 0===t?void 0:t.moduleId,1]})))}},I.length&&{$sort:{...Object.fromEntries(I.map((e=>{var t;return[null===(t=e.fieldInfo)||void 0===t?void 0:t.moduleId,"asc"===e.symbol?1:-1]})))}}].filter(Boolean)}}const vg={createSearchOption:_g,createTableColumn:function(e,t){var n,o,l,a,i,r;let{resultList:s}=t;const d=(null===(n=e.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.rows)||[],u=(null===(l=e.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.columns)||[],c=(null===(i=e.data)||void 0===i||null===(r=i.attributes)||void 0===r?void 0:r.targets)||[];return[{title:"\u5e8f\u53f7",width:60,align:"center",fixed:"left",render:(e,t,n)=>n+1},{title:"\u884c\u7ef4\u5ea6",align:"center",children:d.map(((e,t)=>{var n,o;return{title:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.title,align:"center",width:100,fixed:"left",dataIndex:null===e||void 0===e?void 0:e.moduleId,render:(t,n,o,l)=>null===n||void 0===n?void 0:n[e.moduleId]}}))},{title:"\u5217\u7ef4\u5ea6",align:"center",children:u.map(((e,t)=>{var n,o;const l=Array.from(new Set(null===s||void 0===s?void 0:s.map((t=>t[e.moduleId]))));return{title:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.title,align:"center",children:l.map(((e,t)=>({title:e,align:"center",children:c.map(((e,t)=>{var n,o,l,a;return{title:null===e||void 0===e||null===(n=e.fieldInfo)||void 0===n||null===(o=n.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.title,align:"center",width:100,dataIndex:null===e||void 0===e||null===(a=e.fieldInfo)||void 0===a?void 0:a.moduleId,render:(t,n,o,l)=>{var a;return null===n||void 0===n?void 0:n[null===e||void 0===e||null===(a=e.fieldInfo)||void 0===a?void 0:a.moduleId]}}}))})))}}))}]}},bg={createSearchOption:_g},fg={createSearchOption:_g},Eg={createSearchOption:_g},gg={createSearchOption:async function(e){var t,n,o,l,a,i,r,s,d,u,c,m,p,_,v,b;let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const E=dg.get("modules.formEditor.modules"),g=null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n||null===(o=n.tableInfo)||void 0===o?void 0:o._id,y=(null===(l=e.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.filters)||[],h=(null===(i=e.data)||void 0===i||null===(r=i.attributes)||void 0===r||r.rows,(null===(s=e.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.columns)||[]),x=(null===(u=e.data)||void 0===u||null===(c=u.attributes)||void 0===c||c.targets,(null===(m=e.data)||void 0===m||null===(p=m.attributes)||void 0===p?void 0:p.sorts)||[]),w=await(0,Ua.W)(y),I={$and:[(null===(_=w.$or)||void 0===_?void 0:_.length)&&w,(null===f||void 0===f||null===(v=f.customMatchs)||void 0===v||null===(b=v.$or)||void 0===b?void 0:b.length)&&f.customMatchs].filter(Boolean)};return{collection:"TableRecord",function:"find",params:[{table_id:g,...I.$and.length?I:{}}],select:Object.fromEntries(h.map((e=>["values.".concat(e.moduleId),1]))),populate:[],sort:{...Object.fromEntries(x.map((e=>{var t,n,o;const l=E[null===(t=e.fieldInfo)||void 0===t?void 0:t.moduleType],a=(null===l||void 0===l||null===(n=l.config)||void 0===n?void 0:n.textSearch)||"";return[["values",null===(o=e.fieldInfo)||void 0===o?void 0:o.moduleId,"value"===a?"":a].filter(Boolean).join("."),"asc"===e.symbol?1:-1]})))}}},createTableColumn:function(e,t){var n,o,l,a,i,r;let{}=t;const s=dg.get("modules.formEditor.modules"),d=(null===(n=e.data)||void 0===n||null===(o=n.attributes)||void 0===o||o.rows,(null===(l=e.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.columns)||[]);return null===(i=e.data)||void 0===i||null===(r=i.attributes)||void 0===r||r.targets,[{title:"\u5e8f\u53f7",width:60,align:"center",fixed:"left",render:(e,t,n)=>n+1},...d.map(((e,t)=>{var n,o;return{title:(null===(n=e.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.title)||e.name,dataIndex:["values",e.moduleId],width:100,align:"center",render:(t,n,o,l)=>{var a,i;const r=null===(a=s[e.moduleType])||void 0===a||null===(i=a.funcs)||void 0===i?void 0:i.formatTextFunc,d=n[e.moduleId];return r?r(d,{moduleinfo:e}):t}}}))]}},yg={createSearchOption:_g},hg={createSearchOption:_g},xg={createSearchOption:_g},wg=[{name:"\u57fa\u7840\u5b57\u6bb5",level:1},{name:"\u9ad8\u7ea7\u5b57\u6bb5",level:2},{name:"\u5176\u5b83\u5b57\u6bb5",level:3}],Ig=[{label:"\u65e5\u62a5",value:"day"},{label:"\u5468\u62a5",value:"week"},{label:"\u6708\u62a5",value:"month"},{label:"\u5b63\u5ea6\u62a5",value:"quarter"},{label:"\u5e74\u62a5",value:"year"}],Tg=[["#4d83fd","#50cefb","#935af6","#fad355","#f76964","#ffa53d"],["#4d83fd","#50cefb","#10e1c6","#63d256","#c3dd41","#fad355"],["#4d83fd","#ff8800","#16c0ff","#ffc60c","#35c724","#8f959e"],["#4d83fd","#eb6b67","#bbbfc3","#3b5ca9","#a54b48","#20d7be"],["#4d83fd","#eb6b67","#bbbfc3","#616ae5","#f14ba9","#935af6"],["#bacefd","#b1e8fc","#a9efe6","#b7edb1","#dfef96","#f8e6ab"],["#0e8575","#12a894","#3370eb","#a575fa","#8c56ec","#c6a3ff"],["#1099cc","#4b89ff","#2655b6","#fc94cf","#ed77ba","#c24a8e"],["#1057ff","#2c6bff","#477eff","#6392ff","#80a6ff","#b8cdff"],["#16c0ff","#31c8ff","#4bcfff","#65d6ff","#81ddff","#b9ebff"],["#35c724","#45db35","#62e155","#80e774","#9eec94","#d7f7d4"],["#ffc60c","#ffcb21","#ffd13a","#ffd653","#ffdc69","#ffe799"],["#ff8800","#ff951c","#ffa33a","#ffb057","#ffbe74","#ffd9ac"],["#ff1610","#ff332a","#ff4e47","#ff6863","#ff8580","#ffbab8"],["#000000","#222222","#444444","#666666","#888888","#cccccc"]],Cg=window.__app__,Sg={attributes:[{title:"\u57fa\u7840\u8bbe\u7f6e",children:[{component:"BasicInput",formItemProps:{label:"\u62a5\u8868\u540d\u79f0",name:["name"]}},{component:"ReportViewSelectTree",formItemProps:{label:"\u62a5\u8868\u89c6\u56fe",name:["reportView_id"]},props:{moduleTypes:["huizong","mingxi"]}}]},{title:"\u7edf\u8ba1\u8bbe\u7f6e",children:[{component:"BasicSelect",formItemProps:{label:"\u7edf\u8ba1\u5468\u671f",name:["cycle"]},props:{options:Ig}},{component:"CycleFilter",formItemProps:{label:"\u5468\u671f\u914d\u7f6e",name:["filters"],tooltip:"\u5468\u671f\u6761\u4ef6\uff1a\u7edf\u8ba1\u5468\u671f\u7684\u6570\u636e\u7b5b\u9009\u6761\u4ef6\u3002\u4f8b\u5982\uff1a\n\u6bcf\u65e5\u7edf\u8ba1\u4e00\u6b21\uff0c\u5468\u671f\u6761\u4ef6\u4e3a\uff1a\u8bb0\u5f55\u521b\u5efa\u65f6\u95f4 === \u6628\u5929\u3002"},props:{moduleTypes:["datePicker"]}}]},{title:"\u6743\u9650\u914d\u7f6e",children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u5bfc\u51fa\u6570\u636e",name:["export"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]},{title:"\u5176\u5b83",children:[{component:"BasicTextarea",formItemProps:{label:"\u5907\u6ce8\u8bf4\u660e",name:["comment"]}}]}]},Og=(e,t)=>{var n;(0,$.useImperativeHandle)(t,(()=>({open:I})));Cg.get("modules.reportEditor.modules");const[o]=M.Form.useForm(),[l,a]=(0,$.useState)(!1),[i,r]=(0,$.useState)(),[s,d]=(0,$.useState)("create"),[u,c]=(0,$.useState)(!1),[m,p]=(0,$.useState)({export:!1}),[_,b]=(0,$.useState)(),[f,E]=(0,$.useState)(!1),[g,y]=(0,$.useState)([]),h=(0,$.useMemo)((()=>{var e;return null===_||void 0===_||null===(e=_.body)||void 0===e?void 0:e.moduleType}),[_]),x=(0,$.useMemo)((()=>{var e,t,n;return null===_||void 0===_||null===(e=_.body)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.tableInfo}),[_]),w=(0,$.useMemo)((()=>{var e;return h?null===(e=v[h||"huizong"])||void 0===e?void 0:e.createTableColumn(null===_||void 0===_?void 0:_.body,{resultList:g}):[]}),[_,g]);function I(e,t){d(e||"create"),r(t);const n={export:!1,...(null===t||void 0===t?void 0:t.body)||{}};p(n),o.setFieldsValue(n),c(!0)}(0,$.useEffect)((()=>{(null===_||void 0===_?void 0:_.body)&&new Promise((async(e,t)=>{var n,o,l;const a={huizong:"db_aggregate",mingxi:"db_model"},i=null===_||void 0===_?void 0:_.body;if(!(null===i||void 0===i||null===(n=i.data)||void 0===n||null===(o=n.attributes)||void 0===o||null===(l=o.tableInfo)||void 0===l?void 0:l._id))return void e();const r=re()().startOf(null===m||void 0===m?void 0:m.cycle).valueOf(),s=(re()(r).add(1,null===m||void 0===m?void 0:m.cycle).valueOf(),await(0,Ua.W)(null===m||void 0===m?void 0:m.filters)),d=v[h],u=await(null===d||void 0===d?void 0:d.createSearchOption(i,{customMatchs:s})),c=await Cg.apis[a[h]](u),p=((null===c||void 0===c?void 0:c.data)||[]).map((e=>({...e,key:Cg.uuid()})));y(p),e(p)}))}),[_,null===m||void 0===m?void 0:m.cycle]),(0,$.useEffect)((()=>{(null===m||void 0===m?void 0:m.reportView_id)&&T()}),[null===m||void 0===m?void 0:m.reportView_id]);const T=async()=>{const e=await Cg.xrequest.post("/api/core/report/view/detail",{_id:null===m||void 0===m?void 0:m.reportView_id});b(e)};async function C(t){var n;a(!0),"create"===s?await new Promise((async(e,t)=>{const n=await Cg.xrequest.post("/api/core/report/add",{...m||{},moduleType:null===_||void 0===_?void 0:_.moduleType,table_id:null===_||void 0===_?void 0:_.table_id,report_view_id:null===_||void 0===_?void 0:_._id,reportViewInfo:void 0,body:m});e(n),n&&(M.message.success("\u65b0\u589e\u6210\u529f"),S())})):await new Promise((async(e,t)=>{const n=await Cg.xrequest.post("/api/core/report/update",{filter:{_id:null===i||void 0===i?void 0:i._id},data:{...m||{},moduleType:null===_||void 0===_?void 0:_.moduleType,table_id:null===_||void 0===_?void 0:_.table_id,report_view_id:null===_||void 0===_?void 0:_._id,reportViewInfo:void 0,body:m}});e(n),n&&(M.message.success("\u4fee\u6539\u6210\u529f"),S())})),a(!1),null===(n=e.refresh)||void 0===n||n.call(e)}function S(e){c(!1),p(),r(),y(),o.resetFields()}return J().createElement(M.Modal,{title:"create"===s?"\u65b0\u5efa\u62a5\u8868":"\u7f16\u8f91\u62a5\u8868",width:1100,open:u,maskClosable:!1,destroyOnClose:!0,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",confirmLoading:l,onOk:e=>C(),onCancel:e=>S()},J().createElement("div",{className:AE.editor},J().createElement("div",{className:AE.left_box},J().createElement(M.Table,{size:"small",bordered:!0,loading:f,columns:w,dataSource:g,pagination:!1,rowKey:e=>e.key,scroll:{x:620,y:550}})),J().createElement("div",{className:AE.split_line}),J().createElement("div",{className:AE.right_box},J().createElement(M.Form,{className:WE.form,form:o,labelCol:{span:8},wrapperCol:{span:16},layout:"horizontal",labelAlign:"left",colon:!1,onValuesChange:(e,t)=>function(e,t){p(t)}(0,t)},J().createElement(sg,{tableInfo:{fields:[...(null===x||void 0===x||null===(n=x.fields)||void 0===n?void 0:n.filter((e=>["datePicker"].includes(e.moduleType))))||[],{moduleId:"create_time",moduleType:"datePicker",data:{attributes:{title:"\u521b\u5efa\u65f6\u95f4"}}}]},data:m,control:Sg,onChange:void 0})))))},Pg=(0,$.forwardRef)(Og),Mg=window.__app__,kg=(e,t)=>{(0,$.useImperativeHandle)(t,(()=>({open:p})));const[n,o]=(0,$.useState)(!1),[l,a]=(0,$.useState)(!1),[i,r]=(0,$.useState)(!1),[s,d]=(0,$.useState)([]),[u,c]=(0,$.useState)(),m=(0,$.useMemo)((()=>{var e,t;const n=null===u||void 0===u?void 0:u.reportInfo,o=null===n||void 0===n?void 0:n.moduleType,l=null===n||void 0===n||null===(e=n.body)||void 0===e?void 0:e.reportViewInfo;return o?null===(t=v[o||"huizong"])||void 0===t?void 0:t.createTableColumn(null===l||void 0===l?void 0:l.body,{resultList:(null===u||void 0===u?void 0:u.body)||[]}):[]}),[u]);function p(e,t){a(!0),async function(e){var t;const n=await Mg.xrequest.post("/api/core/report/record/list",{filter:{report_id:e._id},current:1,pageSize:1e4});d((null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data)||[])}(t)}return J().createElement(M.Modal,{title:"\u67e5\u770b\u62a5\u8868",width:1100,open:l,maskClosable:!0,destroyOnClose:!0,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",confirmLoading:n,footer:!1,onCancel:e=>(a(!1),void c())},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{flex:1},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:6},J().createElement(M.Select,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u62a5\u544a",options:null===s||void 0===s?void 0:s.map((e=>({label:e.title,value:e._id}))),onChange:(e,t)=>{!async function(e){r(!0);const t=await Mg.xrequest.post("/api/core/report/record/detail",{_id:e});r(!1),t&&c(null===t||void 0===t?void 0:t.data)}(e)}})))),J().createElement(M.Col,null,J().createElement(M.Space,{size:[10,10]},J().createElement(M.Button,{type:"primary",disabled:!u,onClick:e=>{M.message.warning("\u5bfc\u51fa\u529f\u80fd\u6682\u4e0d\u53ef\u7528")}},"\u5bfc\u51fa\u62a5\u8868"))))),J().createElement(M.Col,{span:24},J().createElement(M.Table,{size:"small",bordered:!0,loading:i,columns:m,dataSource:(null===u||void 0===u?void 0:u.body)||[],pagination:!1,rowKey:e=>String(Math.random()),scroll:{x:620}}))))},Dg=(0,$.forwardRef)(kg);var Ng=__webpack_require__(8040),Ag={};Ag.styleTagTransform=q(),Ag.setAttributes=U(),Ag.insert=B().bind(null,"head"),Ag.domAPI=F(),Ag.insertStyleElement=z();A()(Ng.A,Ag);const Lg=Ng.A&&Ng.A.locals?Ng.A.locals:void 0,Fg=window.__app__,Rg=e=>{var t,n;const{XinReportEditorModulesMap:o,customData:l,config:a}=(0,$.useContext)(kE),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)(!1);(0,$.useEffect)((()=>{!async function(){d(!0),await new Promise((async(t,n)=>{var o,l,a,i,s,d,u,c,m,p,_,v;const b=null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l||null===(a=l.tableInfo)||void 0===a?void 0:a._id,f=(null===(i=e.module.data)||void 0===i||null===(s=i.attributes)||void 0===s||s.filters,(null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.rows)||[]),E=(null===(c=e.module.data)||void 0===c||null===(m=c.attributes)||void 0===m?void 0:m.columns)||[],g=(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.targets)||[];if(!b||!f.length&&!E.length&&!g.length)return void t();const y=await vg.createSearchOption(e.module),h=await Fg.xrequest.post("/api/core/db/aggregate",y),x=((null===h||void 0===h||null===(v=h.data)||void 0===v?void 0:v.data)||[]).map((e=>({...e,key:Fg.uuid()}))).sort(((e,t)=>{var n;const o=null===f||void 0===f||null===(n=f[0])||void 0===n?void 0:n.moduleId;return o&&e[o]<t[o]?-1:o&&e[o]>t[o]?1:0}));r(x),t(x)})),d(!1)}()}),[null===(t=e.module.data)||void 0===t?void 0:t.attributes]);const u=(0,$.useMemo)((()=>vg.createTableColumn(e.module,{resultList:i})),[null===(n=e.module.data)||void 0===n?void 0:n.attributes,i]);return J().createElement(M.Table,{size:"small",bordered:!0,loading:s,columns:u,dataSource:i,pagination:!1,rowKey:e=>e.key,scroll:{x:"editor"===a.mode?620:void 0,y:"editor"===a.mode?450:void 0}})},Bg=(0,$.memo)(Rg);const Vg=function(e){const[t]=M.Form.useForm();return(0,$.useEffect)((()=>{t.setFieldsValue(e.module.data)}),[e.module.data]),J().createElement(M.Form,{className:WE.form,form:t,labelCol:{span:8},wrapperCol:{span:16},layout:"horizontal",labelAlign:"left",colon:!1,initialValues:e.module.data,onValuesChange:(t,n)=>function(t,n){var o;null===(o=e.onChange)||void 0===o||o.call(e,{values:n,moduleId:e.module.moduleId})}(0,n)},J().createElement(sg,Object.assign({},e,{onChange:void 0})))},Ug=window.__app__;function Yg(e){const t=Ug.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-fsux_tubiao_biaoge"})}const zg={TYPE:"\u57fa\u7840\u89c6\u56fe",MODULE_TYPE:"huizong",NAME:"\u6c47\u603b\u8868",ICON:J().createElement(Yg,null)};const jg={attributes:{title:zg.NAME,tableInfo:void 0,filters:[],rows:[],columns:[],targets:[]},styles:{}},qg={attributes1:[],attributes:[pg({moduleType:zg.MODULE_TYPE,children:[{component:"ReportGroupSelectTree",formItemProps:{label:"\u5206\u7ec4",name:["attributes","group_id"]},props:{type:"reportView"}}]}),{title:"\u6570\u636e\u6e90\u8bbe\u7f6e",children:[{component:"TableTreeSelectInfo",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","tableInfo"]}},{component:"TableTreeSelectInfoUpdate",formItemProps:{label:"\u66f4\u65b0\u914d\u7f6e",name:["attributes","tableInfo"],tooltip:"\u5982\u679c\u60a8\u4fee\u6539\u4e86\u6570\u636e\u8868\u7684\u5b57\u6bb5\u6216\u7ed3\u6784\uff0c\u5bfc\u81f4\u8be5\u89c6\u56fe\u9519\u8bef\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u952e\u66f4\u65b0\u8868\u914d\u7f6e\u6765\u4fee\u590d\u3002"}},{component:"TableFilter",formItemProps:{label:"\u7b5b\u9009\u6761\u4ef6",name:["attributes","filters"]},props:{moduleTypes:["input","inputNumber","calculateNumber","rate","slider","datePicker","radio","select","switch"]}}]},{title:"\u62a5\u8868\u8bbe\u7f6e",children:[{component:"ReportDimension",formItemProps:{label:"\u884c\u7ef4\u5ea6",name:["attributes","rows"]},props:{moduleTypes:["input","datePicker","relation","userSelect","organizationSelect","radio","select"]}},{component:"ReportDimension",formItemProps:{label:"\u5217\u7ef4\u5ea6",name:["attributes","columns"]},props:{moduleTypes:["input","datePicker","relation"]}},{component:"ReportTarget",formItemProps:{label:"\u6307\u6807",name:["attributes","targets"]},props:{moduleTypes:["inputNumber","calculateNumber","rate","slider"],functions:[{label:"\u6c42\u603b\u6570",value:"count"}]}}]}],styles:[{title:" ",children:[{component:e=>J().createElement(M.Empty,{description:"\u65e0\u9700\u914d\u7f6e\u6837\u5f0f",style:{margin:"0 50px"}}),formItemProps:{label:" ",name:["styles","hook"]}}]}]};const Xg={type:zg.TYPE,moduleType:zg.MODULE_TYPE,name:zg.NAME,icon:zg.ICON,data:jg,control:qg,config:{},View:Bg,Setting:Vg,funcs:{createItemFunc:function(){return{label:"\u9009\u9879",value:Ug.uuid("uid_"),color:{r:230,g:230,b:230,a:1}}}},createFunc:function(){const e=Ug.uuid(zg.MODULE_TYPE+"_"),t={type:zg.TYPE,moduleType:zg.MODULE_TYPE,moduleId:e,name:zg.NAME,data:jg};return JSON.parse(JSON.stringify(t))}},Wg=window.__app__,Kg=e=>{var t,n;const{XinReportEditorModulesMap:o,customData:l,config:a}=(0,$.useContext)(kE),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)(!1);(0,$.useEffect)((()=>{!async function(){d(!0),await new Promise((async(t,n)=>{var o,l,a,i,s,d,u,c,m,p;const _=null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l||null===(a=l.tableInfo)||void 0===a?void 0:a._id,v=(null===(i=e.module.data)||void 0===i||null===(s=i.attributes)||void 0===s||s.filters,(null===(d=e.module.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.columns)||[]);if(null===(c=e.module.data)||void 0===c||null===(m=c.attributes)||void 0===m||m.sorts,!_||!v.length)return void t();const b=await gg.createSearchOption(e.module),f=await Wg.xrequest.post("/api/core/db/model",b),E=((null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.data)||[]).map((e=>({...e,key:Wg.uuid()})));r(E),t(E)})),d(!1)}()}),[null===(t=e.module.data)||void 0===t?void 0:t.attributes]);const u=(0,$.useMemo)((()=>gg.createTableColumn(e.module,{})),[null===(n=e.module.data)||void 0===n?void 0:n.attributes]);return J().createElement(M.Table,{size:"small",bordered:!0,loading:s,columns:u,dataSource:i,pagination:!1,rowKey:e=>e.key,scroll:{x:"editor"===a.mode?620:void 0,y:"editor"===a.mode?450:void 0}})},$g=(0,$.memo)(Kg),Jg=window.__app__;function Hg(e){const t=Jg.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-fsux_tubiao_biaoge"})}const Gg={TYPE:"\u57fa\u7840\u89c6\u56fe",MODULE_TYPE:"mingxi",NAME:"\u660e\u7ec6\u8868",ICON:J().createElement(Hg,null)};const Qg={attributes:{title:Gg.NAME,tableInfo:void 0,filters:[],columns:[],sorts:[]},styles:{}},Zg={attributes:[pg({moduleType:Gg.MODULE_TYPE,children:[{component:"ReportGroupSelectTree",formItemProps:{label:"\u5206\u7ec4",name:["attributes","group_id"]},props:{type:"reportView"}}]}),{title:"\u6570\u636e\u6e90\u8bbe\u7f6e",children:[{component:"TableTreeSelectInfo",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","tableInfo"]}},{component:"TableTreeSelectInfoUpdate",formItemProps:{label:"\u66f4\u65b0\u914d\u7f6e",name:["attributes","tableInfo"],tooltip:"\u5982\u679c\u60a8\u4fee\u6539\u4e86\u6570\u636e\u8868\u7684\u5b57\u6bb5\u6216\u7ed3\u6784\uff0c\u5bfc\u81f4\u8be5\u89c6\u56fe\u9519\u8bef\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u952e\u66f4\u65b0\u8868\u914d\u7f6e\u6765\u4fee\u590d\u3002"}},{component:"TableFilter",formItemProps:{label:"\u7b5b\u9009\u6761\u4ef6",name:["attributes","filters"],tooltip:"\u8bf7\u6ce8\u610f\uff1a\u5982\u679c\u60a8\u5c06\u628a\u6b64\u89c6\u56fe\u7528\u4e8e\u62a5\u8868\uff0c\u8bf7\u60a8\u52ff\u8bbe\u7f6e\u62a5\u8868\u5468\u671f\u6761\u4ef6\u76f8\u5173\u7684\u5185\u5bb9\u3002"},props:{moduleTypes:["input","inputNumber","rate","slider","datePicker","radio","select","switch"]}}]},{title:"\u62a5\u8868\u8bbe\u7f6e",children:[{component:"ReportDimension",formItemProps:{label:"\u5217\u7ef4\u5ea6",name:["attributes","columns"]},props:{moduleTypes:["inputNumber","calculateNumber","input","datePicker","rate","slider","address","checkbox","datePicker","dateRangePicker","email","location","radio","relation","select","switch","textarea","url","userSelect","organizationSelect"]}},{component:"ReportSort",formItemProps:{label:"\u6392\u5e8f",name:["attributes","sorts"]},props:{moduleTypes:["inputNumber","calculateNumber","input","datePicker","rate","slider","address","datePicker","dateRangePicker","email","location","radio","relation","select","switch","textarea","url","userSelect","organizationSelect"]}}]}],styles:[{title:" ",children:[{component:e=>J().createElement(M.Empty,{description:"\u65e0\u9700\u914d\u7f6e\u6837\u5f0f",style:{margin:"0 50px"}}),formItemProps:{label:" ",name:["styles","hook"]}}]}]};const ey={type:Gg.TYPE,moduleType:Gg.MODULE_TYPE,name:Gg.NAME,icon:Gg.ICON,data:Qg,control:Zg,config:{},View:$g,Setting:Vg,funcs:{createItemFunc:function(){return{label:"\u9009\u9879",value:Jg.uuid("uid_"),color:{r:230,g:230,b:230,a:1}}}},createFunc:function(){const e=Jg.uuid(Gg.MODULE_TYPE+"_"),t={type:Gg.TYPE,moduleType:Gg.MODULE_TYPE,moduleId:e,name:Gg.NAME,data:Qg};return JSON.parse(JSON.stringify(t))}},ty=window.__app__,ny=e=>{var t;const n=ty.get("modules.formEditor.modules"),{XinReportEditorModulesMap:o,customData:l,config:a}=(0,$.useContext)(kE),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)(!1),u=((0,$.useRef)(!0),(0,$.useRef)()),c=(0,$.useRef)();return(0,$.useEffect)((()=>{!function(){if(c.current)return;c.current=xb.init(u.current)}()}),[]),(0,$.useEffect)((()=>{!async function(){d(!0),await new Promise((async(t,o)=>{var l,a,i,s,d,u,m,p,_,v,b,f;const E=null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a||null===(i=a.tableInfo)||void 0===i?void 0:i._id,g=(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d||d.filters,(null===(u=e.module.data)||void 0===u||null===(m=u.attributes)||void 0===m?void 0:m.rows)||[]),y=(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.targets)||[];if(null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b||b.sorts,!E||!g.length&&!y.length)return void t();const h=await yg.createSearchOption(e.module),x=await ty.xrequest.post("/api/core/db/aggregate",h),w=((null===x||void 0===x||null===(f=x.data)||void 0===f?void 0:f.data)||[]).map((e=>({...e,key:ty.uuid()}))).sort(((e,t)=>{var n;const o=null===g||void 0===g||null===(n=g[0])||void 0===n?void 0:n.moduleId;return o&&e[o]<t[o]?-1:o&&e[o]>t[o]?1:0}));r(w),async function(t){var o,l,a,i,r,s,d,u,m,p,_;const v=(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.rows)||[],b=(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.targets)||[],f={legend:{show:null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s||null===(d=s.chartItems)||void 0===d?void 0:d.includes("legend"),data:b.map((e=>{var t,n,o,l;return"count"===e.symbol?"\u6570\u91cf":(null===(t=e.fieldInfo)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.title)||(null===(l=e.fieldInfo)||void 0===l?void 0:l.name)}))},tooltip:{show:null===(u=e.module.data)||void 0===u||null===(m=u.attributes)||void 0===m||null===(p=m.chartItems)||void 0===p?void 0:p.includes("tooltip"),trigger:"axis"},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%",containLabel:!0},xAxis:{type:"category",data:t.map((e=>{var t,o;const l=v[0];return null===(t=n[l.moduleType])||void 0===t||null===(o=t.funcs)||void 0===o||o.formatTextFunc,e[null===l||void 0===l?void 0:l.moduleId]}))},yAxis:{type:"value"},series:b.map((n=>{var o,l,a,i,r,s,d,u,c,m;return{name:"count"===n.symbol?"\u6570\u91cf":(null===(o=n.fieldInfo)||void 0===o||null===(l=o.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.title)||(null===(i=n.fieldInfo)||void 0===i?void 0:i.name),data:t.map((e=>{var t;return e[null===(t=n.fieldInfo)||void 0===t?void 0:t.moduleId]})),type:"line",label:{show:null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s||null===(d=s.chartItems)||void 0===d?void 0:d.includes("label"),position:"top"},smooth:null===(u=e.module.data)||void 0===u||null===(c=u.styles)||void 0===c||null===(m=c.series)||void 0===m?void 0:m.smooth}}))};null===(_=c.current)||void 0===_||_.setOption(f,!0)}(w),t(w)})),d(!1)}()}),[null===(t=e.module.data)||void 0===t?void 0:t.attributes]),J().createElement("div",{ref:u,className:Z()([Lg.zhexian,Lg.common,Lg[a.mode||"view"]])})},oy=(0,$.memo)(ny),ly=window.__app__;function ay(e){const t=ly.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-fsux_zhexiantu"})}const iy={TYPE:"\u57fa\u7840\u89c6\u56fe",MODULE_TYPE:"zhexian",NAME:"\u6298\u7ebf\u56fe",ICON:J().createElement(ay,null)};const ry={attributes:{title:iy.NAME,tableInfo:void 0,filters:[],rows:[],targets:[],sorts:[],chartItems:["legend","label","tooltip"]},styles:{series:{smooth:!1}}},sy={attributes:[pg({moduleType:iy.MODULE_TYPE,children:[{component:"ReportGroupSelectTree",formItemProps:{label:"\u5206\u7ec4",name:["attributes","group_id"]},props:{type:"reportView"}}]}),{title:"\u6570\u636e\u6e90\u8bbe\u7f6e",children:[{component:"TableTreeSelectInfo",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","tableInfo"]}},{component:"TableTreeSelectInfoUpdate",formItemProps:{label:"\u66f4\u65b0\u914d\u7f6e",name:["attributes","tableInfo"],tooltip:"\u5982\u679c\u60a8\u4fee\u6539\u4e86\u6570\u636e\u8868\u7684\u5b57\u6bb5\u6216\u7ed3\u6784\uff0c\u5bfc\u81f4\u8be5\u89c6\u56fe\u9519\u8bef\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u952e\u66f4\u65b0\u8868\u914d\u7f6e\u6765\u4fee\u590d\u3002"}},{component:"TableFilter",formItemProps:{label:"\u7b5b\u9009\u6761\u4ef6",name:["attributes","filters"]},props:{moduleTypes:["input","inputNumber","calculateNumber","rate","slider","datePicker","radio","select","switch"]}}]},{title:"\u62a5\u8868\u8bbe\u7f6e",children:[{component:"ReportDimension",formItemProps:{label:"\u7ef4\u5ea6",name:["attributes","rows"],tooltip:"\u6298\u7ebf\u56fe\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u7ef4\u5ea6"},props:{moduleTypes:["input","datePicker","relation","userSelect","organizationSelect","radio","select"],maxCount:1}},{component:"ReportTarget",formItemProps:{label:"\u6307\u6807",name:["attributes","targets"]},props:{moduleTypes:["inputNumber","calculateNumber","rate","slider"],functions:[{label:"\u6c42\u603b\u6570",value:"count"}]}},{component:"ReportSort",formItemProps:{label:"\u6392\u5e8f",name:["attributes","sorts"]},props:{moduleTypes:["inputNumber","calculateNumber","input","relation","radio","select","datePicker","rate","slider"]}}]},{title:"\u56fe\u8868\u914d\u7f6e",children:[{component:"ReportCheckboxGroup",formItemProps:{label:"\u56fe\u8868\u9009\u9879",name:["attributes","chartItems"]},props:{options:[{label:"\u56fe\u4f8b",value:"legend"},{label:"\u6570\u636e\u6807\u7b7e",value:"label"},{label:"\u63d0\u793a\u6846",value:"tooltip"}]}}]}],styles:[{title:"\u7cfb\u5217\u5c5e\u6027",children:[{component:"RadioButtonGroupInLine",formItemProps:{label:"\u5e73\u6ed1\u66f2\u7ebf",name:["styles","series","smooth"]},props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}]}]};const dy={type:iy.TYPE,moduleType:iy.MODULE_TYPE,name:iy.NAME,icon:iy.ICON,data:ry,control:sy,config:{},View:oy,Setting:Vg,funcs:{createItemFunc:function(){return{label:"\u9009\u9879",value:ly.uuid("uid_"),color:{r:230,g:230,b:230,a:1}}}},createFunc:function(){const e=ly.uuid(iy.MODULE_TYPE+"_"),t={type:iy.TYPE,moduleType:iy.MODULE_TYPE,moduleId:e,name:iy.NAME,data:ry};return JSON.parse(JSON.stringify(t))}},uy=window.__app__,cy=e=>{var t;const n=uy.get("modules.formEditor.modules"),{XinReportEditorModulesMap:o,customData:l,config:a}=(0,$.useContext)(kE),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)(!1),u=(0,$.useRef)(),c=(0,$.useRef)();return(0,$.useEffect)((()=>{!function(){if(c.current)return;c.current=xb.init(u.current)}()}),[]),(0,$.useEffect)((()=>{!async function(){d(!0),await new Promise((async(t,o)=>{var l,a,i,s,d,u,m,p,_,v,b,f;const E=null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a||null===(i=a.tableInfo)||void 0===i?void 0:i._id,g=(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d||d.filters,(null===(u=e.module.data)||void 0===u||null===(m=u.attributes)||void 0===m?void 0:m.rows)||[]),y=(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.targets)||[];if(null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b||b.sorts,!E||!g.length&&!y.length)return void t();const h=await xg.createSearchOption(e.module),x=await uy.xrequest.post("/api/core/db/aggregate",h),w=((null===x||void 0===x||null===(f=x.data)||void 0===f?void 0:f.data)||[]).map((e=>({...e,key:uy.uuid()}))).sort(((e,t)=>{var n;const o=null===g||void 0===g||null===(n=g[0])||void 0===n?void 0:n.moduleId;return o&&e[o]<t[o]?-1:o&&e[o]>t[o]?1:0}));r(w),async function(t){var o,l,a,i,r,s,d,u,m,p,_;const v=(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.rows)||[],b=(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.targets)||[],f={legend:{show:null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s||null===(d=s.chartItems)||void 0===d?void 0:d.includes("legend"),data:b.map((e=>{var t,n,o,l;return"count"===e.symbol?"\u6570\u91cf":(null===(t=e.fieldInfo)||void 0===t||null===(n=t.data)||void 0===n||null===(o=n.attributes)||void 0===o?void 0:o.title)||(null===(l=e.fieldInfo)||void 0===l?void 0:l.name)}))},tooltip:{show:null===(u=e.module.data)||void 0===u||null===(m=u.attributes)||void 0===m||null===(p=m.chartItems)||void 0===p?void 0:p.includes("tooltip"),trigger:"axis"},grid:{left:"5%",right:"5%",bottom:"10%",top:"20%",containLabel:!0},xAxis:{type:"category",data:t.map((e=>{var t,o;const l=v[0];return null===(t=n[l.moduleType])||void 0===t||null===(o=t.funcs)||void 0===o||o.formatTextFunc,e[null===l||void 0===l?void 0:l.moduleId]}))},yAxis:{type:"value"},series:b.map((n=>{var o,l,a,i,r,s,d,u,c,m;return{name:"count"===n.symbol?"\u6570\u91cf":(null===(o=n.fieldInfo)||void 0===o||null===(l=o.data)||void 0===l||null===(a=l.attributes)||void 0===a?void 0:a.title)||(null===(i=n.fieldInfo)||void 0===i?void 0:i.name),data:t.map((e=>{var t;return e[null===(t=n.fieldInfo)||void 0===t?void 0:t.moduleId]})),type:"bar",label:{show:null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s||null===(d=s.chartItems)||void 0===d?void 0:d.includes("label"),position:"top"},barWidth:null===(u=e.module.data)||void 0===u||null===(c=u.styles)||void 0===c||null===(m=c.series)||void 0===m?void 0:m.barWidth}}))};null===(_=c.current)||void 0===_||_.setOption(f,!0)}(w),t(w)})),d(!1)}()}),[null===(t=e.module.data)||void 0===t?void 0:t.attributes]),J().createElement("div",{ref:u,className:Z()([Lg.zhuzhuang,Lg.common,Lg[a.mode||"view"]])})},my=(0,$.memo)(cy),py=window.__app__;function _y(e){const t=py.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-fsux_tubiao_zhuzhuangtu"})}const vy={TYPE:"\u57fa\u7840\u89c6\u56fe",MODULE_TYPE:"zhuzhuang",NAME:"\u67f1\u72b6\u56fe",ICON:J().createElement(_y,null)};const by={attributes:{title:vy.NAME,tableInfo:void 0,filters:[],rows:[],targets:[],sorts:[],chartItems:["legend","label","tooltip"]},styles:{}},fy={attributes:[pg({moduleType:vy.MODULE_TYPE,children:[{component:"ReportGroupSelectTree",formItemProps:{label:"\u5206\u7ec4",name:["attributes","group_id"]},props:{type:"reportView"}}]}),{title:"\u6570\u636e\u6e90\u8bbe\u7f6e",children:[{component:"TableTreeSelectInfo",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","tableInfo"]}},{component:"TableTreeSelectInfoUpdate",formItemProps:{label:"\u66f4\u65b0\u914d\u7f6e",name:["attributes","tableInfo"],tooltip:"\u5982\u679c\u60a8\u4fee\u6539\u4e86\u6570\u636e\u8868\u7684\u5b57\u6bb5\u6216\u7ed3\u6784\uff0c\u5bfc\u81f4\u8be5\u89c6\u56fe\u9519\u8bef\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u952e\u66f4\u65b0\u8868\u914d\u7f6e\u6765\u4fee\u590d\u3002"}},{component:"TableFilter",formItemProps:{label:"\u7b5b\u9009\u6761\u4ef6",name:["attributes","filters"]},props:{moduleTypes:["input","inputNumber","calculateNumber","rate","slider","datePicker","radio","select","switch"]}}]},{title:"\u62a5\u8868\u8bbe\u7f6e",children:[{component:"ReportDimension",formItemProps:{label:"\u7ef4\u5ea6",name:["attributes","rows"],tooltip:"\u6298\u7ebf\u56fe\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u7ef4\u5ea6"},props:{moduleTypes:["input","datePicker","relation","userSelect","organizationSelect","radio","select"],maxCount:1}},{component:"ReportTarget",formItemProps:{label:"\u6307\u6807",name:["attributes","targets"]},props:{moduleTypes:["inputNumber","calculateNumber","rate","slider"],functions:[{label:"\u6c42\u603b\u6570",value:"count"}]}},{component:"ReportSort",formItemProps:{label:"\u6392\u5e8f",name:["attributes","sorts"]},props:{moduleTypes:["inputNumber","calculateNumber","input","relation","radio","select","datePicker","rate","slider"]}}]},{title:"\u56fe\u8868\u914d\u7f6e",children:[{component:"ReportCheckboxGroup",formItemProps:{label:"\u56fe\u8868\u9009\u9879",name:["attributes","chartItems"]},props:{options:[{label:"\u56fe\u4f8b",value:"legend"},{label:"\u6570\u636e\u6807\u7b7e",value:"label"},{label:"\u63d0\u793a\u6846",value:"tooltip"}]}}]}],styles:[{title:"\u7cfb\u5217\u5c5e\u6027",children:[{component:"InputNumberWithSlider",formItemProps:{label:"\u67f1\u6761\u5bbd\u5ea6",name:["styles","series","barWidth"]},props:{min:1,max:100,step:1}}]}]};const Ey={type:vy.TYPE,moduleType:vy.MODULE_TYPE,name:vy.NAME,icon:vy.ICON,data:by,control:fy,config:{},View:my,Setting:Vg,funcs:{createItemFunc:function(){return{label:"\u9009\u9879",value:py.uuid("uid_"),color:{r:230,g:230,b:230,a:1}}}},createFunc:function(){const e=py.uuid(vy.MODULE_TYPE+"_"),t={type:vy.TYPE,moduleType:vy.MODULE_TYPE,moduleId:e,name:vy.NAME,data:by};return JSON.parse(JSON.stringify(t))}},gy=window.__app__,yy=e=>{var t;const n=gy.get("modules.formEditor.modules"),{XinReportEditorModulesMap:o,customData:l,config:a}=(0,$.useContext)(kE),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)(!1),u=((0,$.useRef)(!0),(0,$.useRef)()),c=(0,$.useRef)();return(0,$.useEffect)((()=>{!function(){if(c.current)return;c.current=xb.init(u.current)}()}),[]),(0,$.useEffect)((()=>{!async function(){d(!0),await new Promise((async(t,o)=>{var l,a,i,s,d,u,m,p,_,v,b,f;const E=null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a||null===(i=a.tableInfo)||void 0===i?void 0:i._id,g=(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d||d.filters,(null===(u=e.module.data)||void 0===u||null===(m=u.attributes)||void 0===m?void 0:m.rows)||[]),y=(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.targets)||[];if(null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b||b.sorts,!E||!g.length&&!y.length)return void t();const h=await bg.createSearchOption(e.module),x=await gy.xrequest.post("/api/core/db/aggregate",h),w=((null===x||void 0===x||null===(f=x.data)||void 0===f?void 0:f.data)||[]).map((e=>({...e,key:gy.uuid()}))).sort(((e,t)=>{var n;const o=null===g||void 0===g||null===(n=g[0])||void 0===n?void 0:n.moduleId;return o&&e[o]<t[o]?-1:o&&e[o]>t[o]?1:0}));r(w),async function(t){var o,l,a,i,r,s,d,u,m,p,_,v,b,f,E,g,y;const h=(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.rows)||[],x=(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.targets)||[],w=h[0],I=x[0],T={legend:{show:null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s||null===(d=s.chartItems)||void 0===d?void 0:d.includes("legend"),orient:"horizontal",left:"center"},tooltip:{show:null===(u=e.module.data)||void 0===u||null===(m=u.attributes)||void 0===m||null===(p=m.chartItems)||void 0===p?void 0:p.includes("tooltip"),trigger:"item"},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%",containLabel:!0},series:[{type:"pie",radius:10+8*((null===(_=e.module.data)||void 0===_||null===(v=_.styles)||void 0===v||null===(b=v.series)||void 0===b?void 0:b.radius)||0)+"%",label:{show:null===(f=e.module.data)||void 0===f||null===(E=f.attributes)||void 0===E||null===(g=E.chartItems)||void 0===g?void 0:g.includes("label")},data:t.map((e=>{var t,o,l;const a=w,i=null===(t=n[a.moduleType])||void 0===t||null===(o=t.funcs)||void 0===o?void 0:o.formatTextFunc;return i?i(e[null===a||void 0===a?void 0:a.moduleId],{moduleinfo:a}):e[null===a||void 0===a?void 0:a.moduleId],{name:e[null===a||void 0===a?void 0:a.moduleId],value:e[null===I||void 0===I||null===(l=I.fieldInfo)||void 0===l?void 0:l.moduleId]}})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};null===(y=c.current)||void 0===y||y.setOption(T,!0)}(w),t(w)})),d(!1)}()}),[null===(t=e.module.data)||void 0===t?void 0:t.attributes]),J().createElement("div",{ref:u,className:Z()([Lg.bing,Lg.common,Lg[a.mode||"view"]])})},hy=(0,$.memo)(yy),xy=window.__app__;function wy(e){const t=xy.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-fsux_tubiao_bingtu1"})}const Iy={TYPE:"\u57fa\u7840\u89c6\u56fe",MODULE_TYPE:"bing",NAME:"\u997c\u56fe",ICON:J().createElement(wy,null)};const Ty={attributes:{title:Iy.NAME,tableInfo:void 0,filters:[],rows:[],targets:[],chartItems:["legend","label","tooltip"]},styles:{series:{radius:5}}},Cy={attributes:[pg({moduleType:Iy.MODULE_TYPE,children:[{component:"ReportGroupSelectTree",formItemProps:{label:"\u5206\u7ec4",name:["attributes","group_id"]},props:{type:"reportView"}}]}),{title:"\u6570\u636e\u6e90\u8bbe\u7f6e",children:[{component:"TableTreeSelectInfo",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","tableInfo"]}},{component:"TableTreeSelectInfoUpdate",formItemProps:{label:"\u66f4\u65b0\u914d\u7f6e",name:["attributes","tableInfo"],tooltip:"\u5982\u679c\u60a8\u4fee\u6539\u4e86\u6570\u636e\u8868\u7684\u5b57\u6bb5\u6216\u7ed3\u6784\uff0c\u5bfc\u81f4\u8be5\u89c6\u56fe\u9519\u8bef\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u952e\u66f4\u65b0\u8868\u914d\u7f6e\u6765\u4fee\u590d\u3002"}},{component:"TableFilter",formItemProps:{label:"\u7b5b\u9009\u6761\u4ef6",name:["attributes","filters"]},props:{moduleTypes:["input","inputNumber","rate","slider","datePicker","radio","select","switch"]}}]},{title:"\u62a5\u8868\u8bbe\u7f6e",children:[{component:"ReportDimension",formItemProps:{label:"\u7ef4\u5ea6",name:["attributes","rows"],tooltip:"\u6298\u7ebf\u56fe\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u7ef4\u5ea6"},props:{moduleTypes:["input","datePicker","relation","userSelect","organizationSelect","radio","select"],maxCount:1}},{component:"ReportTarget",formItemProps:{label:"\u6307\u6807",name:["attributes","targets"]},props:{moduleTypes:["inputNumber","calculateNumber","rate","slider"],maxCount:1,functions:[{label:"\u6c42\u603b\u6570",value:"count"}]}}]},{title:"\u56fe\u8868\u914d\u7f6e",children:[{component:"ReportCheckboxGroup",formItemProps:{label:"\u56fe\u8868\u9009\u9879",name:["attributes","chartItems"]},props:{options:[{label:"\u56fe\u4f8b",value:"legend"},{label:"\u6807\u7b7e",value:"label"},{label:"\u63d0\u793a\u6846",value:"tooltip"}]}}]}],styles:[{title:"\u7cfb\u5217\u5c5e\u6027",children:[{component:"BasicSlider",formItemProps:{label:"\u997c\u534a\u5f84",name:["styles","series","radius"]},props:{min:1,max:10,step:1,tooltip:{formatter:e=>"".concat(e.toFixed(0),"\u5355\u4f4d")}}}]}]};const Sy={type:Iy.TYPE,moduleType:Iy.MODULE_TYPE,name:Iy.NAME,icon:Iy.ICON,data:Ty,control:Cy,config:{},View:hy,Setting:Vg,funcs:{createItemFunc:function(){return{label:"\u9009\u9879",value:xy.uuid("uid_"),color:{r:230,g:230,b:230,a:1}}}},createFunc:function(){const e=xy.uuid(Iy.MODULE_TYPE+"_"),t={type:Iy.TYPE,moduleType:Iy.MODULE_TYPE,moduleId:e,name:Iy.NAME,data:Ty};return JSON.parse(JSON.stringify(t))}},Oy=window.__app__,Py=e=>{var t;const n=Oy.get("modules.formEditor.modules"),{XinReportEditorModulesMap:o,customData:l,config:a}=(0,$.useContext)(kE),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)(!1),u=(0,$.useRef)(),c=(0,$.useRef)();return(0,$.useEffect)((()=>{!function(){if(c.current)return;c.current=xb.init(u.current)}()}),[]),(0,$.useEffect)((()=>{!async function(){d(!0),await new Promise((async(t,o)=>{var l,a,i,s,d,u,m,p,_,v,b,f;const E=null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a||null===(i=a.tableInfo)||void 0===i?void 0:i._id,g=(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d||d.filters,(null===(u=e.module.data)||void 0===u||null===(m=u.attributes)||void 0===m?void 0:m.rows)||[]),y=(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.targets)||[];if(null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b||b.sorts,!E||!g.length&&!y.length)return void t();const h=await fg.createSearchOption(e.module),x=await Oy.xrequest.post("/api/core/db/aggregate",h),w=((null===x||void 0===x||null===(f=x.data)||void 0===f?void 0:f.data)||[]).map((e=>({...e,key:Oy.uuid()}))).sort(((e,t)=>{var n;const o=null===g||void 0===g||null===(n=g[0])||void 0===n?void 0:n.moduleId;return o&&e[o]<t[o]?-1:o&&e[o]>t[o]?1:0}));r(w),async function(t){var o,l,a,i,r,s,d,u,m,p,_,v,b,f,E,g,y;const h=(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.rows)||[],x=(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.targets)||[],w=h[0],I=x[0],T={legend:{show:null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s||null===(d=s.chartItems)||void 0===d?void 0:d.includes("legend"),orient:"horizontal",left:"center"},tooltip:{show:null===(u=e.module.data)||void 0===u||null===(m=u.attributes)||void 0===m||null===(p=m.chartItems)||void 0===p?void 0:p.includes("tooltip"),trigger:"item"},grid:{left:"10%",right:"10%",bottom:"10%",top:"10%",containLabel:!0},series:[{type:"pie",radius:[20+4*(10-(null===(_=e.module.data)||void 0===_||null===(v=_.styles)||void 0===v||null===(b=v.series)||void 0===b?void 0:b.radius)||0)+"%","70%"],label:{show:null===(f=e.module.data)||void 0===f||null===(E=f.attributes)||void 0===E||null===(g=E.chartItems)||void 0===g?void 0:g.includes("label")},data:t.map((e=>{var t,o,l;const a=w,i=null===(t=n[a.moduleType])||void 0===t||null===(o=t.funcs)||void 0===o?void 0:o.formatTextFunc;return i?i(e[null===a||void 0===a?void 0:a.moduleId],{moduleinfo:a}):e[null===a||void 0===a?void 0:a.moduleId],{name:e[null===a||void 0===a?void 0:a.moduleId],value:e[null===I||void 0===I||null===(l=I.fieldInfo)||void 0===l?void 0:l.moduleId]}})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.3)"}}}]};null===(y=c.current)||void 0===y||y.setOption(T,!0)}(w),t(w)})),d(!1)}()}),[null===(t=e.module.data)||void 0===t?void 0:t.attributes]),J().createElement("div",{ref:u,className:Z()([Lg.huan,Lg.common,Lg[a.mode||"view"]])})},My=(0,$.memo)(Py),ky=window.__app__;function Dy(e){const t=ky.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-fsux_tubiao_bingtu"})}const Ny={TYPE:"\u57fa\u7840\u89c6\u56fe",MODULE_TYPE:"huan",NAME:"\u73af\u5f62\u56fe",ICON:J().createElement(Dy,null)};const Ay={attributes:{title:Ny.NAME,tableInfo:void 0,filters:[],rows:[],targets:[],chartItems:["legend","label","tooltip"]},styles:{series:{radius:5}}},Ly={attributes:[pg({moduleType:Ny.MODULE_TYPE,children:[{component:"ReportGroupSelectTree",formItemProps:{label:"\u5206\u7ec4",name:["attributes","group_id"]},props:{type:"reportView"}}]}),{title:"\u6570\u636e\u6e90\u8bbe\u7f6e",children:[{component:"TableTreeSelectInfo",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","tableInfo"]}},{component:"TableTreeSelectInfoUpdate",formItemProps:{label:"\u66f4\u65b0\u914d\u7f6e",name:["attributes","tableInfo"],tooltip:"\u5982\u679c\u60a8\u4fee\u6539\u4e86\u6570\u636e\u8868\u7684\u5b57\u6bb5\u6216\u7ed3\u6784\uff0c\u5bfc\u81f4\u8be5\u89c6\u56fe\u9519\u8bef\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u952e\u66f4\u65b0\u8868\u914d\u7f6e\u6765\u4fee\u590d\u3002"}},{component:"TableFilter",formItemProps:{label:"\u7b5b\u9009\u6761\u4ef6",name:["attributes","filters"]},props:{moduleTypes:["input","inputNumber","calculateNumber","rate","slider","datePicker","radio","select","switch"]}}]},{title:"\u62a5\u8868\u8bbe\u7f6e",children:[{component:"ReportDimension",formItemProps:{label:"\u7ef4\u5ea6",name:["attributes","rows"],tooltip:"\u6298\u7ebf\u56fe\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u7ef4\u5ea6"},props:{moduleTypes:["input","datePicker","relation","userSelect","organizationSelect","radio","select"],maxCount:1}},{component:"ReportTarget",formItemProps:{label:"\u6307\u6807",name:["attributes","targets"]},props:{moduleTypes:["inputNumber","calculateNumber","rate","slider"],maxCount:1,functions:[{label:"\u6c42\u603b\u6570",value:"count"}]}}]},{title:"\u56fe\u8868\u914d\u7f6e",children:[{component:"ReportCheckboxGroup",formItemProps:{label:"\u56fe\u8868\u9009\u9879",name:["attributes","chartItems"]},props:{options:[{label:"\u56fe\u4f8b",value:"legend"},{label:"\u6807\u7b7e",value:"label"},{label:"\u63d0\u793a\u6846",value:"tooltip"}]}}]}],styles:[{title:"\u7cfb\u5217\u5c5e\u6027",children:[{component:"BasicSlider",formItemProps:{label:"\u73af\u5f62\u5bbd\u5ea6",name:["styles","series","radius"]},props:{min:1,max:10,step:1,tooltip:{formatter:e=>"".concat(e.toFixed(0),"\u5355\u4f4d")}}}]}]};const Fy={type:Ny.TYPE,moduleType:Ny.MODULE_TYPE,name:Ny.NAME,icon:Ny.ICON,data:Ay,control:Ly,config:{},View:My,Setting:Vg,funcs:{createItemFunc:function(){return{label:"\u9009\u9879",value:ky.uuid("uid_"),color:{r:230,g:230,b:230,a:1}}}},createFunc:function(){const e=ky.uuid(Ny.MODULE_TYPE+"_"),t={type:Ny.TYPE,moduleType:Ny.MODULE_TYPE,moduleId:e,name:Ny.NAME,data:Ay};return JSON.parse(JSON.stringify(t))}},Ry=window.__app__,By=e=>{var t;const n=Ry.get("modules.formEditor.modules"),{XinReportEditorModulesMap:o,customData:l,config:a}=(0,$.useContext)(kE),[i,r]=(0,$.useState)([]),[s,d]=(0,$.useState)(!1),u=(0,$.useRef)(),c=(0,$.useRef)();return(0,$.useEffect)((()=>{!function(){if(c.current)return;c.current=xb.init(u.current)}()}),[]),(0,$.useEffect)((()=>{!async function(){d(!0),await new Promise((async(t,o)=>{var l,a,i,s,d,u,m,p,_,v,b,f;const E=null===(l=e.module.data)||void 0===l||null===(a=l.attributes)||void 0===a||null===(i=a.tableInfo)||void 0===i?void 0:i._id,g=(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d||d.filters,(null===(u=e.module.data)||void 0===u||null===(m=u.attributes)||void 0===m?void 0:m.rows)||[]),y=(null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.targets)||[];if(null===(v=e.module.data)||void 0===v||null===(b=v.attributes)||void 0===b||b.sorts,!E||!g.length&&!y.length)return void t();const h=await Eg.createSearchOption(e.module),x=await Ry.xrequest.post("/api/core/db/aggregate",h),w=((null===x||void 0===x||null===(f=x.data)||void 0===f?void 0:f.data)||[]).map((e=>({...e,key:Ry.uuid()}))).sort(((e,t)=>{var n;const o=null===g||void 0===g||null===(n=g[0])||void 0===n?void 0:n.moduleId;return o&&e[o]<t[o]?-1:o&&e[o]>t[o]?1:0}));r(w),async function(t){var o,l,a,i,r,s,d,u,m,p,_,v,b,f,E,g,y,h,x,w,I,T,C;const S=(null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l?void 0:l.rows)||[],O=(null===(a=e.module.data)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.targets)||[],P=S[0],M=O[0],k=t.map((e=>{var t,o,l;const a=P,i=null===(t=n[a.moduleType])||void 0===t||null===(o=t.funcs)||void 0===o?void 0:o.formatTextFunc;return i?i(e[null===a||void 0===a?void 0:a.moduleId],{moduleinfo:a}):e[null===a||void 0===a?void 0:a.moduleId],{name:e[null===a||void 0===a?void 0:a.moduleId],value:e[null===M||void 0===M||null===(l=M.fieldInfo)||void 0===l?void 0:l.moduleId]}})).sort(((e,t)=>t.value-e.value)),D={tooltip:{show:null===(r=e.module.data)||void 0===r||null===(s=r.attributes)||void 0===s||null===(d=s.chartItems)||void 0===d?void 0:d.includes("tooltip"),trigger:"item",formatter:e=>{const t=k[(e.dataIndex<1?1:e.dataIndex)-1].value;return'\n            <div>\n              <div style="margin-bottom: 5px;">\n                <span style="margin-right: 5px;display: inline-block;width: 10px;height: 10px;border-radius: 100%;background: '.concat(e.color,';vertical-align: middle;"></span>\n                <span style="vertical-align: middle;">').concat(e.name,'</span>\n              </div>\n              <div><span style="margin-right: 10px">\u6570\u91cf:</span>').concat(e.value,'</div>\n              <div><span style="margin-right: 10px">\u8f6c\u5316\u7387:</span>').concat(Number((100*e.value/t).toFixed(2)),"%</div>\n            </div>\n          ")}},legend:{show:null===(u=e.module.data)||void 0===u||null===(m=u.attributes)||void 0===m||null===(p=m.chartItems)||void 0===p?void 0:p.includes("legend"),textStyle:{}},series:[{type:"funnel",minSize:"0%",maxSize:"100%",sort:(null===(_=e.module.data)||void 0===_||null===(v=_.attributes)||void 0===v||null===(b=v.orient)||void 0===b?void 0:b.split("-")[1])||"descending",funnelAlign:"center",orient:(null===(f=e.module.data)||void 0===f||null===(E=f.attributes)||void 0===E||null===(g=E.orient)||void 0===g?void 0:g.split("-")[0])||"vertical",gap:(null===(y=e.module.data)||void 0===y||null===(h=y.styles)||void 0===h||null===(x=h.series)||void 0===x?void 0:x.gap)||0,label:{show:null===(w=e.module.data)||void 0===w||null===(I=w.attributes)||void 0===I||null===(T=I.chartItems)||void 0===T?void 0:T.includes("label"),position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:k}]};null===(C=c.current)||void 0===C||C.setOption(D,!0)}(w),t(w)})),d(!1)}()}),[null===(t=e.module.data)||void 0===t?void 0:t.attributes]),J().createElement("div",{ref:u,className:Z()([Lg.loudou,Lg.common,Lg[a.mode||"view"]])})},Vy=(0,$.memo)(By),Uy=window.__app__;function Yy(e){const t=Uy.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-fsux_tubiao_loudoutu"})}const zy={TYPE:"\u57fa\u7840\u89c6\u56fe",MODULE_TYPE:"loudou",NAME:"\u6f0f\u6597\u56fe",ICON:J().createElement(Yy,null)};const jy={attributes:{title:zy.NAME,tableInfo:void 0,filters:[],rows:[],targets:[],chartItems:["legend","label","tooltip"],orient:"vertical-descending"},styles:{series:{gap:20}}},qy={attributes:[pg({moduleType:zy.MODULE_TYPE,children:[{component:"ReportGroupSelectTree",formItemProps:{label:"\u5206\u7ec4",name:["attributes","group_id"]},props:{type:"reportView"}}]}),{title:"\u6570\u636e\u6e90\u8bbe\u7f6e",children:[{component:"TableTreeSelectInfo",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","tableInfo"]}},{component:"TableTreeSelectInfoUpdate",formItemProps:{label:"\u66f4\u65b0\u914d\u7f6e",name:["attributes","tableInfo"],tooltip:"\u5982\u679c\u60a8\u4fee\u6539\u4e86\u6570\u636e\u8868\u7684\u5b57\u6bb5\u6216\u7ed3\u6784\uff0c\u5bfc\u81f4\u8be5\u89c6\u56fe\u9519\u8bef\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u952e\u66f4\u65b0\u8868\u914d\u7f6e\u6765\u4fee\u590d\u3002"}},{component:"TableFilter",formItemProps:{label:"\u7b5b\u9009\u6761\u4ef6",name:["attributes","filters"]},props:{moduleTypes:["input","inputNumber","calculateNumber","rate","slider","datePicker","radio","select","switch"]}}]},{title:"\u62a5\u8868\u8bbe\u7f6e",children:[{component:"ReportDimension",formItemProps:{label:"\u7ef4\u5ea6",name:["attributes","rows"],tooltip:"\u6298\u7ebf\u56fe\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u7ef4\u5ea6"},props:{moduleTypes:["input","datePicker","relation","userSelect","organizationSelect","radio","select"],maxCount:1}},{component:"ReportTarget",formItemProps:{label:"\u6307\u6807",name:["attributes","targets"]},props:{moduleTypes:["inputNumber","calculateNumber","rate","slider"],maxCount:1,functions:[{label:"\u6c42\u603b\u6570",value:"count"}]}}]},{title:"\u56fe\u8868\u914d\u7f6e",children:[{component:"ReportCheckboxGroup",formItemProps:{label:"\u56fe\u8868\u9009\u9879",name:["attributes","chartItems"]},props:{options:[{label:"\u56fe\u4f8b",value:"legend"},{label:"\u6807\u7b7e",value:"label"},{label:"\u63d0\u793a\u6846",value:"tooltip"}]}},{component:"BasicSelect",formItemProps:{label:"\u56fe\u8868\u671d\u5411",name:["attributes","orient"]},props:{options:[{label:"\u5782\u76f4\u5411\u4e0b",value:"vertical-descending"},{label:"\u5782\u76f4\u5411\u4e0a",value:"vertical-ascending"},{label:"\u6c34\u5e73\u5411\u53f3",value:"horizontal-descending"},{label:"\u6c34\u5e73\u5411\u5de6",value:"horizontal-ascending"}]}}]}],styles:[{title:"\u7cfb\u5217\u5c5e\u6027",children:[{component:"InputNumberWithSlider",formItemProps:{label:"\u95f4\u8ddd",name:["styles","series","gap"]},props:{min:0}}]}]};const Xy={type:zy.TYPE,moduleType:zy.MODULE_TYPE,name:zy.NAME,icon:zy.ICON,data:jy,control:qy,config:{},View:Vy,Setting:Vg,funcs:{createItemFunc:function(){return{label:"\u9009\u9879",value:Uy.uuid("uid_"),color:{r:230,g:230,b:230,a:1}}}},createFunc:function(){const e=Uy.uuid(zy.MODULE_TYPE+"_"),t={type:zy.TYPE,moduleType:zy.MODULE_TYPE,moduleId:e,name:zy.NAME,data:jy};return JSON.parse(JSON.stringify(t))}},Wy=window.__app__,Ky=e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p,_;const{XinReportEditorModulesMap:v,customData:b,config:f}=(0,$.useContext)(kE),E=(0,$.useRef)(),g=(0,$.useRef)(),[y,h]=(0,$.useState)(0),[x,w]=(0,$.useState)(1),[I,T]=(0,$.useState)(!1),C=(0,$.useMemo)((()=>{var t,n,o,l,a,i;let r=y;var s,d;("%"===(null===(t=e.module.data)||void 0===t||null===(n=t.styles)||void 0===n?void 0:n.format)&&(r*=100),null!==(o=e.module.data)&&void 0!==o&&null!==(l=o.styles)&&void 0!==l&&l.toFixed)&&(r=r.toFixed(null===(s=e.module.data)||void 0===s||null===(d=s.styles)||void 0===d?void 0:d.toFixed));return"money"===(null===(a=e.module.data)||void 0===a||null===(i=a.styles)||void 0===i?void 0:i.format)&&(r=String(r).replace(/\d(?=(\d{3})+\.)/g,"$&,")),r}),[null===(t=e.module.data)||void 0===t?void 0:t.styles,y]);return(0,$.useEffect)((()=>{var e,t;const n=(null===(e=E.current)||void 0===e?void 0:e.clientWidth)-20,o=null===(t=g.current)||void 0===t?void 0:t.clientWidth;w(n>o?1:n/o)}),[C]),(0,$.useEffect)((()=>{!async function(){T(!0),await new Promise((async(t,n)=>{var o,l,a,i,r,s,d,u,c;const m=null===(o=e.module.data)||void 0===o||null===(l=o.attributes)||void 0===l||null===(a=l.tableInfo)||void 0===a?void 0:a._id,p=(null===(i=e.module.data)||void 0===i||null===(r=i.attributes)||void 0===r||r.filters,(null===(s=e.module.data)||void 0===s||null===(d=s.attributes)||void 0===d?void 0:d.targets)||[]),_=p[0];if(!m||!p.length)return void t();const v=await hg.createSearchOption(e.module),b=await Wy.xrequest.post("/api/core/db/aggregate",v),f=(null===b||void 0===b||null===(u=b.data)||void 0===u?void 0:u.data)||[];h(f[0]&&null!==_&&void 0!==_&&_.fieldInfo?f[0][null===_||void 0===_||null===(c=_.fieldInfo)||void 0===c?void 0:c.moduleId]:0),t(f)})),T(!1)}()}),[null===(n=e.module.data)||void 0===n?void 0:n.attributes]),J().createElement("div",{ref:E,className:Z()([Lg.zhibiao,Lg.common,Lg[f.mode||"view"]])},J().createElement("div",{ref:g,className:Z()([Lg.zhibiao_content]),style:{transform:"scale(".concat(x,")"),color:null===(o=e.module.data)||void 0===o||null===(l=o.styles)||void 0===l?void 0:l.color}},J().createElement("div",{className:Lg.zhibiao_number},J().createElement("span",{className:Lg.zhibiao_unit},["$","\uffe5"].includes(null===(a=e.module.data)||void 0===a||null===(i=a.styles)||void 0===i?void 0:i.format)&&(null===(r=e.module.data)||void 0===r||null===(s=r.styles)||void 0===s?void 0:s.format)),J().createElement("span",{className:Lg.zhibiao_value},C),J().createElement("span",{className:Lg.zhibiao_unit},["%"].includes(null===(d=e.module.data)||void 0===d||null===(u=d.styles)||void 0===u?void 0:u.format)&&(null===(c=e.module.data)||void 0===c||null===(m=c.styles)||void 0===m?void 0:m.format))),J().createElement("div",{className:Lg.zhibiao_title},null===(p=e.module.data)||void 0===p||null===(_=p.attributes)||void 0===_?void 0:_.description)))},$y=(0,$.memo)(Ky),Jy=window.__app__;function Hy(e){const t=Jy.get("modules.components.basicCommon");return J().createElement(t.Iconfont,{type:"icon-fsux_tubiao_zhibiaoka"})}const Gy={TYPE:"\u57fa\u7840\u89c6\u56fe",MODULE_TYPE:"zhibiao",NAME:"\u6307\u6807\u5361",ICON:J().createElement(Hy,null)};const Qy={attributes:{title:Gy.NAME,description:void 0,tableInfo:void 0,filters:[],targets:[]},styles:{color:"#ff8800",format:""}},Zy={attributes:[pg({moduleType:Gy.MODULE_TYPE,children:[{component:"ReportGroupSelectTree",formItemProps:{label:"\u5206\u7ec4",name:["attributes","group_id"]},props:{type:"reportView"}},{component:"BasicInput",formItemProps:{label:"\u6307\u6807\u8bf4\u660e",name:["attributes","description"]}}]}),{title:"\u6570\u636e\u6e90\u8bbe\u7f6e",children:[{component:"TableTreeSelectInfo",formItemProps:{label:"\u5173\u8054\u6570\u636e\u8868",name:["attributes","tableInfo"]}},{component:"TableTreeSelectInfoUpdate",formItemProps:{label:"\u66f4\u65b0\u914d\u7f6e",name:["attributes","tableInfo"],tooltip:"\u5982\u679c\u60a8\u4fee\u6539\u4e86\u6570\u636e\u8868\u7684\u5b57\u6bb5\u6216\u7ed3\u6784\uff0c\u5bfc\u81f4\u8be5\u89c6\u56fe\u9519\u8bef\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u952e\u66f4\u65b0\u8868\u914d\u7f6e\u6765\u4fee\u590d\u3002"}},{component:"TableFilter",formItemProps:{label:"\u7b5b\u9009\u6761\u4ef6",name:["attributes","filters"]},props:{moduleTypes:["input","inputNumber","calculateNumber","rate","slider","datePicker","radio","select","switch"]}}]},{title:"\u62a5\u8868\u8bbe\u7f6e",children:[{component:"ReportTarget",formItemProps:{label:"\u6307\u6807",name:["attributes","targets"]},props:{moduleTypes:["inputNumber","calculateNumber","rate","slider"],maxCount:1,functions:[{label:"\u6c42\u603b\u6570",value:"count"}]}}]}],styles:[{title:"\u6587\u5b57\u5c5e\u6027",children:[{component:"ColorChoose",formItemProps:{label:"\u914d\u8272\u65b9\u6848",name:["styles","color"]},props:{options:["#333333","#3370ff","#4954e6","#34c724","#14c0ff","#ffc60a","#ff8800","#ff4d4f"]}}]},{title:"\u6570\u503c\u8bbe\u7f6e",children:[{component:"BasicInputNumber",formItemProps:{label:"\u5c0f\u6570\u4f4d\u6570",name:["styles","toFixed"]},props:{}},{component:"BasicSelect",formItemProps:{label:"\u663e\u793a\u683c\u5f0f",name:["styles","format"]},props:{options:[{label:"\u6570\u5b57",value:""},{label:"\u91d1\u989d\uff08\u5343\u5206\u4f4d\uff09",value:"money"},{label:"\u767e\u5206\u6bd4",value:"%"},{label:"\u4eba\u6c11\u5e01",value:"\uffe5"},{label:"\u7f8e\u5143",value:"$"}]}}]}]};const eh={type:Gy.TYPE,moduleType:Gy.MODULE_TYPE,name:Gy.NAME,icon:Gy.ICON,data:Qy,control:Zy,config:{},View:$y,Setting:Vg,funcs:{createItemFunc:function(){return{label:"\u9009\u9879",value:Jy.uuid("uid_"),color:{r:230,g:230,b:230,a:1}}}},createFunc:function(){const e=Jy.uuid(Gy.MODULE_TYPE+"_"),t={type:Gy.TYPE,moduleType:Gy.MODULE_TYPE,moduleId:e,name:Gy.NAME,data:Qy};return JSON.parse(JSON.stringify(t))}},th={[Xg.moduleType]:Xg,[ey.moduleType]:ey,[dy.moduleType]:dy,[Ey.moduleType]:Ey,[Sy.moduleType]:Sy,[Fy.moduleType]:Fy,[Xy.moduleType]:Xy,[eh.moduleType]:eh},nh=(0,$.createContext)();var oh=__webpack_require__(4351),lh=__webpack_require__.n(oh),ah=__webpack_require__(8085),ih={};ih.styleTagTransform=q(),ih.setAttributes=U(),ih.insert=B().bind(null,"head"),ih.domAPI=F(),ih.insertStyleElement=z();A()(ah.A,ih);const rh=ah.A&&ah.A.locals?ah.A.locals:void 0;var sh=__webpack_require__(666),dh={};dh.styleTagTransform=q(),dh.setAttributes=U(),dh.insert=B().bind(null,"head"),dh.domAPI=F(),dh.insertStyleElement=z();A()(sh.A,dh);const uh=sh.A&&sh.A.locals?sh.A.locals:void 0,ch=window.__app__,mh={tableActions_detail:{action:"\u5f39\u7a97\u67e5\u770b",data:{key:"tableActions_detail",component:"RecordButtonView",componentProps:{type:"detail"},title:"\u8be6\u60c5",color:"blue",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["tableActions"]},tableActions_update:{action:"\u5f39\u7a97\u4fee\u6539",data:{key:"tableActions_update",component:"RecordButtonView",componentProps:{type:"edit"},title:"\u4fee\u6539",color:"blue",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["tableActions"]},tableActions_delete:{action:"\u5220\u9664",tooltip:"\u6267\u884c\u4eba\u5c06\u5de5\u4f5c\u505a\u5b8c\u540e\u70b9\u51fb\u5b8c\u6210\u6309\u94ae",data:{key:"tableActions_delete",component:"DeleteButtonView",componentProps:{},title:"\u5220\u9664",color:"red",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["tableActions"]},workflowTableActions_detail:{action:"\u5f39\u7a97\u67e5\u770b",data:{key:"workflowTableActions_detail",component:"WorkflowButtonView",componentProps:{type:"detail"},title:"\u67e5\u770b\u8be6\u60c5",color:"blue",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["workflowTableActions"]},workflowTableActions_delete:{action:"\u5220\u9664",tooltip:"\u6267\u884c\u4eba\u5c06\u5de5\u4f5c\u505a\u5b8c\u540e\u70b9\u51fb\u5b8c\u6210\u6309\u94ae",data:{key:"workflowTableActions_delete",component:"WorkflowDeleteButtonView",componentProps:{},title:"\u5220\u9664",color:"red",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["workflowTableActions"]},toolBarActions_add:{action:"\u5f39\u7a97\u65b0\u589e",data:{key:"toolBarActions_add",component:"RecordButtonView",componentProps:{type:"create"},title:"\u65b0\u589e\u6570\u636e",color:"blue",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["toolBarActions"]},batchActions_delete:{action:"\u6279\u91cf\u5220\u9664",data:{key:"batchActions_delete",component:"BatchDeleteButtonView",componentProps:{},title:"\u6279\u91cf\u5220\u9664",color:"red",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["batchActions"]},workflowTableBatchActions_delete:{action:"\u6279\u91cf\u5220\u9664",data:{key:"workflowTableBatchActions_delete",component:"WorkflowBatchDeleteButtonView",componentProps:{},title:"\u6279\u91cf\u5220\u9664",color:"red",confirm:!1,code:void 0,type:"admin",status:!1},desc:"\u4e00\u4e9b\u8bf4\u660e\u6587\u5b57\uff0c\u4ec5\u4f9b\u7814\u53d1\u67e5\u770b",scenes:["workflowTableBatchActions"]}},ph=e=>{var t;const n=ch.get("modules.components.basicCommon"),o=(ch.get("modules.components.basicWork"),ch.get("modules.components.basicForm")),[l,a]=(0,$.useState)(!1),[i,r]=(0,$.useState)([]),s=[{title:"\u64cd\u4f5c",dataIndex:"action",width:"15%",render:(e,t,o,l)=>J().createElement(M.Space,null,e,J().createElement(n.ToolTip,{title:t.tooltip}))},{title:"\u6309\u94ae\u6587\u5b57",dataIndex:["data","title"],width:"25%",render:(e,t,n,l)=>J().createElement(o.EditTextByInput,{value:t.data.title,onChange:e=>{t.data.title=e,r([...i])}})},{title:"\u6309\u94ae\u989c\u8272",dataIndex:["data","color"],width:"20%",align:"center",render:(e,t,n,o)=>J().createElement("div",{style:{margin:"0 10px"}},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u767d\u8272",value:"white"},{label:"\u84dd\u8272",value:"blue"},{label:"\u7ea2\u8272",value:"red"}]}},size:"small",value:t.data.color,onChange:e=>{t.data.color=e,r([...i])}}))},["tableActions","batchActions"].includes(null===(t=e.options)||void 0===t?void 0:t.props.scene)&&{title:"\u4e8c\u6b21\u786e\u8ba4",dataIndex:["data","confirm"],width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.data.confirm,onChange:e=>{t.data.confirm=e||!1,r([...i])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:["data","status"],width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.data.status,onChange:e=>{t.data.status=e||!1,r([...i])}})}].filter(Boolean),[d,u]=(0,$.useState)([]),c=[{title:"\u6309\u94ae\u6587\u5b57",dataIndex:"title",width:"20%",render:(e,t,n,o)=>J().createElement(M.Input,{style:{width:"100%"},value:t.title,onChange:e=>{t.title=e.target.value,u([...d])}})},{title:"\u811a\u672c",dataIndex:"code",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(ComponentTreeCodeEditorModal,{options:{},buttonProps:{block:!0},value:t.code,onChange:e=>{t.code=e,u([...d])}})},{title:"\u6309\u94ae\u989c\u8272",dataIndex:"color",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement("div",{style:{margin:"0 10px"}},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u767d\u8272",value:"white"},{label:"\u84dd\u8272",value:"blue"},{label:"\u7ea2\u8272",value:"red"}]}},size:"small",value:t.color,onChange:e=>{t.color=e,u([...d])}}))},{title:"\u4e8c\u6b21\u786e\u8ba4",dataIndex:"confirm",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.confirm,onChange:e=>{t.confirm=e,u([...d])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:"status",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.status,onChange:e=>{t.status=e,u([...d])}})}].filter(Boolean),[m,p]=(0,$.useState)([]),_=[{title:"\u64cd\u4f5c\u540d\u79f0",dataIndex:"title",width:"20%",render:(e,t,n,o)=>J().createElement(M.Input,{style:{width:"100%"},value:t.title,onChange:e=>{t.title=e.target.value,p([...m])}})},{title:"\u6e32\u67d3\u811a\u672c",dataIndex:"code",width:"60%",align:"center",render:(e,t,n,o)=>J().createElement(ComponentTreeCodeEditorModal,{options:{},buttonProps:{block:!0},value:t.code,onChange:e=>{t.code=e,p([...m])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:"status",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.status,onChange:e=>{t.status=e,p([...m])}})}].filter(Boolean);(0,$.useEffect)((()=>{let t=JSON.parse(JSON.stringify(mh)),n=(e.value||[]).filter((e=>"admin"===e.type)),o=(e.value||[]).filter((e=>"custom"===e.type)),l=(e.value||[]).filter((e=>"render"===e.type));n.forEach((e=>{let n=t[e.key];n&&(n.data={...n.data||{},...e})}));const a=Object.values(t).filter((t=>{var n;return t.scenes.includes(null===(n=e.options)||void 0===n?void 0:n.props.scene)}));r(a),u(o),p(l)}),[e.value]);return J().createElement(J().Fragment,null,J().createElement(M.Table,{size:"small",style:{margin:"10px 0"},columns:s,dataSource:i,bordered:!0,rowKey:e=>e.data.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement("h4",null,"\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879"),J().createElement(M.Table,{size:"small",style:{margin:"10px 0"},columns:c,dataSource:d,bordered:!0,rowKey:e=>e.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement(M.Button,{type:"primary",onClick:t=>{var n;const o=[...d,null===(n=e.funcs)||void 0===n?void 0:n.createActionItemFunc()];u(o)}},"\u65b0\u589e\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879"),J().createElement("h4",null,"\u81ea\u5b9a\u4e49\u6e32\u67d3"),J().createElement(M.Table,{size:"small",style:{margin:"10px 0"},columns:_,dataSource:m,bordered:!0,rowKey:e=>e.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement(M.Button,{type:"primary",onClick:t=>{var n;const o=[...m,null===(n=e.funcs)||void 0===n?void 0:n.createRenderActionItemFunc()];p(o)}},"\u65b0\u589e\u81ea\u5b9a\u4e49\u6e32\u67d3\u9879"))},_h=((0,ae.observer)((e=>{var t;const n=ch.get("modules.components.basicCommon"),o=ch.get("modules.components.basicWork"),l=ch.get("modules.components.basicForm"),[a,i]=(0,$.useState)();(0,$.useEffect)((()=>{var t;null!==(t=e.module.data.attributes)&&void 0!==t&&t.table_id?r():i()}),[null===(t=e.module.data.attributes)||void 0===t?void 0:t.table_id]);const r=async()=>{var t;const n=await ch.xrequest.post("/api/core/table/detail",{_id:null===(t=e.module.data.attributes)||void 0===t?void 0:t.table_id});i(null===n||void 0===n?void 0:n.data)};return J().createElement(M.Row,{gutter:[10,10]},J().createElement(n.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:n,index:i,itemProps:r,handleProps:s}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},r),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u5217 ".concat(i+1),trigger:"click",content:J().createElement(M.Form,{className:uh.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:n,onValuesChange:(t,n)=>function(t,n,o){var l;let a=e.value||[];a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,i)},J().createElement(M.Row,{gutter:[10,10]},n.moduleType&&J().createElement(J().Fragment,null,J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"\u5185\u7f6e\u5c5e\u6027",tooltip:"\u5185\u7f6e\u5c5e\u6027\u4f7f\u7528\u7684\u9690\u85cf\u5b57\u6bb5",name:"moduleType"},J().createElement(M.Input,null)))),J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"KEY",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5173\u8054\u5b57\u6bb5",name:"dataIndex"},J().createElement(o.TableFieldSelect,{options:{props:{fields:(null===a||void 0===a?void 0:a.fields)||[],moduleTypes:Array.from(new Set(((null===a||void 0===a?void 0:a.fields)||[]).map((e=>e.moduleType)))),defaultModuleIds:["_id","create_time"]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u540d\u79f0",name:"title"},J().createElement(BasicInput,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8bf4\u660e",name:"tooltip"},J().createElement(BasicInput,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5185\u5bb9\u5bf9\u9f50",name:"align"},J().createElement(l.IconRadioGroup,{options:{props:{options:[{label:"\u5c45\u5de6\u5bf9\u9f50",value:"left",icon:J().createElement(H.AlignLeftOutlined,null)},{label:"\u5c45\u4e2d\u5bf9\u9f50",value:"center",icon:J().createElement(H.AlignCenterOutlined,null)},{label:"\u5c45\u53f3\u5bf9\u9f50",value:"right",icon:J().createElement(H.AlignRightOutlined,null)}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u56fa\u5b9a",name:"fixed"},J().createElement(l.IconRadioGroup,{options:{props:{options:[{label:"\u4e0d\u56fa\u5b9a",value:!1,icon:"\u4e0d"},{label:"\u5de6\u4fa7\u56fa\u5b9a",value:"left",icon:"\u5de6"},{label:"\u53f3\u4fa7\u56fa\u5b9a",value:"right",icon:"\u53f3"}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5f00\u542f\u590d\u5236",name:"copyable"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u641c\u7d22\u680f\u641c\u7d22",name:"search"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8d85\u51fa\u7701\u7565",name:"ellipsis"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5bbd\u5ea6",name:"width"},J().createElement(BasicInputNumber,{options:{props:{min:0,step:1}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u81ea\u5b9a\u4e49\u6e32\u67d3",name:"customRender"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:n.customRender?24:0},J().createElement(M.Form.Item,{label:"\u6e32\u67d3\u4ee3\u7801",name:"script"},J().createElement(l.JavascriptTransformCodeModal,{inContainer:!0,modalProps:{maskClosable:!1}})))))},J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},s,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(i)}))),value:n.title})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{let n=[...e.value,e.funcs.createColumnItemFunc({})];e.onChange(n)}},"\u65b0\u589e\u4e00\u5217")))})),(0,ae.observer)((e=>{const t=ch.get("modules.components.basicCommon"),[n,o]=(ch.get("modules.components.basicWork"),ch.get("modules.components.basicForm"),(0,$.useState)(!1)),[l,a]=(0,$.useState)([]),i=[{title:"\u6309\u94ae\u6587\u5b57",dataIndex:"title",width:"20%",render:(e,t,n,o)=>J().createElement(M.Input,{style:{width:"100%"},value:t.title,onChange:e=>{t.title=e.target.value,a([...l])}})},{title:"\u811a\u672c",dataIndex:"code",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(ComponentTreeCodeEditorModal,{options:{},buttonProps:{block:!0},value:t.code,onChange:e=>{t.code=e,a([...l])}})},{title:"\u6309\u94ae\u989c\u8272",dataIndex:"color",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement("div",{style:{margin:"0 10px"}},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u767d\u8272",value:"white"},{label:"\u84dd\u8272",value:"blue"},{label:"\u7ea2\u8272",value:"red"}]}},size:"small",value:t.color,onChange:e=>{t.color=e,a([...l])}}))},{title:"\u4e8c\u6b21\u786e\u8ba4",dataIndex:"confirm",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.confirm,onChange:e=>{t.confirm=e,a([...l])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:"status",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.status,onChange:e=>{t.status=e,a([...l])}})}].filter(Boolean),[r,s]=(0,$.useState)([]),d=[{title:"\u64cd\u4f5c\u540d\u79f0",dataIndex:"title",width:"20%",render:(e,t,n,o)=>J().createElement(M.Input,{style:{width:"100%"},value:t.title,onChange:e=>{t.title=e.target.value,s([...r])}})},{title:"\u6e32\u67d3\u811a\u672c",dataIndex:"code",width:"60%",align:"center",render:(e,t,n,o)=>J().createElement(ComponentTreeCodeEditorModal,{options:{},buttonProps:{block:!0},value:t.code,onChange:e=>{t.code=e,s([...r])}})},{title:"\u662f\u5426\u542f\u7528",dataIndex:"status",width:"20%",align:"center",render:(e,t,n,o)=>J().createElement(M.Switch,{checked:t.status,onChange:e=>{t.status=e,s([...r])}})}].filter(Boolean);(0,$.useEffect)((()=>{let t=(e.value||[]).filter((e=>"custom"===e.type)),n=(e.value||[]).filter((e=>"render"===e.type));a(t),s(n)}),[e.value]);const u=()=>l.concat(r),c=()=>{o(!1)};return J().createElement(J().Fragment,null,J().createElement(M.Row,{gutter:[10,10]},J().createElement(t.Sortable,{value:(e.value||[]).filter((e=>e.status)),onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},itemKeyName:"key",itemRender:t=>{let{item:n,index:o,itemProps:l,handleProps:a}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},l),J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},a,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u53d6\u6d88\u542f\u7528"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t,n,o){var l,a;let i=u();i=JSON.parse(JSON.stringify(i));let[r]=null===(l=i)||void 0===l?void 0:l.filter((e=>e.key===t.key));r[n]=o,null===(a=e.onChange)||void 0===a||a.call(e,i)}(n,"status",!1)}))),value:n.title}))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:e=>{o(!0)}},"\u70b9\u51fb\u914d\u7f6e"))),J().createElement(M.Modal,{title:"\u64cd\u4f5c\u9879\u8bbe\u7f6e",width:900,destroyOnClose:!0,open:n,onOk:()=>{(()=>{var t;const n=u();null===(t=e.onChange)||void 0===t||t.call(e,n)})(),c()},onCancel:c},J().createElement(M.Table,{size:"small",style:{margin:"20px 0"},columns:i,dataSource:l,bordered:!0,rowKey:e=>e.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement(M.Button,{type:"primary",onClick:t=>{var n;const o=[...l,null===(n=e.funcs)||void 0===n?void 0:n.createActionItemFunc()];a(o)}},"\u65b0\u589e\u81ea\u5b9a\u4e49\u64cd\u4f5c\u9879"),J().createElement("h4",null,"\u81ea\u5b9a\u4e49\u6e32\u67d3"),J().createElement(M.Table,{size:"small",style:{margin:"10px 0"},columns:d,dataSource:r,bordered:!0,rowKey:e=>e.key,locale:{emptyText:"\u6682\u65e0\u6570\u636e"},pagination:!1}),J().createElement(M.Button,{type:"primary",onClick:t=>{var n;const o=[...r,null===(n=e.funcs)||void 0===n?void 0:n.createRenderActionItemFunc()];s(o)}},"\u65b0\u589e\u81ea\u5b9a\u4e49\u6e32\u67d3\u9879")))})),(0,ae.observer)((e=>{const t=ch.get("modules.components.basicCommon"),n=ch.get("modules.components.basicWork"),o=ch.get("modules.components.basicForm");return J().createElement(M.Row,{gutter:[10,10]},J().createElement(t.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:l,index:a,itemProps:i,handleProps:r}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},i),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u5217 ".concat(a+1),trigger:"click",content:J().createElement(M.Form,{className:uh.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:l,onValuesChange:(t,n)=>function(t,n,o){var l;let a=e.value||[];a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,a)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"KEY",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5b57\u6bb5\u7c7b\u578b",name:"moduleType"},J().createElement(n.TableAllFieldsSelect,{options:{props:{}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u540d\u79f0",name:"title"},J().createElement(BasicInput,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5b57\u6bb5\u540d",name:"dataIndex",tooltip:"\u5d4c\u5957\u5b57\u6bb5\u7528\u70b9\u8fde\u63a5\uff0c\u4f8b\u5982\uff1avalues.name"},J().createElement(BasicInput,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8bf4\u660e",name:"tooltip"},J().createElement(BasicInput,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5185\u5bb9\u5bf9\u9f50",name:"align"},J().createElement(o.IconRadioGroup,{options:{props:{options:[{label:"\u5c45\u5de6\u5bf9\u9f50",value:"left",icon:J().createElement(H.AlignLeftOutlined,null)},{label:"\u5c45\u4e2d\u5bf9\u9f50",value:"center",icon:J().createElement(H.AlignCenterOutlined,null)},{label:"\u5c45\u53f3\u5bf9\u9f50",value:"right",icon:J().createElement(H.AlignRightOutlined,null)}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u56fa\u5b9a",name:"fixed"},J().createElement(o.IconRadioGroup,{options:{props:{options:[{label:"\u4e0d\u56fa\u5b9a",value:!1,icon:"\u4e0d"},{label:"\u5de6\u4fa7\u56fa\u5b9a",value:"left",icon:"\u5de6"},{label:"\u53f3\u4fa7\u56fa\u5b9a",value:"right",icon:"\u53f3"}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5f00\u542f\u590d\u5236",name:"copyable"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u641c\u7d22\u680f\u641c\u7d22",name:"search"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8d85\u51fa\u7701\u7565",name:"ellipsis"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5bbd\u5ea6",name:"width"},J().createElement(BasicInputNumber,{options:{props:{min:0,step:1}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u81ea\u5b9a\u4e49\u6e32\u67d3",name:"customRender"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:l.customRender?24:0},J().createElement(M.Form.Item,{label:"\u6e32\u67d3\u4ee3\u7801",name:"script"},J().createElement(o.JavascriptTransformCodeModal,{inContainer:!0,modalProps:{maskClosable:!1}})))))},J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},r,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(a)}))),value:l.title})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{const n=[...e.value,e.funcs.createColumnItemFunc({})];e.onChange(n)}},"\u65b0\u589e\u4e00\u5217")))})),(0,ae.observer)((e=>{var t,n;const o=ch.get("modules.components.basicCommon"),l=ch.get("modules.components.basicWork"),a=ch.get("modules.components.basicForm"),[i,r]=(0,$.useState)();(0,$.useEffect)((()=>{var t;null!==(t=e.module.data.attributes)&&void 0!==t&&t.table_id?d():r()}),[null===(t=e.module.data)||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.table_id]);const s=(0,$.useMemo)((()=>{let t=[],n=e.value||[],o=(null===i||void 0===i?void 0:i.fields)||[];return n.forEach((e=>{o.forEach((n=>{var o,l;e.dataIndex===n.moduleId&&((null===(o=n.data.attributes)||void 0===o||null===(l=o.searchPermission)||void 0===l||!l.includes("show"))&&t.push(e.dataIndex))}))})),t}),[e.value,i]),d=async()=>{var t;const n=await ch.xrequest.post("/api/core/table/detail",{_id:null===(t=e.module.data.attributes)||void 0===t?void 0:t.table_id});r(null===n||void 0===n?void 0:n.data)};return J().createElement(M.Row,{gutter:[10,10]},J().createElement(o.Sortable,{value:e.value||[],onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t)},direction:"vertical",itemKeyName:"key",itemRender:t=>{let{item:n,index:o,itemProps:r,handleProps:d}=t;return J().createElement(M.Col,Object.assign({span:24,size:[10,10]},r),J().createElement(M.Popover,{placement:"leftTop",destroyTooltipOnHide:!0,title:"\u5217 ".concat(o+1),trigger:"click",content:J().createElement(M.Form,{className:uh.form,style:{width:250},labelCol:{span:8},wrapperCol:{span:16},colon:!1,layout:"horizontal",labelAlign:"left",initialValues:n,onValuesChange:(t,n)=>function(t,n,o){var l;let a=e.value||[];a.splice(o,1,n),null===(l=e.onChange)||void 0===l||l.call(e,a)}(0,n,o)},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:0},J().createElement(M.Form.Item,{label:"KEY",name:"key"},J().createElement(M.Input,{disabled:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u64cd\u4f5c\u7c7b\u578b",name:"type"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5185\u7f6e",value:"system"},{label:"\u81ea\u5b9a\u4e49",value:"custom"}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5173\u8054\u5b57\u6bb5",name:"dataIndex"},J().createElement(l.TableFieldSelect,{options:{props:{fields:(null===i||void 0===i?void 0:i.fields)||[],moduleTypes:Array.from(new Set(((null===i||void 0===i?void 0:i.fields)||[]).map((e=>e.moduleType)))),defaultModuleIds:["_id"]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u540d\u79f0",name:"title"},J().createElement(BasicInput,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8bf4\u660e",name:"tooltip"},J().createElement(BasicInput,{options:{props:{placeholder:"\u8bf7\u8f93\u5165"}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5185\u5bb9\u5bf9\u9f50",name:"align"},J().createElement(a.IconRadioGroup,{options:{props:{options:[{label:"\u5c45\u5de6\u5bf9\u9f50",value:"left",icon:J().createElement(H.AlignLeftOutlined,null)},{label:"\u5c45\u4e2d\u5bf9\u9f50",value:"center",icon:J().createElement(H.AlignCenterOutlined,null)},{label:"\u5c45\u53f3\u5bf9\u9f50",value:"right",icon:J().createElement(H.AlignRightOutlined,null)}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u56fa\u5b9a",name:"fixed"},J().createElement(a.IconRadioGroup,{options:{props:{options:[{label:"\u4e0d\u56fa\u5b9a",value:!1,icon:"\u4e0d"},{label:"\u5de6\u4fa7\u56fa\u5b9a",value:"left",icon:"\u5de6"},{label:"\u53f3\u4fa7\u56fa\u5b9a",value:"right",icon:"\u53f3"}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5f00\u542f\u590d\u5236",name:"copyable"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),!s.includes(n.dataIndex)&&J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u641c\u7d22\u680f\u641c\u7d22",name:"search"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u8d85\u51fa\u7701\u7565",name:"ellipsis"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5bbd\u5ea6",name:"width"},J().createElement(BasicInputNumber,{options:{props:{min:0,step:1}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u81ea\u5b9a\u4e49\u6e32\u67d3",name:"customRender"},J().createElement(RadioButtonGroupInLine,{options:{props:{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:n.customRender?24:0},J().createElement(M.Form.Item,{label:"\u6e32\u67d3\u4ee3\u7801",name:"script"},J().createElement(a.JavascriptTransformCodeModal,{inContainer:!0,modalProps:{maskClosable:!1}})))))},J().createElement(M.Input,{readOnly:!0,prefix:J().createElement(M.Space,{size:[0,0],style:{marginLeft:-5}},J().createElement(M.Button,Object.assign({},d,{type:"text",size:"small",icon:J().createElement(H.HolderOutlined,null)}))),suffix:J().createElement(M.Space,{size:[0,0],style:{marginRight:-5}},J().createElement(M.Tooltip,{title:"\u5220\u9664"},J().createElement(M.Button,{type:"text",size:"small",danger:!0,icon:J().createElement(H.DeleteOutlined,null),onClick:t=>function(t){var n;let o=JSON.parse(JSON.stringify(e.value||[]));o.splice(t,1),null===(n=e.onChange)||void 0===n||n.call(e,o)}(o)}))),value:n.title})))}}),J().createElement(M.Col,{span:24},J().createElement(M.Button,{type:"primary",block:!0,onClick:t=>{let n=[...e.value,e.funcs.createColumnItemFunc({})];e.onChange(n)}},"\u65b0\u589e\u4e00\u5217")))})),window.__app__),vh={table:{title:"\u6570\u636e\u8868",appmenu_delete_tip:"\uff0c\u8868\u6570\u636e\u4e5f\u5c06\u540c\u6b65\u5220\u9664"},url:{title:"\u94fe\u63a5",appmenu_delete_tip:""},dashboard:{title:"\u4eea\u8868\u76d8",appmenu_delete_tip:""},screen:{title:"\u53ef\u89c6\u5316\u753b\u9762",appmenu_delete_tip:""},group:{title:"\u5206\u7ec4",appmenu_delete_tip:"\uff0c\u5206\u7ec4\u5185\u6570\u636e\u8868\u8bf7\u5148\u79fb\u51fa"}},bh=(0,ae.observer)((0,$.forwardRef)(((e,t)=>{(0,$.useImperativeHandle)(t,(()=>({open:_})));const{config:n,changeUrl:o,getNocodeApp:l,getNocodeMenu:a}=(0,$.useContext)(nh),[i]=(_h.get("contexts.app"),_h.get("modules.components.basicWork"),M.Form.useForm()),[r,s]=(0,$.useState)(!1),[d,u]=(0,$.useState)(!1),[c,m]=(0,$.useState)("create"),p=(0,$.useRef)();(0,$.useEffect)((()=>{}),[]);const _=(e,t)=>{e&&m(e),t&&(i.setFieldsValue(t||{}),p.current=t),s(!0)},v=async t=>{u(!0);const n=await _h.xrequest.post("/api/core/nocode/appmenu/add",{...t,type:"group",nocode_app_id:e.app_id});var a;(u(!1),0===n.errCode)&&(await l(),o({section_id:null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a._id,sheet_id:void 0}),M.message.success("\u65b0\u5efa\u6210\u529f"),f())},b=async e=>{var t;u(!0);const n=await _h.xrequest.post("/api/core/nocode/appmenu/update",{filter:{_id:null===(t=p.current)||void 0===t?void 0:t._id},data:{...e}});u(!1),n&&(await l(),M.message.success("\u65b0\u5efa\u6210\u529f"),f())},f=()=>{i.resetFields(),s(!1)};return J().createElement(M.Modal,{title:"create"===c?"\u65b0\u589e\u5206\u7ec4":"\u7f16\u8f91\u5206\u7ec4",width:500,open:r,maskClosable:!0,destroyOnClose:!0,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",confirmLoading:d,onOk:()=>{i.validateFields().then((e=>{"create"===c?v(e):b(e)}))},onCancel:f},J().createElement(M.Form,{style:{marginTop:20},form:i,labelCol:{span:5},wrapperCol:{span:16},layout:"horizontal",labelAlign:"right",colon:!1},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5206\u7ec4\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165",autoFocus:!0}))))))}))),fh=(0,ae.observer)((0,$.forwardRef)(((e,t)=>{var n,o,l;(0,$.useImperativeHandle)(t,(()=>({open:y})));const{config:a,changeUrl:i,getNocodeApp:r,getNocodeMenu:s}=(0,$.useContext)(nh),[d]=(_h.get("contexts.app"),_h.get("modules.components.basicWork"),M.Form.useForm()),[u,c]=(0,$.useState)(!1),[m,p]=(0,$.useState)(!1),[_,v]=(0,$.useState)("create"),[b,f]=(0,$.useState)("table"),E=(0,$.useRef)(),g=(0,$.useRef)();(0,$.useEffect)((()=>{}),[]);const y=(e,t,n)=>{v(e||"create"),f((null===n||void 0===n?void 0:n.type)||"table"),g.current=n,t&&(d.setFieldsValue(t||{}),E.current=t),c(!0)},h=async t=>{var n;p(!0);const o=await _h.xrequest.post("/api/core/nocode/appmenu/add",{...t,parent_id:null===(n=g.current)||void 0===n?void 0:n.parent_id,type:b||"table",nocode_app_id:e.app_id});var l;(p(!1),0===o.errCode)&&(await r(),i({section_id:e.section_id,sheet_id:null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l._id}),M.message.success("\u65b0\u5efa\u6210\u529f"),w())},x=async t=>{var n;p(!0);const o=await _h.xrequest.post("/api/core/nocode/appmenu/update",{filter:{_id:null===(n=E.current)||void 0===n?void 0:n._id},data:{...t}});var l;(p(!1),o)&&(M.message.success("\u65b0\u5efa\u6210\u529f"),null===(l=e.refresh)||void 0===l||l.call(e),w())},w=()=>{d.resetFields(),c(!1)};return J().createElement(M.Modal,{title:"create"===_?"\u65b0\u589e"+((null===(n=vh[b])||void 0===n?void 0:n.title)||""):"\u7f16\u8f91"+((null===(o=vh[b])||void 0===o?void 0:o.title)||""),width:500,open:u,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",destroyOnClose:!0,maskClosable:!0,confirmLoading:m,onOk:()=>{d.validateFields().then((e=>{"create"===_?h(e):x(e)}))},onCancel:w},J().createElement(M.Form,{style:{marginTop:20},form:d,labelCol:{span:5},wrapperCol:{span:18},layout:"horizontal",labelAlign:"right",colon:!1},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:((null===(l=vh[b])||void 0===l?void 0:l.title)||"")+"\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165",autoFocus:!0}))))))}))),Eh=(0,ae.observer)((e=>{var t,n;const{config:o,getNocodeApp:l,changeUrl:a}=(0,$.useContext)(nh),{ScreenTypeListMap:i}=(_h.get("contexts.app"),_h.get("datas.configs.project")),{uploadFileRequest:r}=_h.get("handles");(0,$.useRef)();return J().createElement("div",{className:Z()([rh.section_menu_item,{[rh.active]:e.section_id&&e.section_id===(null===(t=e.data)||void 0===t?void 0:t._id)}]),onClick:t=>{var n,o,l,i;e.isadd?null===(n=e.createModal)||void 0===n||null===(o=n.current)||void 0===o||o.open("create"):e.section_id!==(null===(l=e.data)||void 0===l?void 0:l._id)&&a({section_id:null===(i=e.data)||void 0===i?void 0:i._id,sheet_id:void 0})}},e.isadd?J().createElement(H.PlusOutlined,{style:{transform:"scale(1.2)"}}):J().createElement(J().Fragment,null,J().createElement("span",null,(null===(n=e.data)||void 0===n?void 0:n.name)||"\u672a\u547d\u540d"),"editor"===o.mode&&J().createElement("div",{className:rh.control,onClick:e=>{var t;return null===(t=e.stopPropagation)||void 0===t?void 0:t.call(e)}},J().createElement(M.Dropdown,{menu:{style:{width:150},items:[{key:"edit",label:"\u7f16\u8f91\u5206\u7ec4",icon:J().createElement(H.EditOutlined,null)},{key:"delete",label:"\u5220\u9664\u5206\u7ec4",danger:!0,icon:J().createElement(H.DeleteOutlined,null)}],onClick:t=>{var n,o,i;if("edit"===t.key)null===(n=e.createModal)||void 0===n||null===(o=n.current)||void 0===o||o.open("edit",e.data);else if("delete"===t.key)return i=e.data,new Promise((async(t,n)=>{var o;0===(await _h.xrequest.post("/api/core/nocode/appmenu/delete",{_id:null===i||void 0===i?void 0:i._id})).errCode&&(M.message.success("\u5220\u9664\u6210\u529f"),await l(),(null===(o=e.data)||void 0===o?void 0:o._id)===e.section_id&&a({section_id:void 0,sheet_id:void 0})),t()}))}},trigger:["click"],placement:"bottomLeft"},J().createElement(H.CaretDownOutlined,{className:Z()([rh.menu_item_icon,rh.right])})))))})),gh=(0,ae.observer)((e=>{const{config:t,menuTree:n,setmenuTree:o,getNocodeApp:l,changeUrl:a}=(0,$.useContext)(nh),[i,r]=(_h.get("contexts.app"),_h.get("modules.components.basicForm"),_h.get("modules.components.basicCommon"),(0,$.useState)(!1)),s=(0,$.useRef)();return J().createElement(J().Fragment,null,n.map(((t,n)=>J().createElement($.Fragment,{key:n},J().createElement(Eh,Object.assign({},e,{createModal:s,data:t}))))),"editor"===e.mode&&J().createElement(J().Fragment,null,J().createElement(Eh,Object.assign({},e,{isadd:!0,createModal:s})),J().createElement(bh,Object.assign({},e,{ref:s}))))})),yh=(0,ae.observer)((e=>{const{config:t,menuTree:n,menuList:o,setmenuList:l,getNocodeApp:a,changeUrl:i}=(0,$.useContext)(nh),[r,s]=(_h.get("contexts.app"),_h.get("modules.components.basicForm"),_h.get("modules.components.basicCommon"),(0,$.useState)({})),d=(0,$.useRef)(),u=(0,$.useMemo)((()=>{const[t]=n.filter((t=>t._id===e.section_id));return(null===t||void 0===t?void 0:t.children)||[]}),[e.section_id,n]);function c(t,n,o){var l,u;return J().createElement(J().Fragment,null,J().createElement("div",{className:Z()({[rh.line]:!0,[rh.active]:e.sheet_id===t._id}),onClick:n=>{"group"===t.type?(r[t._id]=!r[t._id],s(Object.assign({},r))):i({section_id:e.section_id,sheet_id:t._id})}},J().createElement("div",{style:{width:20*n}}),J().createElement("div",{className:rh.icon_box},["table"].includes(t.type)&&J().createElement(H.TableOutlined,{style:{transform:"scale(1.2)"}}),"group"===t.type&&(r[t._id]?J().createElement(H.FolderOutlined,{style:{transform:"scale(1.2)"}}):J().createElement(H.FolderOpenOutlined,{style:{transform:"scale(1.2)"}}))),J().createElement("div",{className:rh.title},J().createElement("span",null,(null===(l=t.tableInfo)||void 0===l?void 0:l.name)||t.name||"\u672a\u547d\u540d")),J().createElement("div",{className:rh.control,onClick:e=>{var t;return null===(t=e.stopPropagation)||void 0===t?void 0:t.call(e)}},J().createElement(M.Space,{size:[5,5]},"editor"===e.mode&&J().createElement(M.Dropdown,{menu:{style:{width:150},items:[{key:"edit",icon:J().createElement(H.EditOutlined,null),label:"group"===t.type?"\u7f16\u8f91\u5206\u7ec4":"\u7f16\u8f91",danger:!1},..."table"===t.type?[{key:"copy",icon:J().createElement(H.CopyOutlined,null),label:"\u590d\u5236",danger:!1}]:[],..."group"===t.type?[{type:"divider"},{key:"create",type:"group",label:"\u65b0\u589e",children:[{key:"table",label:"\u6570\u636e\u8868",icon:J().createElement(H.TableOutlined,null)}]}]:[],{type:"divider"},{key:"delete",icon:J().createElement(H.DeleteOutlined,null),label:"\u5220\u9664",danger:!0}],onClick:n=>{var o;if("edit"===n.key)null===(o=d.current)||void 0===o||o.open("edit",t,{type:t.type});else if("copy"===n.key)(async t=>{const n=await _h.xrequest.post("/api/core/nocode/appmenu/add",{name:(null===t||void 0===t?void 0:t.name)+"\u526f\u672c",parent_id:null===t||void 0===t?void 0:t.parent_id,type:(null===t||void 0===t?void 0:t.type)||"table",nocode_app_id:null===t||void 0===t?void 0:t.nocode_app_id});var o;0===n.errCode&&(await a(),i({section_id:e.section_id,sheet_id:null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o._id}),M.message.success("\u590d\u5236\u6210\u529f"),onCancel())})(t);else if("table"===n.key){var l;null===(l=d.current)||void 0===l||l.open("create",null,{type:"table",parent_id:t._id})}else if("dashboard"===n.key);else if("screen"===n.key);else if("delete"===n.key){var r,s;M.Modal.confirm({title:"\u5220\u9664\u786e\u8ba4",content:"\u60a8\u6b63\u5728\u5220\u9664\u5f53\u524d".concat((null===(r=vh[t.type])||void 0===r?void 0:r.title)||"").concat((null===(s=vh[t.type])||void 0===s?void 0:s.appmenu_delete_tip)||"","\u3002\u8bf7\u786e\u8ba4\u662f\u5426\u7ee7\u7eed\u5220\u9664\uff1f"),okText:"\u5220\u9664",okButtonProps:{danger:!0},cancelText:"\u53d6\u6d88",onOk:()=>function(t){return new Promise((async(n,o)=>{0===(await _h.xrequest.post("/api/core/nocode/appmenu/delete",{_id:null===t||void 0===t?void 0:t._id})).errCode&&(M.message.success("\u5220\u9664\u6210\u529f"),await a(),t._id===e.sheet_id&&i({section_id:e.section_id,sheet_id:void 0})),n()}))}(t)})}}},trigger:["click"],placement:"bottomLeft"},J().createElement(M.Button,{className:rh.control_more,type:"text",size:"small",icon:J().createElement(H.EllipsisOutlined,{style:{transform:"scale(1.2)"}})})),"group"===t.type&&J().createElement(M.Button,{type:"text",size:"small",icon:J().createElement(H.RightOutlined,{rotate:r[t._id]?0:90,style:{transform:"scale(0.8)"}}),style:{pointerEvents:"none"}})))),J().createElement("div",{style:{display:r[t._id]?"none":"block"}},null===(u=t.children)||void 0===u?void 0:u.map((e=>c(e,n+1)))))}return J().createElement("div",{className:rh.menu_box},u.length?u.map((e=>c(e,0))):"editor"!==e.mode&&J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u65e0\u83dc\u5355"}),"editor"===e.mode&&J().createElement(J().Fragment,null,J().createElement("div",{style:{height:1,background:"#f2f2f2"}}),J().createElement(M.Dropdown,{menu:{style:{width:200},items:[{key:"fghdgsfgdhgfg",type:"group",label:"\u6570\u636e\u8868",children:[{key:"table",label:"\u6570\u636e\u8868",icon:J().createElement(H.TableOutlined,null)}]},{type:"divider"},{key:"group",label:"\u5206\u7ec4",danger:!1,icon:J().createElement(H.FolderOpenOutlined,null)}],onClick:t=>{var n;if("table"===t.key)null===(n=d.current)||void 0===n||n.open("create",null,{type:"table",parent_id:e.section_id});else if("dashboard"===t.key);else if("screen"===t.key);else if("group"===t.key){var o;null===(o=d.current)||void 0===o||o.open("create",null,{type:"group",parent_id:e.section_id})}}},trigger:["click"],placement:"bottomRight"},J().createElement("div",{className:Z()([rh.line,rh.isadd])},J().createElement("div",{className:rh.icon_box},J().createElement(H.PlusOutlined,{style:{transform:"scale(1.1)"}})),J().createElement("div",{className:rh.title},"\u65b0\u589e"))),J().createElement(fh,{ref:d,app_id:e.app_id,section_id:e.section_id,refresh:a})))})),hh=((0,ae.observer)((0,$.forwardRef)(((e,t)=>{var n,o;(0,$.useImperativeHandle)(t,(()=>({})));const{config:l,menuTree:a,nocodeAppInfo:i,menuList:r,setmenuList:s,getNocodeApp:d,changeUrl:u}=(0,$.useContext)(nh),{ScreenTypeListMap:c}=(_h.get("contexts.app"),_h.get("datas.configs.project")),m=_h.get("modules.components.basicCommon"),p=_h.get("modules.components.basicForm"),{uploadFileRequest:_}=_h.get("handles"),[v]=M.Form.useForm(),[b,f]=(0,$.useState)(!1),[E,g]=(0,$.useState)(!1);function y(){f(!1)}function h(){v.validateFields().then((t=>{!function(t){var n;g(!0),_h.xrequest.post("/api/core/nocode/appmenu/update",{filter:{_id:null===(n=e.nocodeMenuInfo)||void 0===n?void 0:n._id},data:{"table_settings.attributes":t}}).then((t=>{g(!1),0===t.errCode&&(M.message.success("\u4fdd\u5b58\u6210\u529f"),e.getNocodeApp(),y())})).catch((e=>{g(!1)}))}(t)}))}return J().createElement(J().Fragment,null,J().createElement(M.Button,{type:"primary",onClick:e=>{f(!0)}},"\u6570\u636e\u8868\u914d\u7f6e"),J().createElement(M.Drawer,{title:"\u6570\u636e\u8868\u914d\u7f6e",width:700,open:b,closable:!1,destroyOnClose:!0,className:rh.table_setting_drawer,placement:"right",styles:{body:{padding:"0 15px"},header:{padding:"10px 16px"}},extra:J().createElement(M.Space,{size:[10,10]},J().createElement(M.Button,{type:"default",size:"default",onClick:e=>y()},"\u53d6\u6d88"),J().createElement(M.Button,{type:"primary",size:"default",loading:E,onClick:e=>h()},"\u4fdd\u5b58")),onClose:y},J().createElement(M.Form,{style:{marginTop:20},className:rh.form,form:v,labelCol:{span:3},layout:"horizontal",labelAlign:"left",colon:!1,initialValues:null===(n=e.nocodeMenuInfo)||void 0===n||null===(o=n.table_settings)||void 0===o?void 0:o.attributes},J().createElement(m.Block,{title:"\u6837\u5f0f\u5c5e\u6027",border:!0},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u663e\u793a\u8fb9\u6846",name:"cardBordered"},J().createElement(p.RadioButtonGroupInLine,{options:{props:{style:{width:200},options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5e7d\u7075\u6a21\u5f0f",name:"ghost"},J().createElement(p.RadioButtonGroupInLine,{options:{props:{style:{width:200},options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))))),J().createElement(m.Block,{title:"\u641c\u7d22\u8bbe\u7f6e",border:!0},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u641c\u7d22\u680f\u641c\u7d22",name:"searchShow"},J().createElement(p.RadioButtonGroupInLine,{options:{props:{style:{width:200},options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u7efc\u5408\u641c\u7d22",name:"allSearch"},J().createElement(p.RadioButtonGroupInLine,{options:{props:{style:{width:200},options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u641c\u7d22\u65b9\u5f0f",name:"filterType"},J().createElement(p.RadioButtonGroupInLine,{options:{props:{style:{width:200},options:[{label:"\u6807\u51c6",value:"query"},{label:"\u8f7b\u91cf",value:"light"}]}}}))))),J().createElement(m.Block,{title:"\u6807\u9898\u680f\u8bbe\u7f6e",border:!0},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u6807\u9898",name:"title"},J().createElement(p.BasicInput,{options:{props:{style:{width:200}}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u64cd\u4f5c\u9879",name:"toolBarActions"},J().createElement(ph,{options:{scene:"toolBarActions"}}))))),J().createElement(m.Block,{title:"\u8868\u683c\u8bbe\u7f6e",border:!0},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u5217\u5b9a\u4e49",name:"columns"},J().createElement(M.Table,{bordered:!0}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u663e\u793a\u5b9e\u4f8b\u5217",name:"showInstance"},J().createElement(p.RadioButtonGroupInLine,{options:{props:{style:{width:200},options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u64cd\u4f5c\u9879",name:"actions"},J().createElement(M.Table,{bordered:!0}))))),J().createElement(m.Block,{title:"\u6279\u91cf\u64cd\u4f5c\u8bbe\u7f6e",border:!0},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u6279\u91cf\u64cd\u4f5c",name:"batchShow"},J().createElement(p.RadioButtonGroupInLine,{options:{props:{style:{width:200},options:[{label:"\u5f00\u542f",value:!0},{label:"\u5173\u95ed",value:!1}]}}}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u64cd\u4f5c\u9879",name:"batchActions"},J().createElement(M.Table,{bordered:!0}))))))))}))),(0,ae.observer)((e=>{const t=_h.get("contexts.app"),n=_h.get("modules.formEditor.modules"),o=_h.get("modules.formEditor.table"),l=_h.get("modules.formEditor.SearchComponent"),{ScreenTypeListMap:a}=_h.get("datas.configs.project"),[i,r]=(0,$.useState)(!1),s=(0,$.useRef)("all"),d=(0,$.useRef)(),u=(0,$.useRef)(),c=(0,$.useMemo)((()=>{var t;return"xituyun-tableShow-".concat((null===(t=e.tableInfo)||void 0===t?void 0:t._id)||"base","-fields-setting")}),[e.tableInfo]),m=(0,$.useMemo)((()=>{var a;let i=((null===(a=e.tableInfo)||void 0===a?void 0:a.fields)||[]).filter((e=>{var t,n;return null===(t=e.data.attributes)||void 0===t||null===(n=t.listPermission)||void 0===n?void 0:n.includes("show")}));return i=i.map((e=>{var t,o,a,i,r,s,d,u,c;const m=n[e.moduleType],p=(null===(t=e.data)||void 0===t||null===(o=t.attributes)||void 0===o?void 0:o.fieldname)||e.moduleId;return m&&{title:((null===(a=e.data.attributes)||void 0===a?void 0:a.title)||e.name)+(null!==(i=e.data.attributes)&&void 0!==i&&i.unit?" (".concat((null===(r=e.data.attributes)||void 0===r?void 0:r.unit)||"",")"):""),dataIndex:["values",p],ellipsis:!0,fixed:!1,width:150,search:(null===(s=e.data.attributes)||void 0===s||null===(d=s.searchPermission)||void 0===d?void 0:d.includes("show"))||!1,copyable:(null===(u=e.data.attributes)||void 0===u||null===(c=u.listPermission)||void 0===c?void 0:c.includes("copy"))||!1,renderFormItem:(t,n,o)=>l({column:t,options:n,form:o,module:e,moduleType:e.moduleType}),render:(t,n,o,l)=>{var a;const i=null===m||void 0===m||null===(a=m.funcs)||void 0===a?void 0:a.formatTableFunc,r=n[p];return i?i(r,{moduleinfo:e,fieldname:p,recordInfo:n},"list",t):(null===r||void 0===r?void 0:r.text)||t}}})).filter(Boolean),[...i,{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",search:!0,width:200,copyable:!1,ellipsis:!0,renderFormItem:(e,t,n)=>l({column:e,form:n,options:t,moduleType:"datePicker"}),sorter:!0,render:(e,t,n,o)=>t.create_time?dayjs(t.create_time).format("YYYY-MM-DD HH:mm:ss"):void 0},{title:"\u64cd\u4f5c",dataIndex:"actions",fixed:"right",width:150,search:!1,render:(n,l,a,i)=>{var r,s,u;return[J().createElement(o.RecordButtonView,{buttonProps:{type:"link",size:"small"},modalProps:{},mode:"view",scene:"detail",record:l,tableInfo:e.tableInfo,table_id:null===(r=e.tableInfo)||void 0===r?void 0:r._id,refresh:e=>{}},"\u8be6\u60c5"),t.checkPermission("table_record_edit")&&J().createElement(o.RecordButtonView,{buttonProps:{type:"link",size:"small"},modalProps:{},mode:"view",scene:"edit",record:l,tableInfo:e.tableInfo,table_id:null===(s=e.tableInfo)||void 0===s?void 0:s._id,refresh:e=>{var t;null===(t=d.current)||void 0===t||t.reload()}},"\u7f16\u8f91"),t.checkPermission("table_record_delete")&&J().createElement(o.DeleteButtonView,{buttonProps:{type:"link",size:"small",danger:!0},modalProps:{},mode:"view",scene:"delete",record:l,tableInfo:e.tableInfo,table_id:null===(u=e.tableInfo)||void 0===u?void 0:u._id,refresh:e=>{var t;null===(t=d.current)||void 0===t||t.reload()}},"\u5220\u9664")].filter(Boolean)}}]}),[e.tableInfo,t.permissions,t.roles]);return J().createElement("div",{className:rh.basic_table,style:{position:"relative"}},J().createElement(G.ProTable,{headerTitle:J().createElement("div",{style:{height:24}},J().createElement(M.Tabs,{size:"small",style:{marginTop:-8},items:[{key:"all",label:"\u5168\u90e8",children:null},{key:"mine",label:"\u6211\u53d1\u8d77\u7684",children:null}],onChange:e=>{var t;s.current=e,null===(t=d.current)||void 0===t||t.reload()}})),columns:m,bordered:!1,actionRef:d,formRef:u,cardBordered:!0,request:async function(){var n,o,l,a;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.log("--------\u67e5\u8be2\u53c2\u6570----",i,r,d);const u=await _h.xrequest.post("/api/core/table/record/list",{filter:{...i,..."mine"===s.current?{create_user_id:null===(n=t.userInfo)||void 0===n?void 0:n._id}:{},table_id:null===(o=e.tableInfo)||void 0===o?void 0:o._id,current:void 0,pageSize:void 0},select:{},current:i.current,pageSize:i.pageSize,sort:{create_time:-1,...Object.fromEntries(Object.keys(r).map((e=>[e,"ascend"===r[e]?1:-1])))}});return{data:(null===u||void 0===u||null===(l=u.data)||void 0===l?void 0:l.data)||[],success:Boolean(u),total:(null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.count)||0}},editable:{type:"multiple"},columnsState:{persistenceKey:c,persistenceType:"localStorage"},rowKey:e=>e._id,options:{setting:{}},scroll:{x:600},rowSelection:{columnWidth:60,fixed:"left",defaultSelectedRowKeys:[],getCheckboxProps:e=>({disabled:!1})},tableAlertRender:e=>{let{selectedRowKeys:t,selectedRows:n,onCleanSelected:o}=e;return J().createElement(M.Space,null,J().createElement("span",null,"\u5df2\u9009 ",t.length," \u9879"),J().createElement(M.Button,{type:"link",size:"small",onClick:o},"\u53d6\u6d88\u9009\u62e9"))},tableAlertOptionRender:e=>{let{selectedRowKeys:t,selectedRows:n,onCleanSelected:l}=e;return J().createElement(M.Space,{size:[10,10]},J().createElement(o.BatchDeleteButtonView,{buttonProps:{type:"link",size:"small",danger:!0},_ids:t,refresh:e=>{var t;null===(t=d.current)||void 0===t||t.reload()}},"\u6279\u91cf\u5220\u9664"))},form:{syncToUrl:!1},pagination:{showSizeChanger:!0},dateFormatter:"string",toolBarRender:()=>{var n;return[t.checkPermission("table_record_add")&&J().createElement(o.RecordButtonView,{buttonProps:{type:"primary"},modalProps:{},mode:"view",scene:"create",record:void 0,tableInfo:e.tableInfo,table_id:null===(n=e.tableInfo)||void 0===n?void 0:n._id,searchParams:{},refresh:e=>{var t;null===(t=d.current)||void 0===t||t.reload()}},"\u65b0\u589e\u8bb0\u5f55")]}}))}))),xh=(0,ae.observer)((e=>{const{config:t,menuTree:n,menuList:o,setmenuList:l,getNocodeApp:a,changeUrl:i}=(0,$.useContext)(nh),r=_h.get("contexts.app"),{ScreenTypeListMap:s}=(_h.get("modules.formEditor.modules"),_h.get("modules.formEditor.table"),_h.get("modules.formEditor.SearchComponent"),_h.get("datas.configs.project")),[d,u]=(0,$.useState)(),[c,m]=(0,$.useState)(!1),p=(0,$.useRef)(),_=(0,$.useMemo)((()=>null===d||void 0===d?void 0:d.tableInfo),[d]);function v(){if(e.sheet_id)return new Promise((async(t,n)=>{m(!0),u();const o=await _h.xrequest.post("/api/core/nocode/appmenu/detail",{_id:e.sheet_id});m(!1),u(null===o||void 0===o?void 0:o.data),t()}))}return(0,$.useEffect)((()=>{v()}),[e.sheet_id]),e.sheet_id?J().createElement("div",{className:rh.body},d&&["table"].includes(null===d||void 0===d?void 0:d.type)&&J().createElement("div",{className:rh.body_box,ref:p},J().createElement("div",{className:rh.body_header},J().createElement("div",{className:rh.header_left},J().createElement(M.Space,{size:[12,12]},J().createElement("div",{className:rh.icon_box},J().createElement(H.TableOutlined,{style:{transform:"scale(1.2)"}})),J().createElement("div",{className:rh.title},J().createElement("span",null,(null===_||void 0===_?void 0:_.name)||(null===d||void 0===d?void 0:d.name)||"\u672a\u547d\u540d")),"editor"===e.mode&&J().createElement(M.Dropdown,{menu:{style:{width:150},items:[{key:"sdfgljhgkfgjd",type:"group",label:"\u914d\u7f6e\u9879",children:[{key:"tablefield",label:"\u8868\u5b57\u6bb5\u5b9a\u4e49",icon:J().createElement(H.FieldNumberOutlined,null)}].filter(Boolean)},{type:"divider"},{key:"setting",label:"\u8bbe\u7f6e\u6570\u636e\u8868",icon:J().createElement(H.TableOutlined,null)},{key:"copy",label:"\u590d\u5236\u8868ID",icon:J().createElement(H.CopyOutlined,null)},{type:"divider"},{key:"delete",icon:J().createElement(H.DeleteOutlined,null),label:"\u5220\u9664",danger:!0}].filter(Boolean),onClick:e=>{"tablefield"===e.key?_h.history.push("/admin/table/creator/".concat(null===_||void 0===_?void 0:_._id)):"setting"===e.key?_h.history.push("/nocode/setting/".concat(null===d||void 0===d?void 0:d._id)):"copy"===e.key?(lh()(null===_||void 0===_?void 0:_._id),M.message.success("\u590d\u5236\u6210\u529f")):"dashboard"===e.key||e.key}},trigger:["click"],placement:"bottomLeft"},J().createElement(M.Button,{className:rh.control_more,type:"text",size:"small",icon:J().createElement(H.EllipsisOutlined,{style:{transform:"scale(1.2)"}})})))),J().createElement("div",{className:rh.header_right},J().createElement(M.Space,null,J().createElement(M.Tag,{color:"#1890ff"},"\u6570\u636e\u8868")))),J().createElement("div",{className:rh.body_content},J().createElement("div",{style:{padding:15}},_?J().createElement(hh,Object.assign({},e,{getNocodeMenu:v,nocodeMenuInfo:d,tableInfo:_})):J().createElement("div",{style:{height:100}})))),J().createElement(M.Spin,{spinning:!_&&c},!_&&J().createElement("div",{style:{height:200}})),"screen"===(null===d||void 0===d?void 0:d.type)&&J().createElement("div",{className:rh.body_box},J().createElement("div",{style:{padding:15}},"\u753b\u9762\u5185\u5bb9")),"dashboard"===(null===d||void 0===d?void 0:d.type)&&J().createElement("div",{className:rh.body_box},J().createElement("div",{style:{padding:15}},"\u4eea\u8868\u76d8\u5185\u5bb9"))):J().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},"editor"===e.mode?e.section_id?J().createElement(M.Empty,{description:"\u8bf7\u5728\u5de6\u4fa7\u83dc\u5355\u680f\u6dfb\u52a0\u4e8c\u7ea7\u83dc\u5355\u6216\u6570\u636e\u8868"}):J().createElement(M.Empty,{description:"\u8bf7\u5148\u70b9\u51fb\u9876\u90e8+\u53f7\u6dfb\u52a0\u4e00\u7ea7\u83dc\u5355"}):J().createElement(M.Result,{status:"warning",title:"\u5f53\u524d\u5e94\u7528\u5c1a\u672a\u5b8c\u6210\u914d\u7f6e\u5de5\u4f5c\uff01",subTitle:"\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5728\u7ba1\u7406\u540e\u53f0\u8fdb\u884c\u914d\u7f6e",extra:[r.checkPermission("admin_enter")&&"pc"===r.deviceType&&J().createElement(M.Button,{type:"default",key:"applist",href:"#/admin/app/list"},"\u5e94\u7528\u7ba1\u7406"),r.checkPermission("app_list_add")&&"pc"===r.deviceType&&J().createElement(M.Button,{type:"primary",key:"applist",href:"#/admin/nocode/creator/".concat(e.app_id)},"\u53bb\u540e\u53f0\u914d\u7f6e \u2192")]}))})),wh=window.__app__,Ih=(e,t)=>{var n,o,l,a,i,r,s,d,u,c;(0,$.useImperativeHandle)(t,(()=>({getValues:O,setValues:P})));const m=wh.get("contexts.app"),{platformName:p,defaultUserAvatar:_,defaultSystemLogo:v}=wh.get("datas.configs.project"),b=(wh.get("hooks.useStateWithRef"),wh.get("modules.screenEditor.modules"),wh.get("modules.components.basicCommon")),[f,E]=(0,$.useState)(!1),[g,y]=(0,$.useState)(!1),[h,x]=(0,$.useState)(),[w,I]=(0,$.useState)([]),[T,C]=(0,$.useState)([]);(0,$.useMemo)((()=>Object.fromEntries(w.map((e=>[e._id,e.type])))),[w]);function S(){if(e.app_id)return new Promise((async(t,n)=>{E(!0);const o=await wh.xrequest.post("/api/core/nocode/app/detail",{_id:e.app_id});if(E(!1),0===o.errCode){var l;const t=(null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.menus)||[];x(null===o||void 0===o?void 0:o.data),I(t);const n=function(e){const t=e.sort(((e,t)=>e.sort-t.sort)).sort(((e,t)=>e.create_time-t.create_time));return wh.listToTree(t,void 0,{parent_field:"parent_id",unique_field:"_id"})}(t);C(n),e.section_id&&e.sheet_id||k({section_id:e.section_id,sheet_id:e.sheet_id,tree:n})}t(null===o||void 0===o?void 0:o.data)}))}(0,$.useEffect)((()=>{}),[]),(0,$.useEffect)((()=>{S()}),[e.app_id]);const O=()=>({}),P=async e=>{};function k(t){let{section_id:n,sheet_id:o,tree:l}=t;const a=l||T||[];let i="editor"===e.mode?"/admin/nocode/creator/".concat(e.app_id):"".concat(e.unique_id?"/".concat(e.unique_id):"","/nocode/").concat(e.app_id);var r,s;n||"group"===(null===(r=a[0])||void 0===r?void 0:r.type)&&(n=null===(s=a[0])||void 0===s?void 0:s._id);if(n){if(i+="/".concat(n),!o){var d;const[e]=a.filter((e=>e._id===n));o=null===(d=function(e){let t=[];return function e(n){((null===n||void 0===n?void 0:n.children)||[]).forEach((n=>{"group"===n.type?e(n):t.push(n)}))}(e),t}(e).filter((e=>"group"!==e.type))[0])||void 0===d?void 0:d._id}o&&(i+="/".concat(o))}wh.history.replace(i)}return J().createElement(nh.Provider,{value:{unique_id:e.unique_id,app_id:e.app_id,section_id:e.section_id,sheet_id:e.sheet_id,nocodeAppInfo:h,menuTree:T,setmenuTree:C,menuList:w,setmenuList:I,getNocodeApp:S,changeUrl:k,config:{mode:e.mode||"view"}}},h&&J().createElement("div",{className:rh.editor},J().createElement("div",{className:rh.header},J().createElement("div",{className:rh.header_box},J().createElement("div",{className:rh.header_left},J().createElement(M.Space,{className:rh.header_title_box},J().createElement(M.Tooltip,{title:"\u8fd4\u56de"},J().createElement(M.Button,{type:"text",icon:J().createElement(H.LeftOutlined,null),style:{color:"#ffffff"},onClick:e=>{var t;null===(t=wh.history)||void 0===t||t.go(-1)}})),J().createElement(M.Image,{height:26,preview:!1,src:null===(n=(o=wh.handles).resourceUrl)||void 0===n?void 0:n.call(o,(null===(l=h.logo)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.url)||_)}),J().createElement("span",{className:rh.header_title},h.name||"\u7a00\u571f\u4e91\u5e94\u7528")),J().createElement("div",{className:rh.header_menu_box},J().createElement(gh,e))),J().createElement("div",{className:rh.header_right},J().createElement(M.Space,null,J().createElement(M.Tooltip,{title:"\u6d88\u606f"},J().createElement(M.Button,{type:"text",ghost:!0,style:{color:"#ffffff"},icon:J().createElement(H.BellOutlined,null),href:"#/message/list"})),J().createElement(M.Space,{style:{}},J().createElement(M.Avatar,{size:35,src:null===(i=(r=wh.handles).resourceUrl)||void 0===i?void 0:i.call(r,(null===(s=m.userInfo)||void 0===s||null===(d=s.avatar)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.url)||_)}),J().createElement("span",null,(null===(c=m.userInfo)||void 0===c?void 0:c.name)||"\u672a\u586b\u5199")))))),J().createElement("div",{className:rh.main},e.section_id&&J().createElement(b.AsideFolder,{foldable:!1,direction:"left",width:250},J().createElement("div",{className:rh.aside_scroll},J().createElement(yh,e))),J().createElement(xh,e))))},Th=(0,ae.observer)((0,$.forwardRef)(Ih)),Ch=window.__app__,Sh=e=>J().createElement(M.Result,{status:"404",title:"404",subTitle:"\u5f88\u62b1\u6b49\uff0c\u60a8\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728\u3002",extra:!1!==e.footer&&J().createElement(M.Space,null,J().createElement(M.Button,{type:"default",onClick:e=>Ch.history.back()},"\u8fd4\u56de"),J().createElement(M.Button,{type:"primary",onClick:e=>Ch.history.push("/")},"\u53bb\u9996\u9875"))});var Oh=__webpack_require__(9210),Ph={};Ph.styleTagTransform=q(),Ph.setAttributes=U(),Ph.insert=B().bind(null,"head"),Ph.domAPI=F(),Ph.insertStyleElement=z();A()(Oh.A,Ph);const Mh=Oh.A&&Oh.A.locals?Oh.A.locals:void 0,kh=window.__app__,Dh=(0,ae.observer)((e=>{var t,n,o,l,a,i;const r=kh.get("contexts.app"),{Login:s}=kh.get("modules.components.workCommon");return J().createElement("div",{className:Mh.login_box,style:{backgroundImage:"platform"===e.type?'url("https://cdn.xituyun.com/1728891490614_a6f9188878b8")':'url("'.concat(null===(t=(n=kh.handles).resourceUrl)||void 0===t?void 0:t.call(n,(null===(o=r.projectInfo)||void 0===o||null===(l=o.login)||void 0===l||null===(a=l.backgroundImage)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.url)||"https://cdn.xituyun.com/1728891962469_832a5bb8f9a9"),'")')}},J().createElement("div",{className:Mh.login},J().createElement(s,e)))})),Nh=Dh,Ah=window.__app__,Lh=e=>{const{ScreenView:t}=Ah.get("modules.screenEditor");return J().createElement(t,{path:e.path,_id:e._id})},Fh=window.__app__,Rh=(0,ae.observer)((e=>{var t;const n=Fh.get("contexts.app"),o=Fh.get("modules.components.basicCommon"),{ScreenView:l}=Fh.get("modules.screenEditor"),{pathname:a}=(0,Wt.useLocation)(),i=(0,$.useMemo)((()=>{var e;const t=(null===(e=n.projectInfo)||void 0===e?void 0:e.admin_menus)||[],o={},l=(e,t)=>{const n="/admin/custom/"+[...t,e].map((e=>e.path)).join("/");o[n]=e,e.children&&e.children.map((n=>l(n,[...t,e])))};return t.map((e=>l(e,[]))),o}),[null===(t=n.projectInfo)||void 0===t?void 0:t.admin_menus]),r=(0,$.useMemo)((()=>i[a]),[a,i]);return J().createElement(o.Page,null,J().createElement(o.Container,{style:{width:"calc(100% - 220px)"}},J().createElement(o.Header,{title:null===r||void 0===r?void 0:r.name,border:!0}),J().createElement(o.Body,{style:{flex:1,padding:0}},(null===r||void 0===r?void 0:r.screen_id)&&J().createElement(l,{_id:null===r||void 0===r?void 0:r.screen_id}))))})),Bh=Rh;const Vh=function(e){const[t,n]=J().useState(e),o=J().useRef(t);return[t,function(e){"function"===typeof e&&(e=e(t)),o.current=e,n(e)},o]};const Uh=function(e){J().useEffect((()=>{function t(){null===e||void 0===e||e()}return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e])},Yh=window.__app__,zh=(e,t)=>{var n,o,l;(0,$.useImperativeHandle)(t,(()=>({open:E})));const{ScreenTypeListMap:a}=Yh.get("datas.configs.project"),[i]=M.Form.useForm(),[r,s]=(0,$.useState)(!1),[d,u]=(0,$.useState)(!1),[c,m]=(0,$.useState)("create"),[p,_]=(0,$.useState)("screen"),v=(0,$.useRef)(),b=(0,$.useMemo)((()=>{var t;return Yh.listToTree((null===(t=e.contexts)||void 0===t?void 0:t.groupList)||[],void 0,{parent_field:"parent_id",unique_field:"_id"})}),[null===(n=e.contexts)||void 0===n?void 0:n.groupList]),f=(0,$.useMemo)((()=>{function e(t){var n;return{title:t.name,value:t._id,children:(null===(n=t.children)||void 0===n?void 0:n.map((t=>e(t))))||[]}}return b.map((t=>e(t)))}),[b]),E=(e,t,n)=>{e&&m(e),_(n.scene||"screen"),t&&(i.setFieldsValue({...t}),v.current=t),s(!0)},g=async t=>{u(!0);const n=await Yh.xrequest.post("/api/core/screen/add",{...t,..."formSenior"===p?{table_id:e.table_id}:{}});var o,l;"formSenior"===p&&await Yh.xrequest.post("/api/core/table/update",{filter:{_id:e.table_id},data:{screen_id:null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o._id}});(u(!1),n)&&(M.message.success("\u65b0\u589e\u6210\u529f"),null===(l=e.refresh)||void 0===l||l.call(e,n),h())},y=async t=>{u(!0);const n=await Yh.xrequest.post("/api/core/screen/update",{filter:{_id:v.current._id},data:{...t}});var o;(u(!1),n)&&(M.message.success("\u4fee\u6539\u6210\u529f"),null===(o=e.refresh)||void 0===o||o.call(e,n),h())},h=()=>{i.resetFields(),s(!1)};return J().createElement(M.Modal,{title:("create"===c?"\u65b0\u589e":"\u7f16\u8f91")+((null===(o=a[p])||void 0===o?void 0:o.createTitle)||(null===(l=a[p])||void 0===l?void 0:l.name)),width:800,open:r,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",destroyOnClose:!0,confirmLoading:d,onOk:()=>{i.validateFields().then((e=>{"create"===c?g(e):y(e)}))},onCancel:h},J().createElement(M.Form,{style:{marginTop:20},form:i,labelCol:{span:6},layout:"horizontal",labelAlign:"right"},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:12},J().createElement(M.Form.Item,{label:"\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165"}))),J().createElement(M.Col,{span:12},J().createElement(M.Form.Item,{label:"\u7c7b\u578b",name:"type",tooltip:"screen"===p&&"\u753b\u9762\u53ef\u4ee5\u5c06\u5171\u540c\u90e8\u5206\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u6bcd\u7248\u753b\u9762\uff1b\u6bcd\u7248\u5e38\u7528\u4e8e\u9875\u9762\u7ed3\u6784\u6846\u67b6\u3002",initialValue:p},J().createElement(M.Radio.Group,{options:Object.values(a).filter((e=>e.scene===p)).map((e=>({label:e.name,value:e.value}))),optionType:"button",buttonStyle:"solid"}))),J().createElement(M.Col,{span:12},J().createElement(M.Form.Item,{label:"\u6240\u5c5e\u5206\u7ec4",name:"group_id"},J().createElement(M.TreeSelect,{placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,treeDefaultExpandAll:!0,treeData:f})))),J().createElement(M.Row,{gutter:10},J().createElement(M.Col,{span:12},J().createElement(M.Form.Item,{label:"\u5907\u6ce8",name:"comment"},J().createElement(M.Input.TextArea,{placeholder:"\u8bf7\u8f93\u5165",rows:3}))))))},jh=(0,ae.observer)((0,$.forwardRef)(zh));var qh=__webpack_require__(999),Xh={};Xh.styleTagTransform=q(),Xh.setAttributes=U(),Xh.insert=B().bind(null,"head"),Xh.domAPI=F(),Xh.insertStyleElement=z();A()(qh.A,Xh);const Wh=qh.A&&qh.A.locals?qh.A.locals:void 0,Kh=window.__app__,$h=(0,ae.observer)((e=>J().createElement(M.Button,{style:{borderRadius:7},block:!0,size:"small",type:e.value?"primary":"default",icon:e.value&&J().createElement(H.CheckOutlined,null),onClick:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,!e.value)}},e.children))),Jh=(0,ae.observer)((e=>{var t,n,o,l;Kh.get("modules.components.basicWork");const a=Kh.get("modules.components.basicCommon"),i=(e,t)=>{var n;const o=(null===e||void 0===e||null===(n=e.permissions)||void 0===n?void 0:n.map((e=>e.value)))||[],l=function e(t){const n=[];return t.forEach((t=>{var o;const l=null===(o=t.permissions)||void 0===o?void 0:o.map((e=>e.value));if(l&&n.push(...l),t.children){const o=e(t.children);o&&n.push(...o)}})),n}((null===e||void 0===e?void 0:e.children)||[]);return 0===t?null===o||void 0===o?void 0:o.concat(l):o};return J().createElement(M.Row,{gutter:[10,10],desc:"area",className:0===e.step&&Wh.permission_area},J().createElement(M.Col,{span:24,desc:"line"},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:5,desc:"label"},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{flex:"1",style:{paddingLeft:20*e.step,color:"#000",fontWeight:0===e.step&&700}},e.item.name,J().createElement(a.ToolTip,{title:e.item.tooltip})),J().createElement(M.Col,null,J().createElement(M.Checkbox,{checked:i(e.item,e.step).every((t=>e.selectedFields.includes(t))),onChange:t=>{const n=i(e.item,e.step);let o;t.target.checked?(o=e.selectedFields.concat(n),o=Array.from(new Set(o))):o=e.selectedFields.filter((e=>!n.includes(e))),e.setselectedFields(o)}},"\u5168\u9009",0===e.step&&"\u672c\u7ec4")))),J().createElement(M.Col,{flex:"1",desc:"permission"},J().createElement(M.Row,{gutter:[10,10]},null===(t=e.item)||void 0===t||null===(n=t.permissions)||void 0===n?void 0:n.map(((t,n)=>J().createElement(M.Col,{span:4,key:n},J().createElement($h,{value:e.selectedFields.includes(t.value),onChange:n=>{const o=e.selectedFields.includes(t.value)?e.selectedFields.filter((e=>e!==t.value)):[...e.selectedFields,t.value];e.setselectedFields(o)}},J().createElement("span",null,t.name),J().createElement(a.ToolTip,{title:t.tooltip}))))))))),J().createElement(M.Col,{span:24,desc:"children"},null===(o=e.item)||void 0===o||null===(l=o.children)||void 0===l?void 0:l.map(((t,n)=>J().createElement($.Fragment,{key:n},J().createElement(Jh,{item:t,step:e.step+1,selectedFields:e.selectedFields,setselectedFields:e.setselectedFields}))))))})),Hh=(0,ae.observer)((0,$.forwardRef)(((e,t)=>{(0,$.useImperativeHandle)(t,(()=>({open:u})));const[n]=M.Form.useForm(),[o,l]=(0,$.useState)("create"),[a,i]=(0,$.useState)(!1),[r,s]=(0,$.useState)(!1),d=(0,$.useRef)();function u(e,t){l(e),i(!0),"edit"===e&&(d.current=t,n.setFieldsValue(t))}const c=async t=>{s(!0);const n=await Kh.xrequest.post("/api/core/user/permission/add",{...t});var o;(s(!1),n)&&(M.message.success("\u65b0\u589e\u6210\u529f"),null===(o=e.refresh)||void 0===o||o.call(e),p())},m=async t=>{s(!0);const n=await Kh.xrequest.post("/api/core/user/permission/update",{filter:{_id:d.current._id},data:{...t}});var o;(s(!1),n)&&(M.message.success("\u4fee\u6539\u6210\u529f"),null===(o=e.refresh)||void 0===o||o.call(e),p())},p=()=>{var t;i(!1),n.resetFields(),null===(t=e.refresh)||void 0===t||t.call(e)};return J().createElement(M.Modal,{title:"\u65b0\u589e\u81ea\u5b9a\u4e49\u6743\u9650",width:400,destroyOnClose:!0,open:a,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",confirmLoading:r,onOk:()=>{n.validateFields().then((e=>{"create"===o?c(e):"edit"===o&&m(e)}))},onCancel:p},J().createElement(M.Form,{style:{marginTop:20},form:n,layout:"vertical",labelAlign:"right",colon:!1},J().createElement(M.Row,{gutter:[10,10]},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u4e00\u7ea7\u5206\u7ec4\u540d\u79f0",name:"group_name1",tooltip:"\u4e00\u7ea7\u83dc\u5355\u3001\u5927\u7684\u529f\u80fd\u6a21\u5757\u3002\u4f8b\u5982\uff1a\u90e8\u95e8\u4e0e\u6743\u9650",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},J().createElement(M.Input,{style:{width:"100%"},placeholder:"\u793a\u4f8b\uff1a\u90e8\u95e8\u4e0e\u6743\u9650"}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u4e8c\u7ea7\u5206\u7ec4\u540d\u79f0",name:"group_name2",tooltip:"\u4e8c\u7ea7\u83dc\u5355\u3001\u4e8c\u7ea7\u6a21\u5757\u3002\u4f8b\u5982\uff1a\u7528\u6237\u89d2\u8272",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},J().createElement(M.Input,{style:{width:"100%"},placeholder:"\u793a\u4f8b\uff1a\u7528\u6237\u89d2\u8272"}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u6743\u9650\u540d\u79f0",name:"name",tooltip:"\u6743\u9650\u540d\u79f0\uff0c\u4e00\u822c\u7528\u6c49\u5b57\u8868\u793a\u3002\u4f8b\u5982\uff1a\u4eba\u4e8b\u4e3b\u7ba1",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},J().createElement(M.Input,{style:{width:"100%"},placeholder:"\u793a\u4f8b\uff1a\u4eba\u4e8b\u4e3b\u7ba1"}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u6743\u9650\u503c",name:"value",tooltip:"\u6743\u9650\u503c\uff0c\u4e00\u822c\u7528\u82f1\u6587\u5355\u8bcd\u8868\u793a\uff0c\u4e3b\u8981\u7528\u4e8e\u754c\u9762\u6a21\u5757\u914d\u7f6e\u6743\u9650\uff0c\u7cfb\u7edf\u5185\u552f\u4e00\uff0c\u5efa\u8bae\u6309\u6a21\u5757+\u4e0b\u5212\u7ebf\u62fc\u63a5\u3002\u4f8b\u5982\uff1auser_role_HRM",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},J().createElement(M.Input,{style:{width:"100%"},placeholder:"\u793a\u4f8b\uff1auser_role_HRM"}))))))}))),Gh=(0,ae.observer)((0,$.forwardRef)(((e,t)=>{var n;(0,$.useImperativeHandle)(t,(()=>({open:y})));const o=Kh.get("contexts.app"),l=Kh.get("datas.configs.permission"),[a,i]=(0,$.useState)(!1),[r,s]=(0,$.useState)(!1),[d,u]=(0,$.useState)([]),[c,m]=(0,$.useState)(l.defaultPermissions()),[p,_]=(0,$.useState)(l.frontPermissions()),[v,b]=(0,$.useState)([]),f=(0,$.useRef)(),E=(0,$.useRef)(),g=((0,$.useMemo)((()=>{var e;return[{name:"\u81ea\u5b9a\u4e49\u83dc\u5355",permissions:[],children:((null===(e=o.projectInfo)||void 0===e?void 0:e.admin_menus)||[]).map((e=>({name:e.name,permissions:[{name:"\u83dc\u5355\u663e\u793a",value:"screen_id_"+(e.screen_id||e.key)}].concat((e.children||[]).map((e=>({name:e.name,value:"screen_id_"+(e.screen_id||e.key)}))))})))}]}),[null===(n=o.projectInfo)||void 0===n?void 0:n.admin_menus]),(0,$.useMemo)((()=>Array.from(new Set(v.map((e=>e.group_name1)))).map((e=>{const t=Array.from(new Set(v.filter((t=>t.group_name1===e)).map((e=>e.group_name2))));return{name:e||"\u672a\u5206\u7c7b",permissions:[],children:t.map((t=>{const n=v.filter((n=>n.group_name1===e&&n.group_name2===t));return{name:t||"\u672a\u5206\u7c7b",permissions:n.map((e=>({name:e.name,value:e.value})))}}))}}))),[v])),y=e=>{var t;let{record:n}=e;f.current=n,u((null===(t=f.current)||void 0===t?void 0:t.permissions)||["front_login","admin_login"]),i(!0),h()};async function h(){var e;const t=await Kh.xrequest.post("/api/core/user/permission/list",{current:1,pageSize:1e4,sort:{create_time:1}});b((null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[])}const x=async()=>{var t;s(!0);const n=await Kh.xrequest.post("/api/core/user/role/update",{filter:{_id:null===(t=f.current)||void 0===t?void 0:t._id},data:{permissions:d}});var o;(s(!1),n)&&(M.message.success("\u4fdd\u5b58\u6210\u529f"),null===(o=e.refresh)||void 0===o||o.call(e),w())},w=()=>{i(!1)};return J().createElement(M.Modal,{title:"\u6743\u9650\u8bbe\u7f6e",width:1050,destroyOnClose:!0,open:a,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",confirmLoading:r,onOk:()=>{x()},onCancel:w},J().createElement(M.Tabs,{type:"card",tabBarGutter:8,items:[{key:"system",label:"\u540e\u53f0\u6743\u9650",forceRender:!0,children:J().createElement("div",{className:Wh.permission_setting},J().createElement(M.Space,{size:[10,10],direction:"vertical",style:{width:"100%"}},c.concat([]).map(((e,t)=>J().createElement($.Fragment,{key:t},J().createElement(Jh,{item:e,step:0,selectedFields:d,setselectedFields:u}))))))},{key:"custom",label:"\u81ea\u5b9a\u4e49\u6743\u9650",forceRender:!0,children:J().createElement("div",{className:Wh.permission_setting},J().createElement(M.Space,{size:[10,10],direction:"vertical",style:{width:"100%"}},g.map(((e,t)=>J().createElement($.Fragment,{key:t},J().createElement(Jh,{item:e,step:0,selectedFields:d,setselectedFields:u})))),!(null!==g&&void 0!==g&&g.length)&&J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u65e0\u6570\u636e"})))}]}),J().createElement(Hh,{ref:E,refresh:e=>{h()}}))}))),Qh=Gh,Zh=window.__app__,ex="xituyun_user_token",tx=(0,ae.observer)((e=>{var t,n,o,l,a,i,r,s,d,u,c,m,p;const _=Zh.get("contexts.app"),v=Zh.get("modules.components.basicWork"),{platformName:b,defaultUserAvatar:f,defaultSystemLogo:E,defaultPlatformLogo:g}=(Zh.get("modules.components.basicCommon"),Zh.get("datas.configs.project")),y=(0,Wt.useLocation)(),h=new URLSearchParams(y.search),[x,w]=(0,$.useState)(e.type||"basic"),[I,T]=(0,$.useState)("platform"===x?"loading":"login"),[C,S]=(0,$.useState)([]),[O,P]=(0,$.useState)(),[k,D]=(0,$.useState)(),[N,A]=(0,$.useState)("create"),L=(0,$.useRef)(),[F,R]=((0,$.useRef)(),(0,$.useState)("account")),[B,V]=(0,$.useState)(!1),[U,Y]=(0,$.useState)(!0);(0,$.useEffect)((()=>{"basic"===x?z():async function(){const e=JSON.parse(window.localStorage.getItem(ex)||'""');if(e){const n=await Zh.xrequest.post("/api/core/platform/user",{usertoken:e});var t;if(n)D(null===n||void 0===n?void 0:n.data),T("logined"),P(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t._id);else T("login"),window.localStorage.removeItem(ex)}else T("login")}()}),[]);const z=async()=>{const e=await Zh.xrequest.post("/api/core/user/check_admin",{});Y(Boolean(null===e||void 0===e?void 0:e.data))},j=async e=>new Promise((async(t,n)=>{if(V(!0),"platform"===x){const n=await Zh.xrequest.post("/api/core/platform/login",{...e,password:"account"===F&&e.password&&Zh.md5(e.password),type:e.wx_openid?"wx_openid":F});if(V(!1),n){var o;const e=(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.userList)||[];var l,a;if(S(e),1===e.length)if(null!==(l=e[0])&&void 0!==l&&l.project_id)await X(null===(a=e[0])||void 0===a?void 0:a._id);else T("choose");else T("choose")}t(n)}else{const n=await Zh.xrequest.post("/api/core/auth/account/login",{...e,password:"account"===F&&e.password&&Zh.md5(e.password),type:e.wx_openid?"wx_openid":F,usertype:"inside"});if(V(!1),n){var i,r;Zh.set("datas.token",null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.token),await _.getUserInfo(),M.message.success("\u767b\u5f55\u6210\u529f");const e=decodeURIComponent(h.get("redirect")||"");null===(r=Zh.history)||void 0===r||r.replace(e||"/admin")}t(n)}}));function q(){T("login"),P(),window.localStorage.removeItem(ex),S([])}async function X(e){return new Promise((async(t,n)=>{var o,l;V(!0);const a=await Zh.xrequest.post("/api/core/platform/create_token",{user_id:e||O});if(V(!1),null!==a&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.token&&null!==a&&void 0!==a&&null!==(l=a.data)&&void 0!==l&&l.usertoken&&null!==a&&void 0!==a&&a.data.project_id){var i,r,s,d,u;Zh.set("datas.project_id",null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.project_id),Zh.set("datas.token",null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.token),window.localStorage.setItem(ex,JSON.stringify(null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.usertoken));const e="".concat((null===(d=window._config)||void 0===d?void 0:d.project_prefixPath)||"","/p/").concat((null===a||void 0===a||null===(u=a.data)||void 0===u?void 0:u.project_id)||"","/");window.location.href=e}t()}))}return J().createElement("div",{className:Wh.login_component},"loading"===I&&J().createElement(G.LoginForm,{title:null,submitter:{render:()=>null}},J().createElement(M.Spin,{spinning:!0,desc:"\u52a0\u8f7d\u4e2d"},J().createElement("div",{style:{height:212}},J().createElement("input",{style:{display:"none"}})))),"login"===I&&J().createElement(G.LoginForm,{formRef:L,title:J().createElement("div",{className:Wh.logo_box},J().createElement(M.Image,{className:Wh.logo,preview:!1,src:null===(t=(n=Zh.handles).resourceUrl)||void 0===t?void 0:t.call(n,"platform"===x?g:(null===(o=_.projectInfo)||void 0===o||null===(l=o.logo)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.url)||E)}),J().createElement("div",{className:Wh.title},"platform"===x?b+"\u5e73\u53f0\u767b\u5f55":(null===(i=_.projectInfo)||void 0===i?void 0:i.name)||"\u672a\u547d\u540d\u9879\u76ee")),actions:"smscode"===F&&J().createElement(M.Space,{direction:"vertical",style:{width:"100%"}},J().createElement("div",{style:{textAlign:"center"}},"\u6ce8\u518c\u767b\u5f55\u5373\u8868\u793a\u540c\u610f",J().createElement(M.Button,{size:"small",type:"link",target:"_blank",href:"https://xituyun.com/#/web/fuwu"},"\u7528\u6237\u534f\u8bae"),"\u548c",J().createElement(M.Button,{size:"small",type:"link",target:"_blank",href:"https://xituyun.com/#/web/yinsi"},"\u9690\u79c1\u653f\u7b56"))),submitter:{searchConfig:{submitText:"login"===I?U?"\u767b\u5f55":"\u6ce8\u518c\u7ba1\u7406\u5458\u8d26\u53f7":"choose"===I?"\u8fdb\u5165":"\u767b\u5f55"},submitButtonProps:{loading:B}},onFinish:async e=>{U?await j(e):await(async e=>new Promise((async(t,n)=>{V(!0);const o=await Zh.xrequest.post("/api/core/user/add_admin",{username:e.account,password:Zh.md5(e.password),is_super_admin:!0,usertype:"inside"});V(!1),o&&(M.message.success("\u7ba1\u7406\u5458\u8d26\u53f7\u6ce8\u518c\u6210\u529f"),z()),t(o)})))(e)}},J().createElement("div",{className:"step1",desc:"\u767b\u5f55\u9875"},"pc"===_.deviceType&&"platform"===x&&"account"===F&&J().createElement("div",{className:Wh.qrcode_tag,onClick:e=>{T("qrcode")}}),J().createElement("div",{className:Wh.register_box},J().createElement(M.Space,null)),"account"===F&&J().createElement(J().Fragment,null,J().createElement(G.ProFormText,{name:"account",fieldProps:{size:"large",prefix:J().createElement(H.UserOutlined,{className:"prefixIcon"})},placeholder:"\u7528\u6237\u540d/\u624b\u673a\u53f7/\u90ae\u7bb1",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7"}]}),J().createElement(G.ProFormText.Password,{name:"password",fieldProps:{size:"large",prefix:J().createElement(H.LockOutlined,{className:"prefixIcon"})},placeholder:"\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]})),"smscode"===F&&J().createElement(J().Fragment,null,J().createElement(G.ProFormText,{fieldProps:{size:"large",prefix:J().createElement(H.MobileOutlined,{className:"prefixIcon"})},name:"mobile",placeholder:"\u624b\u673a\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:Zh.get("datas.regex.mobile.pattern"),message:Zh.get("datas.regex.mobile.message")}]}),J().createElement(G.ProFormCaptcha,{fieldProps:{size:"large",prefix:J().createElement(H.LockOutlined,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",captchaTextRender:(e,t)=>e?"".concat(t," ","\u83b7\u53d6\u9a8c\u8bc1\u7801"):"\u83b7\u53d6\u9a8c\u8bc1\u7801",name:"captcha",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}],onGetCaptcha:async()=>{var e;const t=null===(e=L.current)||void 0===e?void 0:e.getFieldsValue(),n=await(e=>new Promise((async(t,n)=>{const o=await Zh.xrequest.post("/api/core/server/sms/send_smscode",{mobile:e.mobile});0===o.errCode?t(o):t()})))(t);if(!n)throw new Error("\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25");M.message.success("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f")}})),J().createElement("div",{style:{marginBlockEnd:14,display:"flex",justifyContent:"space-between"}},"platform"===x&&J().createElement(J().Fragment,null,J().createElement(M.Button,{type:"link",size:"small",onClick:e=>{R("smscode"===F?"account":"smscode")}},"smscode"===F?"\u5bc6\u7801\u767b\u5f55":"\u9a8c\u8bc1\u7801\u767b\u5f55"),"smscode"===F?J().createElement(M.Button,{type:"text",size:"small",disabled:!0},"\u9a8c\u8bc1\u7801\u767b\u5f55\u81ea\u52a8\u6ce8\u518c\u8d26\u53f7"):J().createElement(M.Button,{type:"link",size:"small",onClick:e=>{R("smscode")}},"\u6ce8\u518c\u8d26\u53f7"))),!U&&J().createElement("div",{style:{color:"#ff4d4f",marginBottom:10,marginTop:-10}},"\u7ba1\u7406\u5458\u8d26\u53f7\u4e0d\u5b58\u5728\uff0c\u8bf7\u5148\u6ce8\u518c"),(null===(r=window._config)||void 0===r?void 0:r.project_loginTip)&&J().createElement("div",{style:{color:"#ff9100",marginBottom:10,marginTop:-10}},window._config.project_loginTip))),"choose"===I&&J().createElement(G.LoginForm,{title:J().createElement("div",{className:Wh.logo_box},J().createElement(M.Image,{className:Wh.logo,preview:!1,src:null===(s=(d=Zh.handles).resourceUrl)||void 0===s?void 0:s.call(d,g)}),J().createElement("div",{className:Wh.title},b+"\u5e73\u53f0\u767b\u5f55")),submitter:{searchConfig:{submitText:"\u8fdb\u5165"},submitButtonProps:{loading:B}},onFinish:async e=>{if(!O)return void M.message.warning("\u8bf7\u5148\u9009\u62e9\u9879\u76ee");const[t]=C.filter((e=>e._id===O));t.project_id?await X():T("initOrg")}},J().createElement("div",{style:{marginBottom:35},desc:"\u9009\u62e9\u4f01\u4e1a"},J().createElement("input",{style:{display:"none"}}),J().createElement(M.Button,{type:"text",icon:J().createElement(H.LeftOutlined,null),className:Wh.back_btn,onClick:e=>q()},"\u8fd4\u56de"),J().createElement(M.Row,{gutter:[10,10],style:{maxHeight:255,overflowY:"auto",padding:"10px 0"}},C.map(((e,t)=>{var n,o,l,a,i,r;return J().createElement(M.Col,{span:24,key:t},J().createElement("div",{className:Z()([Wh.project_box,O===e._id?Wh.active:""]),onClick:t=>P(e._id)},J().createElement(M.Space,null,J().createElement(M.Avatar,{size:40,shape:"square",src:null===(n=(o=Zh.handles).resourceUrl)||void 0===n?void 0:n.call(o,(null===(l=e.projectInfo)||void 0===l||null===(a=l.logo)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.url)||E)}),J().createElement("span",null,(null===(r=e.projectInfo)||void 0===r?void 0:r.name)||"\u672a\u52a0\u5165\u9879\u76ee")),J().createElement(H.ArrowRightOutlined,{style:{color:"#888888"}})))})),!C.length&&J().createElement(M.Col,{span:24},J().createElement(M.Empty,{image:M.Empty.PRESENTED_IMAGE_SIMPLE,description:"\u5c1a\u672a\u521b\u5efa / \u52a0\u5165\u9879\u76ee"}))))),"logined"===I&&J().createElement(G.LoginForm,{title:J().createElement("div",{className:Wh.logo_box,desc:"\u5df2\u767b\u5f55\uff0c\u8bf7\u8fdb\u5165"},J().createElement(M.Image,{className:Wh.logo,preview:!1,src:null===(u=(c=Zh.handles).resourceUrl)||void 0===u?void 0:u.call(c,(null===k||void 0===k||null===(m=k.avatar)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.url)||f)}),J().createElement("div",{className:Wh.title,style:{marginTop:0,fontSize:16}},(null===k||void 0===k?void 0:k.name)||k.mobile||"\u672a\u547d\u540d\u7528\u6237")),submitter:{searchConfig:{submitText:"\u8fdb\u5165"},submitButtonProps:{loading:B}},onFinish:async e=>{X()}},J().createElement("input",{style:{display:"none"}}),J().createElement(M.Button,{type:"text",icon:J().createElement(H.LeftOutlined,null),className:Wh.back_btn,onClick:e=>q()},"\u8fd4\u56de"),J().createElement("div",{style:{textAlign:"center",marginBottom:30}},"\u6b64\u8d26\u53f7\u6b63\u5728\u4f7f\u7528\u4e2d\uff0c\u8bf7\u76f4\u63a5\u8fdb\u5165")),"initOrg"===I&&J().createElement(G.LoginForm,{formRef:L,title:null,submitter:{searchConfig:{submitText:"create"===N?"\u521b\u5efa":"\u52a0\u5165"},submitButtonProps:{loading:B}},onFinish:async e=>{"create"===N?async function(e){V(!0),await Zh.xrequest.post("/api/core/platform/initProject",{...e||{},user_id:O})&&(M.message.success("\u521b\u5efa\u6210\u529f"),await X()),V(!1)}(e):async function(e){V(!0),await Zh.xrequest.post("/api/core/platform/joinProject",{user_id:O,project_id:null===e||void 0===e?void 0:e.project_id})&&(M.message.success("\u52a0\u5165\u6210\u529f"),await X()),V(!1)}(e)}},J().createElement("div",{desc:"\u521d\u59cb\u5316\u9879\u76ee",style:{marginBottom:20}},J().createElement("input",{style:{display:"none"}}),J().createElement(M.Button,{type:"text",icon:J().createElement(H.LeftOutlined,null),className:Wh.back_btn,onClick:e=>q()},"\u8fd4\u56de"),J().createElement("div",{style:{textAlign:"center",padding:"20px 0"}},J().createElement(M.Segmented,{options:[{label:"\u521b\u5efa\u9879\u76ee",value:"create"},{label:"\u52a0\u5165\u9879\u76ee",value:"join"}],size:"large",value:N,onChange:e=>A(e)})),"create"===N&&J().createElement(M.Row,{gutter:10},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u516c\u53f8\u540d\u79f0",name:"name",tooltip:"\u8bf7\u653e\u5fc3\u586b\u5199\u516c\u53f8\u540d\u79f0\uff0c\u6211\u4eec\u4e0d\u4f1a\u4e3b\u52a8\u6253\u6270\u60a8",validateTrigger:"onBlur",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"},{pattern:/^(?!.*(test|admin|\u6d4b\u8bd5|\u8bd5\u7528))([A-Za-z0-9\u4e00-\u9fa5]{5,})$/,message:"\u8bf7\u653e\u5fc3\u586b\u5199\u516c\u53f8\u540d\u79f0\uff0c\u6211\u4eec\u4e0d\u4f1a\u4e3b\u52a8\u6253\u6270\u60a8"}]},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}))),J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u884c\u4e1a\u5206\u7c7b",name:"classify",rules:[],initialValue:"\u5176\u5b83"},J().createElement(M.Select,{options:[{label:"\u5236\u9020\u884c\u4e1a"},{label:"\u5efa\u7b51\u884c\u4e1a"},{label:"\u96f6\u552e\u884c\u4e1a"},{label:"\u533b\u836f\u884c\u4e1a"},{label:"\u6559\u80b2\u884c\u4e1a"},{label:"\u670d\u52a1\u884c\u4e1a"},{label:"\u91d1\u878d\u884c\u4e1a"},{label:"\u653f\u5e9c\u516c\u76ca\u884c\u4e1a"},{label:"\u5176\u4ed6"}].map((e=>({label:e.label,value:e.label}))),placeholder:"\u8bf7\u9009\u62e9"})))),"join"===N&&J().createElement(M.Row,{gutter:10},J().createElement(M.Col,{span:24},J().createElement(M.Form.Item,{label:"\u9879\u76eeID",name:"project_id",tooltip:"\u8bf7\u54a8\u8be2\u9879\u76ee\u7ba1\u7406\u5458\u83b7\u53d6",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},J().createElement(M.Input,{placeholder:"\u8bf7\u8f93\u5165"})))))),"qrcode"===I&&J().createElement(G.LoginForm,{formRef:L,title:J().createElement("div",{className:Wh.logo_box},J().createElement("div",{className:Wh.title},"\u4e8c\u7ef4\u7801\u767b\u5f55 / \u6ce8\u518c")),submitter:{render:()=>null},onFinish:async e=>{}},J().createElement("div",{style:{marginBottom:20}},J().createElement(M.Button,{type:"text",icon:J().createElement(H.LeftOutlined,null),className:Wh.back_btn,onClick:e=>q()},"\u8fd4\u56de"),J().createElement(v.WxQrcode,{remark:"\u4f7f\u7528\u5fae\u4fe1\u626b\u7801\u767b\u5f55",success:async function(e){j({wx_openid:e})}}))))})),nx=tx,ox=window.__app__,lx=e=>{const t=["B","KB","MB","GB","TB"];let n=e,o=0;for(;n>=1024&&o<t.length-1;)n/=1024,o++;return"".concat(n.toFixed(2)," ").concat(t[o])};const ax=function(e){var t,n;e&&(console.log("\u4e0b\u8f7d\uff1a",e),function(e){const t=new XMLHttpRequest;t.open("GET",e),t.setRequestHeader("Accept","*/*"),t.responseType="blob",t.onload=()=>{const n=t.response,o=e.split("/").pop().split("?")[0]||"download.file";$i().saveAs(n,o)},t.send()}(e=null===(t=(n=ox.handles).resourceUrl)||void 0===t?void 0:t.call(n,e)))},ix=function(e){let{content:t,filename:n}=e;const o=new Blob([t],{type:"text/plain;charset=utf-8"});$i().saveAs(o,n||Date.now()+".txt")},rx=function(e){return new Promise(((t,n)=>{const o=new FileReader;o.onload=e=>{t(e.target.result)},o.readAsText(e)}))},sx=e=>{let{r:t,g:n,b:o,a:l}=e;const a=Math.round(t).toString(16).padStart(2,"0"),i=Math.round(n).toString(16).padStart(2,"0"),r=Math.round(o).toString(16).padStart(2,"0"),s=Math.round(255*l).toString(16).padStart(2,"0");return"#".concat(a).concat(i).concat(r).concat(s)},dx=window.__app__,ux=e=>{const t={"sa2n67hy3.hn-bkt.clouddn.com":"cdn.xituyun.com"},n=dx.getProjectPrefixPath(e);return(e=new URL(n,dx.serverURL).toString())&&"string"===typeof e&&Object.keys(t).forEach((n=>{e=e.replace(n,t[n])})),e},cx=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((n,o)=>{dx.get("datas.token")?n():"confirm"===e?M.Modal.confirm({title:t.title||"\u767b\u5f55\u63d0\u9192",content:t.content||"\u9700\u8981\u60a8\u5148\u767b\u5f55\u624d\u80fd\u8fdb\u884c\u8be5\u64cd\u4f5c",okText:t.okText||"\u53bb\u767b\u5f55",onOk(){o(),tologin()},onCancel(){o()}}):(o(),tologin())}))},mx=axios;var px=__webpack_require__.n(mx);const _x=window.__app__,vx=e=>{null===e||void 0===e||e.onError;return new Promise((async(t,n)=>{var o,l;const a=(null===(o=_x.get("contexts.app").projectInfo)||void 0===o?void 0:o.configs)||{},i=_x.get("plugins.plugin_qiniu_cdn_upload");("qiniu_cdn"===(null===(l=a.upload)||void 0===l?void 0:l.name)?i.uploadFileRequest(e):bx(e)).then(t).catch(n)}))},bx=e=>{const t=null===e||void 0===e?void 0:e.file,n=null===e||void 0===e?void 0:e.action,o=(null===e||void 0===e?void 0:e.headers)||{},l=(null===e||void 0===e?void 0:e.data)||{},a=(null===e||void 0===e||e.onProgress,null===e||void 0===e?void 0:e.onSuccess),i=null===e||void 0===e?void 0:e.onError;return new Promise((async(e,r)=>{var s,d;if(!t)return M.message.warning("\u65e0\u4e0a\u4f20\u6587\u4ef6"),void r();const u=new FormData;u.append("file",t),Object.keys(l).forEach((e=>{u.append(e,l[e])})),px().request({url:null===(s=(d=_x.handles).resourceUrl)||void 0===s?void 0:s.call(d,n||"/api/core/common/uploadFile"),method:"POST",headers:{...o,"xins-token":_x.get("datas.token"),"xins-project":_x.get("datas.project_id")},data:u}).then((t=>{var n,o,l;0===(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.errCode)?(null===a||void 0===a||a(null===t||void 0===t?void 0:t.data),e(null===t||void 0===t?void 0:t.data)):(M.message.error((null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.errMsg)||"\u4e0a\u4f20\u9519\u8bef"),null===i||void 0===i||i(Error((null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.errMsg)||"\u4e0a\u4f20\u9519\u8bef"),null===t||void 0===t?void 0:t.data),r())})).catch((e=>{var t,n;M.message.error((null===(t=res)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.errMsg)||"\u4e0a\u4f20\u9519\u8bef"),null===i||void 0===i||i(Error((null===e||void 0===e?void 0:e.message)||"\u4e0a\u4f20\u9519\u8bef"),e),r()}))}))},fx=window.__app__,Ex=()=>({React:J(),reactRouterDOM:Wt,antd:M,antdIcons:H,axios:px(),echarts:xb,dayjs:re(),lodash:te(),app:fx,history:fx.history,apis:fx.apis}),gx={...y,...h,...x,...w,...I},yx=function(e){var t,n;const o=e.contexts.app,{Image:l,Space:a}=e.contexts.antd;return Boolean(((null===(t=e.data)||void 0===t?void 0:t.value)||[]).length)?React.createElement(a,null,((null===(n=e.data)||void 0===n?void 0:n.value)||[]).slice(0,1).map(((e,t)=>{var n,a;return React.createElement(l,{key:t,style:{width:50,height:50},src:null===(n=(a=o.handles).resourceUrl)||void 0===n?void 0:n.call(a,e.data.url)})}))):"-"},hx={common:T},xx="\u7a00\u571f\u667a\u6167\u4e91",wx={asset:C,menuList:[]},Ix={name:"\u793a\u4f8b\u6570\u636e",description:"\u7528\u4e8e\u4e8c\u6b21\u5f00\u53d1\u65f6\uff0c\u901a\u8fc7\u4ee3\u7801\u6269\u5c55\u901a\u7528\u6570\u636e\u3002",paperMap:{a4:{width:210,height:297},a5:{width:148,height:210}}},Tx=JSON.parse(JSON.stringify({...S,eam:wx})),Cx=window.__app__,Sx=new D;Cx.use({name:O.UU,version:O.rE,handles:{...gx,...hx},datas:e=>(e.commonData={...e.commonData||{},...Tx||{}},e),modules:n=>(n.NoMatch=Sh,n.Login=Nh,n.ScreenView=Lh,n.CustomMenuScreenView=Bh,n.formEditor=u,n.screenEditor=p,n.reportEditor=f,n.nocodeEditor=E,n.components||(n.components={}),n.components.basicCommon=K,n.components.basicWork=e,n.components.basicForm=t,n.components.workCommon=g,n),contexts:{app:Sx},hooks:{useStateWithRef:Vh,useWindowResize:Uh}})})()})();